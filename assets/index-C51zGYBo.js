(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Vf={exports:{}},Yr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function LT(){if(ly)return Yr;ly=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(l,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:a,type:l,key:d,ref:o!==void 0?o:null,props:h}}return Yr.Fragment=e,Yr.jsx=i,Yr.jsxs=i,Yr}var ry;function UT(){return ry||(ry=1,Vf.exports=LT()),Vf.exports}var et=UT(),Nf={exports:{}},Ht={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function zT(){if(oy)return Ht;oy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),D=Symbol.iterator;function V(C){return C===null||typeof C!="object"?null:(C=D&&C[D]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,tt={};function H(C,J,dt){this.props=C,this.context=J,this.refs=tt,this.updater=dt||j}H.prototype.isReactComponent={},H.prototype.setState=function(C,J){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,J,"setState")},H.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function at(){}at.prototype=H.prototype;function lt(C,J,dt){this.props=C,this.context=J,this.refs=tt,this.updater=dt||j}var ct=lt.prototype=new at;ct.constructor=lt,X(ct,H.prototype),ct.isPureReactComponent=!0;var Nt=Array.isArray,vt={H:null,A:null,T:null,S:null,V:null},Et=Object.prototype.hasOwnProperty;function N(C,J,dt,st,St,Ut){return dt=Ut.ref,{$$typeof:a,type:C,key:J,ref:dt!==void 0?dt:null,props:Ut}}function A(C,J){return N(C.type,J,void 0,void 0,void 0,C.props)}function R(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function b(C){var J={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(dt){return J[dt]})}var x=/\/+/g;function M(C,J){return typeof C=="object"&&C!==null&&C.key!=null?b(""+C.key):J.toString(36)}function I(){}function be(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(I,I):(C.status="pending",C.then(function(J){C.status==="pending"&&(C.status="fulfilled",C.value=J)},function(J){C.status==="pending"&&(C.status="rejected",C.reason=J)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function _e(C,J,dt,st,St){var Ut=typeof C;(Ut==="undefined"||Ut==="boolean")&&(C=null);var wt=!1;if(C===null)wt=!0;else switch(Ut){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(C.$$typeof){case a:case e:wt=!0;break;case S:return wt=C._init,_e(wt(C._payload),J,dt,st,St)}}if(wt)return St=St(C),wt=st===""?"."+M(C,0):st,Nt(St)?(dt="",wt!=null&&(dt=wt.replace(x,"$&/")+"/"),_e(St,J,dt,"",function(Tt){return Tt})):St!=null&&(R(St)&&(St=A(St,dt+(St.key==null||C&&C.key===St.key?"":(""+St.key).replace(x,"$&/")+"/")+wt)),J.push(St)),1;wt=0;var ve=st===""?".":st+":";if(Nt(C))for(var re=0;re<C.length;re++)st=C[re],Ut=ve+M(st,re),wt+=_e(st,J,dt,Ut,St);else if(re=V(C),typeof re=="function")for(C=re.call(C),re=0;!(st=C.next()).done;)st=st.value,Ut=ve+M(st,re++),wt+=_e(st,J,dt,Ut,St);else if(Ut==="object"){if(typeof C.then=="function")return _e(be(C),J,dt,st,St);throw J=String(C),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return wt}function Q(C,J,dt){if(C==null)return C;var st=[],St=0;return _e(C,st,"","",function(Ut){return J.call(dt,Ut,St++)}),st}function ot(C){if(C._status===-1){var J=C._result;J=J(),J.then(function(dt){(C._status===0||C._status===-1)&&(C._status=1,C._result=dt)},function(dt){(C._status===0||C._status===-1)&&(C._status=2,C._result=dt)}),C._status===-1&&(C._status=0,C._result=J)}if(C._status===1)return C._result.default;throw C._result}var _t=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function It(){}return Ht.Children={map:Q,forEach:function(C,J,dt){Q(C,function(){J.apply(this,arguments)},dt)},count:function(C){var J=0;return Q(C,function(){J++}),J},toArray:function(C){return Q(C,function(J){return J})||[]},only:function(C){if(!R(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Ht.Component=H,Ht.Fragment=i,Ht.Profiler=o,Ht.PureComponent=lt,Ht.StrictMode=l,Ht.Suspense=v,Ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,Ht.__COMPILER_RUNTIME={__proto__:null,c:function(C){return vt.H.useMemoCache(C)}},Ht.cache=function(C){return function(){return C.apply(null,arguments)}},Ht.cloneElement=function(C,J,dt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var st=X({},C.props),St=C.key,Ut=void 0;if(J!=null)for(wt in J.ref!==void 0&&(Ut=void 0),J.key!==void 0&&(St=""+J.key),J)!Et.call(J,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&J.ref===void 0||(st[wt]=J[wt]);var wt=arguments.length-2;if(wt===1)st.children=dt;else if(1<wt){for(var ve=Array(wt),re=0;re<wt;re++)ve[re]=arguments[re+2];st.children=ve}return N(C.type,St,void 0,void 0,Ut,st)},Ht.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},Ht.createElement=function(C,J,dt){var st,St={},Ut=null;if(J!=null)for(st in J.key!==void 0&&(Ut=""+J.key),J)Et.call(J,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(St[st]=J[st]);var wt=arguments.length-2;if(wt===1)St.children=dt;else if(1<wt){for(var ve=Array(wt),re=0;re<wt;re++)ve[re]=arguments[re+2];St.children=ve}if(C&&C.defaultProps)for(st in wt=C.defaultProps,wt)St[st]===void 0&&(St[st]=wt[st]);return N(C,Ut,void 0,void 0,null,St)},Ht.createRef=function(){return{current:null}},Ht.forwardRef=function(C){return{$$typeof:g,render:C}},Ht.isValidElement=R,Ht.lazy=function(C){return{$$typeof:S,_payload:{_status:-1,_result:C},_init:ot}},Ht.memo=function(C,J){return{$$typeof:_,type:C,compare:J===void 0?null:J}},Ht.startTransition=function(C){var J=vt.T,dt={};vt.T=dt;try{var st=C(),St=vt.S;St!==null&&St(dt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(It,_t)}catch(Ut){_t(Ut)}finally{vt.T=J}},Ht.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},Ht.use=function(C){return vt.H.use(C)},Ht.useActionState=function(C,J,dt){return vt.H.useActionState(C,J,dt)},Ht.useCallback=function(C,J){return vt.H.useCallback(C,J)},Ht.useContext=function(C){return vt.H.useContext(C)},Ht.useDebugValue=function(){},Ht.useDeferredValue=function(C,J){return vt.H.useDeferredValue(C,J)},Ht.useEffect=function(C,J,dt){var st=vt.H;if(typeof dt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return st.useEffect(C,J)},Ht.useId=function(){return vt.H.useId()},Ht.useImperativeHandle=function(C,J,dt){return vt.H.useImperativeHandle(C,J,dt)},Ht.useInsertionEffect=function(C,J){return vt.H.useInsertionEffect(C,J)},Ht.useLayoutEffect=function(C,J){return vt.H.useLayoutEffect(C,J)},Ht.useMemo=function(C,J){return vt.H.useMemo(C,J)},Ht.useOptimistic=function(C,J){return vt.H.useOptimistic(C,J)},Ht.useReducer=function(C,J,dt){return vt.H.useReducer(C,J,dt)},Ht.useRef=function(C){return vt.H.useRef(C)},Ht.useState=function(C){return vt.H.useState(C)},Ht.useSyncExternalStore=function(C,J,dt){return vt.H.useSyncExternalStore(C,J,dt)},Ht.useTransition=function(){return vt.H.useTransition()},Ht.version="19.1.1",Ht}var uy;function dd(){return uy||(uy=1,Nf.exports=zT()),Nf.exports}var mt=dd(),xf={exports:{}},Fr={},Of={exports:{}},Mf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function PT(){return cy||(cy=1,function(a){function e(Q,ot){var _t=Q.length;Q.push(ot);t:for(;0<_t;){var It=_t-1>>>1,C=Q[It];if(0<o(C,ot))Q[It]=ot,Q[_t]=C,_t=It;else break t}}function i(Q){return Q.length===0?null:Q[0]}function l(Q){if(Q.length===0)return null;var ot=Q[0],_t=Q.pop();if(_t!==ot){Q[0]=_t;t:for(var It=0,C=Q.length,J=C>>>1;It<J;){var dt=2*(It+1)-1,st=Q[dt],St=dt+1,Ut=Q[St];if(0>o(st,_t))St<C&&0>o(Ut,st)?(Q[It]=Ut,Q[St]=_t,It=St):(Q[It]=st,Q[dt]=_t,It=dt);else if(St<C&&0>o(Ut,_t))Q[It]=Ut,Q[St]=_t,It=St;else break t}}return ot}function o(Q,ot){var _t=Q.sortIndex-ot.sortIndex;return _t!==0?_t:Q.id-ot.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var v=[],_=[],S=1,D=null,V=3,j=!1,X=!1,tt=!1,H=!1,at=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function Nt(Q){for(var ot=i(_);ot!==null;){if(ot.callback===null)l(_);else if(ot.startTime<=Q)l(_),ot.sortIndex=ot.expirationTime,e(v,ot);else break;ot=i(_)}}function vt(Q){if(tt=!1,Nt(Q),!X)if(i(v)!==null)X=!0,Et||(Et=!0,M());else{var ot=i(_);ot!==null&&_e(vt,ot.startTime-Q)}}var Et=!1,N=-1,A=5,R=-1;function b(){return H?!0:!(a.unstable_now()-R<A)}function x(){if(H=!1,Et){var Q=a.unstable_now();R=Q;var ot=!0;try{t:{X=!1,tt&&(tt=!1,lt(N),N=-1),j=!0;var _t=V;try{e:{for(Nt(Q),D=i(v);D!==null&&!(D.expirationTime>Q&&b());){var It=D.callback;if(typeof It=="function"){D.callback=null,V=D.priorityLevel;var C=It(D.expirationTime<=Q);if(Q=a.unstable_now(),typeof C=="function"){D.callback=C,Nt(Q),ot=!0;break e}D===i(v)&&l(v),Nt(Q)}else l(v);D=i(v)}if(D!==null)ot=!0;else{var J=i(_);J!==null&&_e(vt,J.startTime-Q),ot=!1}}break t}finally{D=null,V=_t,j=!1}ot=void 0}}finally{ot?M():Et=!1}}}var M;if(typeof ct=="function")M=function(){ct(x)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,be=I.port2;I.port1.onmessage=x,M=function(){be.postMessage(null)}}else M=function(){at(x,0)};function _e(Q,ot){N=at(function(){Q(a.unstable_now())},ot)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Q){Q.callback=null},a.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},a.unstable_getCurrentPriorityLevel=function(){return V},a.unstable_next=function(Q){switch(V){case 1:case 2:case 3:var ot=3;break;default:ot=V}var _t=V;V=ot;try{return Q()}finally{V=_t}},a.unstable_requestPaint=function(){H=!0},a.unstable_runWithPriority=function(Q,ot){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var _t=V;V=Q;try{return ot()}finally{V=_t}},a.unstable_scheduleCallback=function(Q,ot,_t){var It=a.unstable_now();switch(typeof _t=="object"&&_t!==null?(_t=_t.delay,_t=typeof _t=="number"&&0<_t?It+_t:It):_t=It,Q){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=_t+C,Q={id:S++,callback:ot,priorityLevel:Q,startTime:_t,expirationTime:C,sortIndex:-1},_t>It?(Q.sortIndex=_t,e(_,Q),i(v)===null&&Q===i(_)&&(tt?(lt(N),N=-1):tt=!0,_e(vt,_t-It))):(Q.sortIndex=C,e(v,Q),X||j||(X=!0,Et||(Et=!0,M()))),Q},a.unstable_shouldYield=b,a.unstable_wrapCallback=function(Q){var ot=V;return function(){var _t=V;V=ot;try{return Q.apply(this,arguments)}finally{V=_t}}}}(Mf)),Mf}var hy;function BT(){return hy||(hy=1,Of.exports=PT()),Of.exports}var Lf={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function kT(){if(fy)return An;fy=1;var a=dd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,S){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:D==null?null:""+D,children:v,containerInfo:_,implementation:S}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,An.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,S)},An.flushSync=function(v){var _=d.T,S=l.p;try{if(d.T=null,l.p=2,v)return v()}finally{d.T=_,l.p=S,l.d.f()}},An.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,l.d.C(v,_))},An.prefetchDNS=function(v){typeof v=="string"&&l.d.D(v)},An.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,D=g(S,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,j=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?l.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:D,integrity:V,fetchPriority:j}):S==="script"&&l.d.X(v,{crossOrigin:D,integrity:V,fetchPriority:j,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},An.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=g(_.as,_.crossOrigin);l.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&l.d.M(v)},An.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,D=g(S,_.crossOrigin);l.d.L(v,S,{crossOrigin:D,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},An.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=g(_.as,_.crossOrigin);l.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else l.d.m(v)},An.requestFormReset=function(v){l.d.r(v)},An.unstable_batchedUpdates=function(v,_){return v(_)},An.useFormState=function(v,_,S){return d.H.useFormState(v,_,S)},An.useFormStatus=function(){return d.H.useHostTransitionStatus()},An.version="19.1.1",An}var dy;function jT(){if(dy)return Lf.exports;dy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Lf.exports=kT(),Lf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function qT(){if(my)return Fr;my=1;var a=BT(),e=dd(),i=jT();function l(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(l(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(l(188));return n!==t?null:t}for(var s=t,r=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(r=c.return,r!==null){s=r;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return g(c),t;if(f===r)return g(c),n;f=f.sibling}throw Error(l(188))}if(s.return!==r.return)s=c,r=f;else{for(var y=!1,T=c.child;T;){if(T===s){y=!0,s=c,r=f;break}if(T===r){y=!0,r=c,s=f;break}T=T.sibling}if(!y){for(T=f.child;T;){if(T===s){y=!0,s=f,r=c;break}if(T===r){y=!0,r=f,s=c;break}T=T.sibling}if(!y)throw Error(l(189))}}if(s.alternate!==r)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),at=Symbol.for("react.provider"),lt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),Nt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),Et=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),b=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function be(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case H:return"Profiler";case tt:return"StrictMode";case vt:return"Suspense";case Et:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case ct:return(t.displayName||"Context")+".Provider";case lt:return(t._context.displayName||"Context")+".Consumer";case Nt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:be(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return be(t(n))}catch{}}return null}var _e=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_t={pending:!1,data:null,method:null,action:null},It=[],C=-1;function J(t){return{current:t}}function dt(t){0>C||(t.current=It[C],It[C]=null,C--)}function st(t,n){C++,It[C]=t.current,t.current=n}var St=J(null),Ut=J(null),wt=J(null),ve=J(null);function re(t,n){switch(st(wt,n),st(Ut,t),st(St,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Mp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Mp(n),t=Lp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}dt(St),st(St,t)}function Tt(){dt(St),dt(Ut),dt(wt)}function jt(t){t.memoizedState!==null&&st(ve,t);var n=St.current,s=Lp(n,t.type);n!==s&&(st(Ut,t),st(St,s))}function zt(t){Ut.current===t&&(dt(St),dt(Ut)),ve.current===t&&(dt(ve),jr._currentValue=_t)}var qt=Object.prototype.hasOwnProperty,Ce=a.unstable_scheduleCallback,Zt=a.unstable_cancelCallback,Ve=a.unstable_shouldYield,ke=a.unstable_requestPaint,je=a.unstable_now,vn=a.unstable_getCurrentPriorityLevel,wn=a.unstable_ImmediatePriority,Nn=a.unstable_UserBlockingPriority,zn=a.unstable_NormalPriority,hs=a.unstable_LowPriority,ri=a.unstable_IdlePriority,fs=a.log,za=a.unstable_setDisableYieldValue,Re=null,ae=null;function Tn(t){if(typeof fs=="function"&&za(t),ae&&typeof ae.setStrictMode=="function")try{ae.setStrictMode(Re,t)}catch{}}var sn=Math.clz32?Math.clz32:L,Pa=Math.log,Ql=Math.LN2;function L(t){return t>>>=0,t===0?32:31-(Pa(t)/Ql|0)|0}var F=256,rt=4194304;function it(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Rt(t,n,s){var r=t.pendingLanes;if(r===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var T=r&134217727;return T!==0?(r=T&~f,r!==0?c=it(r):(y&=T,y!==0?c=it(y):s||(s=T&~t,s!==0&&(c=it(s))))):(T=r&~f,T!==0?c=it(T):y!==0?c=it(y):s||(s=r&~t,s!==0&&(c=it(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function ht(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function z(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ut(){var t=F;return F<<=1,(F&4194048)===0&&(F=256),t}function Pt(){var t=rt;return rt<<=1,(rt&62914560)===0&&(rt=4194304),t}function we(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function ne(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ce(t,n,s,r,c,f){var y=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,w=t.expirationTimes,k=t.hiddenUpdates;for(s=y&~s;0<s;){var K=31-sn(s),$=1<<K;T[K]=0,w[K]=-1;var q=k[K];if(q!==null)for(k[K]=null,K=0;K<q.length;K++){var G=q[K];G!==null&&(G.lane&=-536870913)}s&=~$}r!==0&&pt(t,r,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function pt(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var r=31-sn(n);t.entangledLanes|=n,t.entanglements[r]=t.entanglements[r]|1073741824|s&4194090}function Ct(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var r=31-sn(s),c=1<<r;c&n|t[r]&n&&(t[r]|=n),s&=~c}}function oi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ke(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Te(){var t=ot.p;return t!==0?t:(t=window.event,t===void 0?32:ty(t.type))}function vo(t,n){var s=ot.p;try{return ot.p=t,n()}finally{ot.p=s}}var Ie=Math.random().toString(36).slice(2),Ze="__reactFiber$"+Ie,qe="__reactProps$"+Ie,Fn="__reactContainer$"+Ie,Yl="__reactEvents$"+Ie,xc="__reactListeners$"+Ie,ds="__reactHandles$"+Ie,To="__reactResources$"+Ie,ta="__reactMarker$"+Ie;function ms(t){delete t[Ze],delete t[qe],delete t[Yl],delete t[xc],delete t[ds]}function Bi(t){var n=t[Ze];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Fn]||s[Ze]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Bp(t);t!==null;){if(s=t[Ze])return s;t=Bp(t)}return n}t=s,s=t.parentNode}return null}function mi(t){if(t=t[Ze]||t[Fn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function gi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(l(33))}function In(t){var n=t[To];return n||(n=t[To]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ue(t){t[ta]=!0}var Fl=new Set,Ba={};function ui(t,n){ki(t,n),ki(t+"Capture",n)}function ki(t,n){for(Ba[t]=n,t=0;t<n.length;t++)Fl.add(n[t])}var Eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ao={},ea={};function So(t){return qt.call(ea,t)?!0:qt.call(Ao,t)?!1:Eo.test(t)?ea[t]=!0:(Ao[t]=!0,!1)}function gs(t,n,s){if(So(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var r=n.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function pi(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function hn(t,n,s,r){if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+r)}}var na,bo;function ji(t){if(na===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);na=n&&n[1]||"",bo=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+na+t+bo}var ka=!1;function ja(t,n){if(!t||ka)return"";ka=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(G){var q=G}Reflect.construct(t,[],$)}else{try{$.call()}catch(G){q=G}t.call($.prototype)}}else{try{throw Error()}catch(G){q=G}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),y=f[0],T=f[1];if(y&&T){var w=y.split(`
`),k=T.split(`
`);for(c=r=0;r<w.length&&!w[r].includes("DetermineComponentFrameRoot");)r++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(r===w.length||c===k.length)for(r=w.length-1,c=k.length-1;1<=r&&0<=c&&w[r]!==k[c];)c--;for(;1<=r&&0<=c;r--,c--)if(w[r]!==k[c]){if(r!==1||c!==1)do if(r--,c--,0>c||w[r]!==k[c]){var K=`
`+w[r].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=r&&0<=c);break}}}finally{ka=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ji(s):""}function Xl(t){switch(t.tag){case 26:case 27:case 5:return ji(t.type);case 16:return ji("Lazy");case 13:return ji("Suspense");case 19:return ji("SuspenseList");case 0:case 15:return ja(t.type,!1);case 11:return ja(t.type.render,!1);case 1:return ja(t.type,!0);case 31:return ji("Activity");default:return""}}function qa(t){try{var n="";do n+=Xl(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Dn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Kl(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Oc(t){var n=Kl(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),r=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){r=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ha(t){t._valueTracker||(t._valueTracker=Oc(t))}function Zl(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),r="";return t&&(r=Kl(t)?t.checked?"true":"false":t.value),t=r,t!==s?(n.setValue(t),!0):!1}function ia(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Mc=/[\n"\\]/g;function He(t){return t.replace(Mc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Pn(t,n,s,r,c,f,y,T){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Dn(n)):t.value!==""+Dn(n)&&(t.value=""+Dn(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?ps(t,y,Dn(n)):s!=null?ps(t,y,Dn(s)):r!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Dn(T):t.removeAttribute("name")}function sa(t,n,s,r,c,f,y,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;s=s!=null?""+Dn(s):"",n=n!=null?""+Dn(n):s,T||n===t.value||(t.value=n),t.defaultValue=n}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=T?t.checked:!!r,t.defaultChecked=!!r,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function ps(t,n,s){n==="number"&&ia(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function qi(t,n,s,r){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&r&&(t[s].defaultSelected=!0)}else{for(s=""+Dn(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,r&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function de(t,n,s){if(n!=null&&(n=""+Dn(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Dn(s):""}function aa(t,n,s,r){if(n==null){if(r!=null){if(s!=null)throw Error(l(92));if(_e(r)){if(1<r.length)throw Error(l(93));r=r[0]}s=r}s==null&&(s=""),n=s}s=Dn(n),t.defaultValue=s,r=t.textContent,r===s&&r!==""&&r!==null&&(t.value=r)}function Xn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var la=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ro(t,n,s){var r=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":r?t.setProperty(n,s):typeof s!="number"||s===0||la.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Jl(t,n,s){if(n!=null&&typeof n!="object")throw Error(l(62));if(t=t.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||n!=null&&n.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var c in n)r=n[c],n.hasOwnProperty(c)&&s[c]!==r&&Ro(t,c,r)}else for(var f in n)n.hasOwnProperty(f)&&Ro(t,f,n[f])}function $l(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ga(t){return Uc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Hi=null;function Kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gi=null,Qi=null;function Wl(t){var n=mi(t);if(n&&(t=n.stateNode)){var s=t[qe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Pn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+He(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var r=s[n];if(r!==t&&r.form===t.form){var c=r[qe]||null;if(!c)throw Error(l(90));Pn(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)r=s[n],r.form===t.form&&Zl(r)}break t;case"textarea":de(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&qi(t,!!s.multiple,n,!1)}}}var yi=!1;function wo(t,n,s){if(yi)return t(n,s);yi=!0;try{var r=t(n);return r}finally{if(yi=!1,(Gi!==null||Qi!==null)&&(vu(),Gi&&(n=Gi,t=Qi,Qi=Gi=null,Wl(n),t)))for(n=0;n<t.length;n++)Wl(t[n])}}function ra(t,n){var s=t.stateNode;if(s===null)return null;var r=s[qe]||null;if(r===null)return null;s=r[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(l(231,n,typeof s));return s}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zn=!1;if(ci)try{var oa={};Object.defineProperty(oa,"passive",{get:function(){Zn=!0}}),window.addEventListener("test",oa,oa),window.removeEventListener("test",oa,oa)}catch{Zn=!1}var _i=null,ys=null,Yi=null;function tr(){if(Yi)return Yi;var t,n=ys,s=n.length,r,c="value"in _i?_i.value:_i.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var y=s-t;for(r=1;r<=y&&n[s-r]===c[f-r];r++);return Yi=c.slice(t,1<r?1-r:void 0)}function vi(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ti(){return!0}function er(){return!1}function an(t){function n(s,r,c,f,y){this._reactName=s,this._targetInst=c,this.type=r,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ti:er,this.isPropagationStopped=er,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),n}var oe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qa=an(oe),ua=S({},oe,{view:0,detail:0}),Io=an(ua),Ya,Fa,Ei,ca=S({},ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:da,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(Ya=t.screenX-Ei.screenX,Fa=t.screenY-Ei.screenY):Fa=Ya=0,Ei=t),Ya)},movementY:function(t){return"movementY"in t?t.movementY:Fa}}),Jn=an(ca),Do=S({},ca,{dataTransfer:0}),zc=an(Do),ha=S({},ua,{relatedTarget:0}),Xa=an(ha),nr=S({},oe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ka=an(nr),Co=S({},oe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Za=an(Co),Pc=S({},oe,{data:0}),ir=an(Pc),fa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},No={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sr(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=No[t])?!!n[t]:!1}function da(){return sr}var xo=S({},ua,{key:function(t){if(t.key){var n=fa[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=vi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:da,charCode:function(t){return t.type==="keypress"?vi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ja=an(xo),Oo=S({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ar=an(Oo),Fi=S({},ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:da}),Mo=an(Fi),Lo=S({},oe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uo=an(Lo),zo=S({},ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$a=an(zo),Cn=S({},oe,{newState:0,oldState:0}),Po=an(Cn),Bo=[9,13,27,32],Ai=ci&&"CompositionEvent"in window,u=null;ci&&"documentMode"in document&&(u=document.documentMode);var m=ci&&"TextEvent"in window&&!u,p=ci&&(!Ai||u&&8<u&&11>=u),E=" ",P=!1;function Y(t,n){switch(t){case"keyup":return Bo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ft(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Jt=!1;function Je(t,n){switch(t){case"compositionend":return ft(n);case"keypress":return n.which!==32?null:(P=!0,E);case"textInput":return t=n.data,t===E&&P?null:t;default:return null}}function $t(t,n){if(Jt)return t==="compositionend"||!Ai&&Y(t,n)?(t=tr(),Yi=ys=_i=null,Jt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $e(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!ln[t.type]:n==="textarea"}function Xi(t,n,s,r){Gi?Qi?Qi.push(r):Qi=[r]:Gi=r,n=Ru(n,"onChange"),0<n.length&&(s=new Qa("onChange","change",null,s,r),t.push({event:s,listeners:n}))}var fn=null,Si=null;function lr(t){Cp(t,0)}function ko(t){var n=gi(t);if(Zl(n))return t}function Zd(t,n){if(t==="change")return n}var Jd=!1;if(ci){var Bc;if(ci){var kc="oninput"in document;if(!kc){var $d=document.createElement("div");$d.setAttribute("oninput","return;"),kc=typeof $d.oninput=="function"}Bc=kc}else Bc=!1;Jd=Bc&&(!document.documentMode||9<document.documentMode)}function Wd(){fn&&(fn.detachEvent("onpropertychange",tm),Si=fn=null)}function tm(t){if(t.propertyName==="value"&&ko(Si)){var n=[];Xi(n,Si,t,Kn(t)),wo(lr,n)}}function h0(t,n,s){t==="focusin"?(Wd(),fn=n,Si=s,fn.attachEvent("onpropertychange",tm)):t==="focusout"&&Wd()}function f0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ko(Si)}function d0(t,n){if(t==="click")return ko(n)}function m0(t,n){if(t==="input"||t==="change")return ko(n)}function g0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Bn=typeof Object.is=="function"?Object.is:g0;function rr(t,n){if(Bn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),r=Object.keys(n);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var c=s[r];if(!qt.call(n,c)||!Bn(t[c],n[c]))return!1}return!0}function em(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nm(t,n){var s=em(t);t=0;for(var r;s;){if(s.nodeType===3){if(r=t+s.textContent.length,t<=n&&r>=n)return{node:s,offset:n-t};t=r}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=em(s)}}function im(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?im(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function sm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ia(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=ia(t.document)}return n}function jc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var p0=ci&&"documentMode"in document&&11>=document.documentMode,Wa=null,qc=null,or=null,Hc=!1;function am(t,n,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Hc||Wa==null||Wa!==ia(r)||(r=Wa,"selectionStart"in r&&jc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),or&&rr(or,r)||(or=r,r=Ru(qc,"onSelect"),0<r.length&&(n=new Qa("onSelect","select",null,n,s),t.push({event:n,listeners:r}),n.target=Wa)))}function ma(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var tl={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},Gc={},lm={};ci&&(lm=document.createElement("div").style,"AnimationEvent"in window||(delete tl.animationend.animation,delete tl.animationiteration.animation,delete tl.animationstart.animation),"TransitionEvent"in window||delete tl.transitionend.transition);function ga(t){if(Gc[t])return Gc[t];if(!tl[t])return t;var n=tl[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in lm)return Gc[t]=n[s];return t}var rm=ga("animationend"),om=ga("animationiteration"),um=ga("animationstart"),y0=ga("transitionrun"),_0=ga("transitionstart"),v0=ga("transitioncancel"),cm=ga("transitionend"),hm=new Map,Qc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qc.push("scrollEnd");function hi(t,n){hm.set(t,n),ui(n,[t])}var fm=new WeakMap;function $n(t,n){if(typeof t=="object"&&t!==null){var s=fm.get(t);return s!==void 0?s:(n={value:t,source:n,stack:qa(n)},fm.set(t,n),n)}return{value:t,source:n,stack:qa(n)}}var Wn=[],el=0,Yc=0;function jo(){for(var t=el,n=Yc=el=0;n<t;){var s=Wn[n];Wn[n++]=null;var r=Wn[n];Wn[n++]=null;var c=Wn[n];Wn[n++]=null;var f=Wn[n];if(Wn[n++]=null,r!==null&&c!==null){var y=r.pending;y===null?c.next=c:(c.next=y.next,y.next=c),r.pending=c}f!==0&&dm(s,c,f)}}function qo(t,n,s,r){Wn[el++]=t,Wn[el++]=n,Wn[el++]=s,Wn[el++]=r,Yc|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Fc(t,n,s,r){return qo(t,n,s,r),Ho(t)}function nl(t,n){return qo(t,null,null,n),Ho(t)}function dm(t,n,s){t.lanes|=s;var r=t.alternate;r!==null&&(r.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,r=f.alternate,r!==null&&(r.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-sn(s),t=f.hiddenUpdates,r=t[c],r===null?t[c]=[n]:r.push(n),n.lane=s|536870912),f):null}function Ho(t){if(50<Or)throw Or=0,Wh=null,Error(l(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var il={};function T0(t,n,s,r){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,n,s,r){return new T0(t,n,s,r)}function Xc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ki(t,n){var s=t.alternate;return s===null?(s=kn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function mm(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Go(t,n,s,r,c,f){var y=0;if(r=t,typeof t=="function")Xc(t)&&(y=1);else if(typeof t=="string")y=AT(t,s,St.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=kn(31,s,n,c),t.elementType=R,t.lanes=f,t;case X:return pa(s.children,c,f,n);case tt:y=8,c|=24;break;case H:return t=kn(12,s,n,c|2),t.elementType=H,t.lanes=f,t;case vt:return t=kn(13,s,n,c),t.elementType=vt,t.lanes=f,t;case Et:return t=kn(19,s,n,c),t.elementType=Et,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case at:case ct:y=10;break t;case lt:y=9;break t;case Nt:y=11;break t;case N:y=14;break t;case A:y=16,r=null;break t}y=29,s=Error(l(130,t===null?"null":typeof t,"")),r=null}return n=kn(y,s,n,c),n.elementType=t,n.type=r,n.lanes=f,n}function pa(t,n,s,r){return t=kn(7,t,r,n),t.lanes=s,t}function Kc(t,n,s){return t=kn(6,t,null,n),t.lanes=s,t}function Zc(t,n,s){return n=kn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var sl=[],al=0,Qo=null,Yo=0,ti=[],ei=0,ya=null,Zi=1,Ji="";function _a(t,n){sl[al++]=Yo,sl[al++]=Qo,Qo=t,Yo=n}function gm(t,n,s){ti[ei++]=Zi,ti[ei++]=Ji,ti[ei++]=ya,ya=t;var r=Zi;t=Ji;var c=32-sn(r)-1;r&=~(1<<c),s+=1;var f=32-sn(n)+c;if(30<f){var y=c-c%5;f=(r&(1<<y)-1).toString(32),r>>=y,c-=y,Zi=1<<32-sn(n)+c|s<<c|r,Ji=f+t}else Zi=1<<f|s<<c|r,Ji=t}function Jc(t){t.return!==null&&(_a(t,1),gm(t,1,0))}function $c(t){for(;t===Qo;)Qo=sl[--al],sl[al]=null,Yo=sl[--al],sl[al]=null;for(;t===ya;)ya=ti[--ei],ti[ei]=null,Ji=ti[--ei],ti[ei]=null,Zi=ti[--ei],ti[ei]=null}var Vn=null,Oe=null,le=!1,va=null,bi=!1,Wc=Error(l(519));function Ta(t){var n=Error(l(418,""));throw hr($n(n,t)),Wc}function pm(t){var n=t.stateNode,s=t.type,r=t.memoizedProps;switch(n[Ze]=t,n[qe]=r,s){case"dialog":Ft("cancel",n),Ft("close",n);break;case"iframe":case"object":case"embed":Ft("load",n);break;case"video":case"audio":for(s=0;s<Lr.length;s++)Ft(Lr[s],n);break;case"source":Ft("error",n);break;case"img":case"image":case"link":Ft("error",n),Ft("load",n);break;case"details":Ft("toggle",n);break;case"input":Ft("invalid",n),sa(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Ha(n);break;case"select":Ft("invalid",n);break;case"textarea":Ft("invalid",n),aa(n,r.value,r.defaultValue,r.children),Ha(n)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||r.suppressHydrationWarning===!0||Op(n.textContent,s)?(r.popover!=null&&(Ft("beforetoggle",n),Ft("toggle",n)),r.onScroll!=null&&Ft("scroll",n),r.onScrollEnd!=null&&Ft("scrollend",n),r.onClick!=null&&(n.onclick=wu),n=!0):n=!1,n||Ta(t)}function ym(t){for(Vn=t.return;Vn;)switch(Vn.tag){case 5:case 13:bi=!1;return;case 27:case 3:bi=!0;return;default:Vn=Vn.return}}function ur(t){if(t!==Vn)return!1;if(!le)return ym(t),le=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||pf(t.type,t.memoizedProps)),s=!s),s&&Oe&&Ta(t),ym(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){Oe=di(t.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}Oe=null}}else n===27?(n=Oe,Os(t.type)?(t=Tf,Tf=null,Oe=t):Oe=n):Oe=Vn?di(t.stateNode.nextSibling):null;return!0}function cr(){Oe=Vn=null,le=!1}function _m(){var t=va;return t!==null&&(Mn===null?Mn=t:Mn.push.apply(Mn,t),va=null),t}function hr(t){va===null?va=[t]:va.push(t)}var th=J(null),Ea=null,$i=null;function _s(t,n,s){st(th,n._currentValue),n._currentValue=s}function Wi(t){t._currentValue=th.current,dt(th)}function eh(t,n,s){for(;t!==null;){var r=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),t===s)break;t=t.return}}function nh(t,n,s,r){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=c;for(var w=0;w<n.length;w++)if(T.context===n[w]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),eh(f.return,s,t),r||(y=null);break t}f=T.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(l(341));y.lanes|=s,f=y.alternate,f!==null&&(f.lanes|=s),eh(y,s,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function fr(t,n,s,r){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(l(387));if(y=y.memoizedProps,y!==null){var T=c.type;Bn(c.pendingProps.value,y.value)||(t!==null?t.push(T):t=[T])}}else if(c===ve.current){if(y=c.alternate,y===null)throw Error(l(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(jr):t=[jr])}c=c.return}t!==null&&nh(n,t,s,r),n.flags|=262144}function Fo(t){for(t=t.firstContext;t!==null;){if(!Bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Aa(t){Ea=t,$i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function En(t){return vm(Ea,t)}function Xo(t,n){return Ea===null&&Aa(t),vm(t,n)}function vm(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},$i===null){if(t===null)throw Error(l(308));$i=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else $i=$i.next=n;return s}var E0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,r){t.push(r)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},A0=a.unstable_scheduleCallback,S0=a.unstable_NormalPriority,We={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ih(){return{controller:new E0,data:new Map,refCount:0}}function dr(t){t.refCount--,t.refCount===0&&A0(S0,function(){t.controller.abort()})}var mr=null,sh=0,ll=0,rl=null;function b0(t,n){if(mr===null){var s=mr=[];sh=0,ll=rf(),rl={status:"pending",value:void 0,then:function(r){s.push(r)}}}return sh++,n.then(Tm,Tm),n}function Tm(){if(--sh===0&&mr!==null){rl!==null&&(rl.status="fulfilled");var t=mr;mr=null,ll=0,rl=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function R0(t,n){var s=[],r={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){r.status="fulfilled",r.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(r.status="rejected",r.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),r}var Em=Q.S;Q.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&b0(t,n),Em!==null&&Em(t,n)};var Sa=J(null);function ah(){var t=Sa.current;return t!==null?t:Ee.pooledCache}function Ko(t,n){n===null?st(Sa,Sa.current):st(Sa,n.pool)}function Am(){var t=ah();return t===null?null:{parent:We._currentValue,pool:t}}var gr=Error(l(460)),Sm=Error(l(474)),Zo=Error(l(542)),lh={then:function(){}};function bm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Jo(){}function Rm(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Jo,Jo),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Im(t),t;default:if(typeof n.status=="string")n.then(Jo,Jo);else{if(t=Ee,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=n,t.status="pending",t.then(function(r){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=r}},function(r){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=r}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Im(t),t}throw pr=n,gr}}var pr=null;function wm(){if(pr===null)throw Error(l(459));var t=pr;return pr=null,t}function Im(t){if(t===gr||t===Zo)throw Error(l(483))}var vs=!1;function rh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ts(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Es(t,n,s){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(he&2)!==0){var c=r.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),r.pending=n,n=Ho(t),dm(t,null,s),n}return qo(t,r,n,s),Ho(t)}function yr(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var r=n.lanes;r&=t.pendingLanes,s|=r,n.lanes=s,Ct(t,s)}}function uh(t,n){var s=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var ch=!1;function _r(){if(ch){var t=rl;if(t!==null)throw t}}function vr(t,n,s,r){ch=!1;var c=t.updateQueue;vs=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,T=c.shared.pending;if(T!==null){c.shared.pending=null;var w=T,k=w.next;w.next=null,y===null?f=k:y.next=k,y=w;var K=t.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==y&&(T===null?K.firstBaseUpdate=k:T.next=k,K.lastBaseUpdate=w))}if(f!==null){var $=c.baseState;y=0,K=k=w=null,T=f;do{var q=T.lane&-536870913,G=q!==T.lane;if(G?(Wt&q)===q:(r&q)===q){q!==0&&q===ll&&(ch=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Mt=t,Vt=T;q=n;var pe=s;switch(Vt.tag){case 1:if(Mt=Vt.payload,typeof Mt=="function"){$=Mt.call(pe,$,q);break t}$=Mt;break t;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=Vt.payload,q=typeof Mt=="function"?Mt.call(pe,$,q):Mt,q==null)break t;$=S({},$,q);break t;case 2:vs=!0}}q=T.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=c.callbacks,G===null?c.callbacks=[q]:G.push(q))}else G={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(k=K=G,w=$):K=K.next=G,y|=q;if(T=T.next,T===null){if(T=c.shared.pending,T===null)break;G=T,T=G.next,G.next=null,c.lastBaseUpdate=G,c.shared.pending=null}}while(!0);K===null&&(w=$),c.baseState=w,c.firstBaseUpdate=k,c.lastBaseUpdate=K,f===null&&(c.shared.lanes=0),Cs|=y,t.lanes=y,t.memoizedState=$}}function Dm(t,n){if(typeof t!="function")throw Error(l(191,t));t.call(n)}function Cm(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Dm(s[t],n)}var ol=J(null),$o=J(0);function Vm(t,n){t=ls,st($o,t),st(ol,n),ls=t|n.baseLanes}function hh(){st($o,ls),st(ol,ol.current)}function fh(){ls=$o.current,dt(ol),dt($o)}var As=0,Gt=null,me=null,Ge=null,Wo=!1,ul=!1,ba=!1,tu=0,Tr=0,cl=null,w0=0;function ze(){throw Error(l(321))}function dh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Bn(t[s],n[s]))return!1;return!0}function mh(t,n,s,r,c,f){return As=f,Gt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=t===null||t.memoizedState===null?dg:mg,ba=!1,f=s(r,c),ba=!1,ul&&(f=xm(n,s,r,c)),Nm(t),f}function Nm(t){Q.H=lu;var n=me!==null&&me.next!==null;if(As=0,Ge=me=Gt=null,Wo=!1,Tr=0,cl=null,n)throw Error(l(300));t===null||rn||(t=t.dependencies,t!==null&&Fo(t)&&(rn=!0))}function xm(t,n,s,r){Gt=t;var c=0;do{if(ul&&(cl=null),Tr=0,ul=!1,25<=c)throw Error(l(301));if(c+=1,Ge=me=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=O0,f=n(s,r)}while(ul);return f}function I0(){var t=Q.H,n=t.useState()[0];return n=typeof n.then=="function"?Er(n):n,t=t.useState()[0],(me!==null?me.memoizedState:null)!==t&&(Gt.flags|=1024),n}function gh(){var t=tu!==0;return tu=0,t}function ph(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function yh(t){if(Wo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Wo=!1}As=0,Ge=me=Gt=null,ul=!1,Tr=tu=0,cl=null}function xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Gt.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function Qe(){if(me===null){var t=Gt.alternate;t=t!==null?t.memoizedState:null}else t=me.next;var n=Ge===null?Gt.memoizedState:Ge.next;if(n!==null)Ge=n,me=t;else{if(t===null)throw Gt.alternate===null?Error(l(467)):Error(l(310));me=t,t={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},Ge===null?Gt.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function _h(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Er(t){var n=Tr;return Tr+=1,cl===null&&(cl=[]),t=Rm(cl,t,n),n=Gt,(Ge===null?n.memoizedState:Ge.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?dg:mg),t}function eu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Er(t);if(t.$$typeof===ct)return En(t)}throw Error(l(438,String(t)))}function vh(t){var n=null,s=Gt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var r=Gt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(n={data:r.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=_h(),Gt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),r=0;r<t;r++)s[r]=b;return n.index++,s}function ts(t,n){return typeof n=="function"?n(t):n}function nu(t){var n=Qe();return Th(n,me,t)}function Th(t,n,s){var r=t.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=s;var c=t.baseQueue,f=r.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,r.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var T=y=null,w=null,k=n,K=!1;do{var $=k.lane&-536870913;if($!==k.lane?(Wt&$)===$:(As&$)===$){var q=k.revertLane;if(q===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),$===ll&&(K=!0);else if((As&q)===q){k=k.next,q===ll&&(K=!0);continue}else $={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(T=w=$,y=f):w=w.next=$,Gt.lanes|=q,Cs|=q;$=k.action,ba&&s(f,$),f=k.hasEagerState?k.eagerState:s(f,$)}else q={lane:$,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(T=w=q,y=f):w=w.next=q,Gt.lanes|=$,Cs|=$;k=k.next}while(k!==null&&k!==n);if(w===null?y=f:w.next=T,!Bn(f,t.memoizedState)&&(rn=!0,K&&(s=rl,s!==null)))throw s;t.memoizedState=f,t.baseState=y,t.baseQueue=w,r.lastRenderedState=f}return c===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Eh(t){var n=Qe(),s=n.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=t;var r=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);Bn(f,n.memoizedState)||(rn=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,r]}function Om(t,n,s){var r=Gt,c=Qe(),f=le;if(f){if(s===void 0)throw Error(l(407));s=s()}else s=n();var y=!Bn((me||c).memoizedState,s);y&&(c.memoizedState=s,rn=!0),c=c.queue;var T=Um.bind(null,r,c,t);if(Ar(2048,8,T,[t]),c.getSnapshot!==n||y||Ge!==null&&Ge.memoizedState.tag&1){if(r.flags|=2048,hl(9,iu(),Lm.bind(null,r,c,s,n),null),Ee===null)throw Error(l(349));f||(As&124)!==0||Mm(r,n,s)}return s}function Mm(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Gt.updateQueue,n===null?(n=_h(),Gt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Lm(t,n,s,r){n.value=s,n.getSnapshot=r,zm(n)&&Pm(t)}function Um(t,n,s){return s(function(){zm(n)&&Pm(t)})}function zm(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Bn(t,s)}catch{return!0}}function Pm(t){var n=nl(t,2);n!==null&&Qn(n,t,2)}function Ah(t){var n=xn();if(typeof t=="function"){var s=t;if(t=s(),ba){Tn(!0);try{s()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:t},n}function Bm(t,n,s,r){return t.baseState=s,Th(t,me,typeof r=="function"?r:ts)}function D0(t,n,s,r,c){if(au(t))throw Error(l(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};Q.T!==null?s(!0):f.isTransition=!1,r(f),s=n.pending,s===null?(f.next=n.pending=f,km(n,f)):(f.next=s.next,n.pending=s.next=f)}}function km(t,n){var s=n.action,r=n.payload,c=t.state;if(n.isTransition){var f=Q.T,y={};Q.T=y;try{var T=s(c,r),w=Q.S;w!==null&&w(y,T),jm(t,n,T)}catch(k){Sh(t,n,k)}finally{Q.T=f}}else try{f=s(c,r),jm(t,n,f)}catch(k){Sh(t,n,k)}}function jm(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){qm(t,n,r)},function(r){return Sh(t,n,r)}):qm(t,n,s)}function qm(t,n,s){n.status="fulfilled",n.value=s,Hm(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,km(t,s)))}function Sh(t,n,s){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do n.status="rejected",n.reason=s,Hm(n),n=n.next;while(n!==r)}t.action=null}function Hm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Gm(t,n){return n}function Qm(t,n){if(le){var s=Ee.formState;if(s!==null){t:{var r=Gt;if(le){if(Oe){e:{for(var c=Oe,f=bi;c.nodeType!==8;){if(!f){c=null;break e}if(c=di(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Oe=di(c.nextSibling),r=c.data==="F!";break t}}Ta(r)}r=!1}r&&(n=s[0])}}return s=xn(),s.memoizedState=s.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gm,lastRenderedState:n},s.queue=r,s=cg.bind(null,Gt,r),r.dispatch=s,r=Ah(!1),f=Dh.bind(null,Gt,!1,r.queue),r=xn(),c={state:n,dispatch:null,action:t,pending:null},r.queue=c,s=D0.bind(null,Gt,c,f,s),c.dispatch=s,r.memoizedState=t,[n,s,!1]}function Ym(t){var n=Qe();return Fm(n,me,t)}function Fm(t,n,s){if(n=Th(t,n,Gm)[0],t=nu(ts)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var r=Er(n)}catch(y){throw y===gr?Zo:y}else r=n;n=Qe();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Gt.flags|=2048,hl(9,iu(),C0.bind(null,c,s),null)),[r,f,t]}function C0(t,n){t.action=n}function Xm(t){var n=Qe(),s=me;if(s!==null)return Fm(n,s,t);Qe(),n=n.memoizedState,s=Qe();var r=s.queue.dispatch;return s.memoizedState=t,[n,r,!1]}function hl(t,n,s,r){return t={tag:t,create:s,deps:r,inst:n,next:null},n=Gt.updateQueue,n===null&&(n=_h(),Gt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(r=s.next,s.next=t,t.next=r,n.lastEffect=t),t}function iu(){return{destroy:void 0,resource:void 0}}function Km(){return Qe().memoizedState}function su(t,n,s,r){var c=xn();r=r===void 0?null:r,Gt.flags|=t,c.memoizedState=hl(1|n,iu(),s,r)}function Ar(t,n,s,r){var c=Qe();r=r===void 0?null:r;var f=c.memoizedState.inst;me!==null&&r!==null&&dh(r,me.memoizedState.deps)?c.memoizedState=hl(n,f,s,r):(Gt.flags|=t,c.memoizedState=hl(1|n,f,s,r))}function Zm(t,n){su(8390656,8,t,n)}function Jm(t,n){Ar(2048,8,t,n)}function $m(t,n){return Ar(4,2,t,n)}function Wm(t,n){return Ar(4,4,t,n)}function tg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function eg(t,n,s){s=s!=null?s.concat([t]):null,Ar(4,4,tg.bind(null,n,t),s)}function bh(){}function ng(t,n){var s=Qe();n=n===void 0?null:n;var r=s.memoizedState;return n!==null&&dh(n,r[1])?r[0]:(s.memoizedState=[t,n],t)}function ig(t,n){var s=Qe();n=n===void 0?null:n;var r=s.memoizedState;if(n!==null&&dh(n,r[1]))return r[0];if(r=t(),ba){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[r,n],r}function Rh(t,n,s){return s===void 0||(As&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=lp(),Gt.lanes|=t,Cs|=t,s)}function sg(t,n,s,r){return Bn(s,n)?s:ol.current!==null?(t=Rh(t,s,r),Bn(t,n)||(rn=!0),t):(As&42)===0?(rn=!0,t.memoizedState=s):(t=lp(),Gt.lanes|=t,Cs|=t,n)}function ag(t,n,s,r,c){var f=ot.p;ot.p=f!==0&&8>f?f:8;var y=Q.T,T={};Q.T=T,Dh(t,!1,n,s);try{var w=c(),k=Q.S;if(k!==null&&k(T,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var K=R0(w,r);Sr(t,n,K,Gn(t))}else Sr(t,n,r,Gn(t))}catch($){Sr(t,n,{then:function(){},status:"rejected",reason:$},Gn())}finally{ot.p=f,Q.T=y}}function V0(){}function wh(t,n,s,r){if(t.tag!==5)throw Error(l(476));var c=lg(t).queue;ag(t,c,n,_t,s===null?V0:function(){return rg(t),s(r)})}function lg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:_t,baseState:_t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:_t},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function rg(t){var n=lg(t).next.queue;Sr(t,n,{},Gn())}function Ih(){return En(jr)}function og(){return Qe().memoizedState}function ug(){return Qe().memoizedState}function N0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Gn();t=Ts(s);var r=Es(n,t,s);r!==null&&(Qn(r,n,s),yr(r,n,s)),n={cache:ih()},t.payload=n;return}n=n.return}}function x0(t,n,s){var r=Gn();s={lane:r,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},au(t)?hg(n,s):(s=Fc(t,n,s,r),s!==null&&(Qn(s,t,r),fg(s,n,r)))}function cg(t,n,s){var r=Gn();Sr(t,n,s,r)}function Sr(t,n,s,r){var c={lane:r,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(au(t))hg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,T=f(y,s);if(c.hasEagerState=!0,c.eagerState=T,Bn(T,y))return qo(t,n,c,0),Ee===null&&jo(),!1}catch{}finally{}if(s=Fc(t,n,c,r),s!==null)return Qn(s,t,r),fg(s,n,r),!0}return!1}function Dh(t,n,s,r){if(r={lane:2,revertLane:rf(),action:r,hasEagerState:!1,eagerState:null,next:null},au(t)){if(n)throw Error(l(479))}else n=Fc(t,s,r,2),n!==null&&Qn(n,t,2)}function au(t){var n=t.alternate;return t===Gt||n!==null&&n===Gt}function hg(t,n){ul=Wo=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function fg(t,n,s){if((s&4194048)!==0){var r=n.lanes;r&=t.pendingLanes,s|=r,n.lanes=s,Ct(t,s)}}var lu={readContext:En,use:eu,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useLayoutEffect:ze,useInsertionEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useSyncExternalStore:ze,useId:ze,useHostTransitionStatus:ze,useFormState:ze,useActionState:ze,useOptimistic:ze,useMemoCache:ze,useCacheRefresh:ze},dg={readContext:En,use:eu,useCallback:function(t,n){return xn().memoizedState=[t,n===void 0?null:n],t},useContext:En,useEffect:Zm,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,su(4194308,4,tg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return su(4194308,4,t,n)},useInsertionEffect:function(t,n){su(4,2,t,n)},useMemo:function(t,n){var s=xn();n=n===void 0?null:n;var r=t();if(ba){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[r,n],r},useReducer:function(t,n,s){var r=xn();if(s!==void 0){var c=s(n);if(ba){Tn(!0);try{s(n)}finally{Tn(!1)}}}else c=n;return r.memoizedState=r.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},r.queue=t,t=t.dispatch=x0.bind(null,Gt,t),[r.memoizedState,t]},useRef:function(t){var n=xn();return t={current:t},n.memoizedState=t},useState:function(t){t=Ah(t);var n=t.queue,s=cg.bind(null,Gt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:bh,useDeferredValue:function(t,n){var s=xn();return Rh(s,t,n)},useTransition:function(){var t=Ah(!1);return t=ag.bind(null,Gt,t.queue,!0,!1),xn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var r=Gt,c=xn();if(le){if(s===void 0)throw Error(l(407));s=s()}else{if(s=n(),Ee===null)throw Error(l(349));(Wt&124)!==0||Mm(r,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,Zm(Um.bind(null,r,f,t),[t]),r.flags|=2048,hl(9,iu(),Lm.bind(null,r,f,s,n),null),s},useId:function(){var t=xn(),n=Ee.identifierPrefix;if(le){var s=Ji,r=Zi;s=(r&~(1<<32-sn(r)-1)).toString(32)+s,n=""+n+"R"+s,s=tu++,0<s&&(n+="H"+s.toString(32)),n+=""}else s=w0++,n=""+n+"r"+s.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Ih,useFormState:Qm,useActionState:Qm,useOptimistic:function(t){var n=xn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Dh.bind(null,Gt,!0,s),s.dispatch=n,[t,n]},useMemoCache:vh,useCacheRefresh:function(){return xn().memoizedState=N0.bind(null,Gt)}},mg={readContext:En,use:eu,useCallback:ng,useContext:En,useEffect:Jm,useImperativeHandle:eg,useInsertionEffect:$m,useLayoutEffect:Wm,useMemo:ig,useReducer:nu,useRef:Km,useState:function(){return nu(ts)},useDebugValue:bh,useDeferredValue:function(t,n){var s=Qe();return sg(s,me.memoizedState,t,n)},useTransition:function(){var t=nu(ts)[0],n=Qe().memoizedState;return[typeof t=="boolean"?t:Er(t),n]},useSyncExternalStore:Om,useId:og,useHostTransitionStatus:Ih,useFormState:Ym,useActionState:Ym,useOptimistic:function(t,n){var s=Qe();return Bm(s,me,t,n)},useMemoCache:vh,useCacheRefresh:ug},O0={readContext:En,use:eu,useCallback:ng,useContext:En,useEffect:Jm,useImperativeHandle:eg,useInsertionEffect:$m,useLayoutEffect:Wm,useMemo:ig,useReducer:Eh,useRef:Km,useState:function(){return Eh(ts)},useDebugValue:bh,useDeferredValue:function(t,n){var s=Qe();return me===null?Rh(s,t,n):sg(s,me.memoizedState,t,n)},useTransition:function(){var t=Eh(ts)[0],n=Qe().memoizedState;return[typeof t=="boolean"?t:Er(t),n]},useSyncExternalStore:Om,useId:og,useHostTransitionStatus:Ih,useFormState:Xm,useActionState:Xm,useOptimistic:function(t,n){var s=Qe();return me!==null?Bm(s,me,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:vh,useCacheRefresh:ug},fl=null,br=0;function ru(t){var n=br;return br+=1,fl===null&&(fl=[]),Rm(fl,t,n)}function Rr(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ou(t,n){throw n.$$typeof===D?Error(l(525)):(t=Object.prototype.toString.call(n),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function gg(t){var n=t._init;return n(t._payload)}function pg(t){function n(U,O){if(t){var B=U.deletions;B===null?(U.deletions=[O],U.flags|=16):B.push(O)}}function s(U,O){if(!t)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function r(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function c(U,O){return U=Ki(U,O),U.index=0,U.sibling=null,U}function f(U,O,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<O?(U.flags|=67108866,O):B):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,O,B,Z){return O===null||O.tag!==6?(O=Kc(B,U.mode,Z),O.return=U,O):(O=c(O,B),O.return=U,O)}function w(U,O,B,Z){var yt=B.type;return yt===X?K(U,O,B.props.children,Z,B.key):O!==null&&(O.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===A&&gg(yt)===O.type)?(O=c(O,B.props),Rr(O,B),O.return=U,O):(O=Go(B.type,B.key,B.props,null,U.mode,Z),Rr(O,B),O.return=U,O)}function k(U,O,B,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=Zc(B,U.mode,Z),O.return=U,O):(O=c(O,B.children||[]),O.return=U,O)}function K(U,O,B,Z,yt){return O===null||O.tag!==7?(O=pa(B,U.mode,Z,yt),O.return=U,O):(O=c(O,B),O.return=U,O)}function $(U,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Kc(""+O,U.mode,B),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case V:return B=Go(O.type,O.key,O.props,null,U.mode,B),Rr(B,O),B.return=U,B;case j:return O=Zc(O,U.mode,B),O.return=U,O;case A:var Z=O._init;return O=Z(O._payload),$(U,O,B)}if(_e(O)||M(O))return O=pa(O,U.mode,B,null),O.return=U,O;if(typeof O.then=="function")return $(U,ru(O),B);if(O.$$typeof===ct)return $(U,Xo(U,O),B);ou(U,O)}return null}function q(U,O,B,Z){var yt=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return yt!==null?null:T(U,O,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case V:return B.key===yt?w(U,O,B,Z):null;case j:return B.key===yt?k(U,O,B,Z):null;case A:return yt=B._init,B=yt(B._payload),q(U,O,B,Z)}if(_e(B)||M(B))return yt!==null?null:K(U,O,B,Z,null);if(typeof B.then=="function")return q(U,O,ru(B),Z);if(B.$$typeof===ct)return q(U,O,Xo(U,B),Z);ou(U,B)}return null}function G(U,O,B,Z,yt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(B)||null,T(O,U,""+Z,yt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case V:return U=U.get(Z.key===null?B:Z.key)||null,w(O,U,Z,yt);case j:return U=U.get(Z.key===null?B:Z.key)||null,k(O,U,Z,yt);case A:var Qt=Z._init;return Z=Qt(Z._payload),G(U,O,B,Z,yt)}if(_e(Z)||M(Z))return U=U.get(B)||null,K(O,U,Z,yt,null);if(typeof Z.then=="function")return G(U,O,B,ru(Z),yt);if(Z.$$typeof===ct)return G(U,O,B,Xo(O,Z),yt);ou(O,Z)}return null}function Mt(U,O,B,Z){for(var yt=null,Qt=null,bt=O,xt=O=0,un=null;bt!==null&&xt<B.length;xt++){bt.index>xt?(un=bt,bt=null):un=bt.sibling;var se=q(U,bt,B[xt],Z);if(se===null){bt===null&&(bt=un);break}t&&bt&&se.alternate===null&&n(U,bt),O=f(se,O,xt),Qt===null?yt=se:Qt.sibling=se,Qt=se,bt=un}if(xt===B.length)return s(U,bt),le&&_a(U,xt),yt;if(bt===null){for(;xt<B.length;xt++)bt=$(U,B[xt],Z),bt!==null&&(O=f(bt,O,xt),Qt===null?yt=bt:Qt.sibling=bt,Qt=bt);return le&&_a(U,xt),yt}for(bt=r(bt);xt<B.length;xt++)un=G(bt,U,xt,B[xt],Z),un!==null&&(t&&un.alternate!==null&&bt.delete(un.key===null?xt:un.key),O=f(un,O,xt),Qt===null?yt=un:Qt.sibling=un,Qt=un);return t&&bt.forEach(function(Ps){return n(U,Ps)}),le&&_a(U,xt),yt}function Vt(U,O,B,Z){if(B==null)throw Error(l(151));for(var yt=null,Qt=null,bt=O,xt=O=0,un=null,se=B.next();bt!==null&&!se.done;xt++,se=B.next()){bt.index>xt?(un=bt,bt=null):un=bt.sibling;var Ps=q(U,bt,se.value,Z);if(Ps===null){bt===null&&(bt=un);break}t&&bt&&Ps.alternate===null&&n(U,bt),O=f(Ps,O,xt),Qt===null?yt=Ps:Qt.sibling=Ps,Qt=Ps,bt=un}if(se.done)return s(U,bt),le&&_a(U,xt),yt;if(bt===null){for(;!se.done;xt++,se=B.next())se=$(U,se.value,Z),se!==null&&(O=f(se,O,xt),Qt===null?yt=se:Qt.sibling=se,Qt=se);return le&&_a(U,xt),yt}for(bt=r(bt);!se.done;xt++,se=B.next())se=G(bt,U,xt,se.value,Z),se!==null&&(t&&se.alternate!==null&&bt.delete(se.key===null?xt:se.key),O=f(se,O,xt),Qt===null?yt=se:Qt.sibling=se,Qt=se);return t&&bt.forEach(function(MT){return n(U,MT)}),le&&_a(U,xt),yt}function pe(U,O,B,Z){if(typeof B=="object"&&B!==null&&B.type===X&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case V:t:{for(var yt=B.key;O!==null;){if(O.key===yt){if(yt=B.type,yt===X){if(O.tag===7){s(U,O.sibling),Z=c(O,B.props.children),Z.return=U,U=Z;break t}}else if(O.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===A&&gg(yt)===O.type){s(U,O.sibling),Z=c(O,B.props),Rr(Z,B),Z.return=U,U=Z;break t}s(U,O);break}else n(U,O);O=O.sibling}B.type===X?(Z=pa(B.props.children,U.mode,Z,B.key),Z.return=U,U=Z):(Z=Go(B.type,B.key,B.props,null,U.mode,Z),Rr(Z,B),Z.return=U,U=Z)}return y(U);case j:t:{for(yt=B.key;O!==null;){if(O.key===yt)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){s(U,O.sibling),Z=c(O,B.children||[]),Z.return=U,U=Z;break t}else{s(U,O);break}else n(U,O);O=O.sibling}Z=Zc(B,U.mode,Z),Z.return=U,U=Z}return y(U);case A:return yt=B._init,B=yt(B._payload),pe(U,O,B,Z)}if(_e(B))return Mt(U,O,B,Z);if(M(B)){if(yt=M(B),typeof yt!="function")throw Error(l(150));return B=yt.call(B),Vt(U,O,B,Z)}if(typeof B.then=="function")return pe(U,O,ru(B),Z);if(B.$$typeof===ct)return pe(U,O,Xo(U,B),Z);ou(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(s(U,O.sibling),Z=c(O,B),Z.return=U,U=Z):(s(U,O),Z=Kc(B,U.mode,Z),Z.return=U,U=Z),y(U)):s(U,O)}return function(U,O,B,Z){try{br=0;var yt=pe(U,O,B,Z);return fl=null,yt}catch(bt){if(bt===gr||bt===Zo)throw bt;var Qt=kn(29,bt,null,U.mode);return Qt.lanes=Z,Qt.return=U,Qt}finally{}}}var dl=pg(!0),yg=pg(!1),ni=J(null),Ri=null;function Ss(t){var n=t.alternate;st(tn,tn.current&1),st(ni,t),Ri===null&&(n===null||ol.current!==null||n.memoizedState!==null)&&(Ri=t)}function _g(t){if(t.tag===22){if(st(tn,tn.current),st(ni,t),Ri===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Ri=t)}}else bs()}function bs(){st(tn,tn.current),st(ni,ni.current)}function es(t){dt(ni),Ri===t&&(Ri=null),dt(tn)}var tn=J(0);function uu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||vf(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Ch(t,n,s,r){n=t.memoizedState,s=s(r,n),s=s==null?n:S({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Vh={enqueueSetState:function(t,n,s){t=t._reactInternals;var r=Gn(),c=Ts(r);c.payload=n,s!=null&&(c.callback=s),n=Es(t,c,r),n!==null&&(Qn(n,t,r),yr(n,t,r))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var r=Gn(),c=Ts(r);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=Es(t,c,r),n!==null&&(Qn(n,t,r),yr(n,t,r))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Gn(),r=Ts(s);r.tag=2,n!=null&&(r.callback=n),n=Es(t,r,s),n!==null&&(Qn(n,t,s),yr(n,t,s))}};function vg(t,n,s,r,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,f,y):n.prototype&&n.prototype.isPureReactComponent?!rr(s,r)||!rr(c,f):!0}function Tg(t,n,s,r){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,r),n.state!==t&&Vh.enqueueReplaceState(n,n.state,null)}function Ra(t,n){var s=n;if("ref"in n){s={};for(var r in n)r!=="ref"&&(s[r]=n[r])}if(t=t.defaultProps){s===n&&(s=S({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}var cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Eg(t){cu(t)}function Ag(t){console.error(t)}function Sg(t){cu(t)}function hu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(r){setTimeout(function(){throw r})}}function bg(t,n,s){try{var r=t.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Nh(t,n,s){return s=Ts(s),s.tag=3,s.payload={element:null},s.callback=function(){hu(t,n)},s}function Rg(t){return t=Ts(t),t.tag=3,t}function wg(t,n,s,r){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;t.payload=function(){return c(f)},t.callback=function(){bg(n,s,r)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){bg(n,s,r),typeof c!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var T=r.stack;this.componentDidCatch(r.value,{componentStack:T!==null?T:""})})}function M0(t,n,s,r,c){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=s.alternate,n!==null&&fr(n,s,c,!0),s=ni.current,s!==null){switch(s.tag){case 13:return Ri===null?ef():s.alternate===null&&Me===0&&(Me=3),s.flags&=-257,s.flags|=65536,s.lanes=c,r===lh?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([r]):n.add(r),sf(t,r,c)),!1;case 22:return s.flags|=65536,r===lh?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([r]):s.add(r)),sf(t,r,c)),!1}throw Error(l(435,s.tag))}return sf(t,r,c),ef(),!1}if(le)return n=ni.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,r!==Wc&&(t=Error(l(422),{cause:r}),hr($n(t,s)))):(r!==Wc&&(n=Error(l(423),{cause:r}),hr($n(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,r=$n(r,s),c=Nh(t.stateNode,r,c),uh(t,c),Me!==4&&(Me=2)),!1;var f=Error(l(520),{cause:r});if(f=$n(f,s),xr===null?xr=[f]:xr.push(f),Me!==4&&(Me=2),n===null)return!0;r=$n(r,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=Nh(s.stateNode,r,t),uh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Vs===null||!Vs.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Rg(c),wg(c,t,s,r),uh(s,c),!1}s=s.return}while(s!==null);return!1}var Ig=Error(l(461)),rn=!1;function dn(t,n,s,r){n.child=t===null?yg(n,null,s,r):dl(n,t.child,s,r)}function Dg(t,n,s,r,c){s=s.render;var f=n.ref;if("ref"in r){var y={};for(var T in r)T!=="ref"&&(y[T]=r[T])}else y=r;return Aa(n),r=mh(t,n,s,y,f,c),T=gh(),t!==null&&!rn?(ph(t,n,c),ns(t,n,c)):(le&&T&&Jc(n),n.flags|=1,dn(t,n,r,c),n.child)}function Cg(t,n,s,r,c){if(t===null){var f=s.type;return typeof f=="function"&&!Xc(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Vg(t,n,f,r,c)):(t=Go(s.type,null,r,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Bh(t,c)){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:rr,s(y,r)&&t.ref===n.ref)return ns(t,n,c)}return n.flags|=1,t=Ki(f,r),t.ref=n.ref,t.return=n,n.child=t}function Vg(t,n,s,r,c){if(t!==null){var f=t.memoizedProps;if(rr(f,r)&&t.ref===n.ref)if(rn=!1,n.pendingProps=r=f,Bh(t,c))(t.flags&131072)!==0&&(rn=!0);else return n.lanes=t.lanes,ns(t,n,c)}return xh(t,n,s,r,c)}function Ng(t,n,s){var r=n.pendingProps,c=r.children,f=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if((n.flags&128)!==0){if(r=f!==null?f.baseLanes|s:s,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~r}else n.childLanes=0,n.child=null;return xg(t,n,r,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ko(n,f!==null?f.cachePool:null),f!==null?Vm(n,f):hh(),_g(n);else return n.lanes=n.childLanes=536870912,xg(t,n,f!==null?f.baseLanes|s:s,s)}else f!==null?(Ko(n,f.cachePool),Vm(n,f),bs(),n.memoizedState=null):(t!==null&&Ko(n,null),hh(),bs());return dn(t,n,c,s),n.child}function xg(t,n,s,r){var c=ah();return c=c===null?null:{parent:We._currentValue,pool:c},n.memoizedState={baseLanes:s,cachePool:c},t!==null&&Ko(n,null),hh(),_g(n),t!==null&&fr(t,n,r,!0),null}function fu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function xh(t,n,s,r,c){return Aa(n),s=mh(t,n,s,r,void 0,c),r=gh(),t!==null&&!rn?(ph(t,n,c),ns(t,n,c)):(le&&r&&Jc(n),n.flags|=1,dn(t,n,s,c),n.child)}function Og(t,n,s,r,c,f){return Aa(n),n.updateQueue=null,s=xm(n,r,s,c),Nm(t),r=gh(),t!==null&&!rn?(ph(t,n,f),ns(t,n,f)):(le&&r&&Jc(n),n.flags|=1,dn(t,n,s,f),n.child)}function Mg(t,n,s,r,c){if(Aa(n),n.stateNode===null){var f=il,y=s.contextType;typeof y=="object"&&y!==null&&(f=En(y)),f=new s(r,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=r,f.state=n.memoizedState,f.refs={},rh(n),y=s.contextType,f.context=typeof y=="object"&&y!==null?En(y):il,f.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Ch(n,s,y,r),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Vh.enqueueReplaceState(f,f.state,null),vr(n,r,f,c),_r(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),r=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,w=Ra(s,T);f.props=w;var k=f.context,K=s.contextType;y=il,typeof K=="object"&&K!==null&&(y=En(K));var $=s.getDerivedStateFromProps;K=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||k!==y)&&Tg(n,f,r,y),vs=!1;var q=n.memoizedState;f.state=q,vr(n,r,f,c),_r(),k=n.memoizedState,T||q!==k||vs?(typeof $=="function"&&(Ch(n,s,$,r),k=n.memoizedState),(w=vs||vg(n,s,w,r,q,k,y))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=k),f.props=r,f.state=k,f.context=y,r=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{f=n.stateNode,oh(t,n),y=n.memoizedProps,K=Ra(s,y),f.props=K,$=n.pendingProps,q=f.context,k=s.contextType,w=il,typeof k=="object"&&k!==null&&(w=En(k)),T=s.getDerivedStateFromProps,(k=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==$||q!==w)&&Tg(n,f,r,w),vs=!1,q=n.memoizedState,f.state=q,vr(n,r,f,c),_r();var G=n.memoizedState;y!==$||q!==G||vs||t!==null&&t.dependencies!==null&&Fo(t.dependencies)?(typeof T=="function"&&(Ch(n,s,T,r),G=n.memoizedState),(K=vs||vg(n,s,K,r,q,G,w)||t!==null&&t.dependencies!==null&&Fo(t.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,G,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,G,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=G),f.props=r,f.state=G,f.context=w,r=K):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),r=!1)}return f=r,fu(t,n),r=(n.flags&128)!==0,f||r?(f=n.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&r?(n.child=dl(n,t.child,null,c),n.child=dl(n,null,s,c)):dn(t,n,s,c),n.memoizedState=f.state,t=n.child):t=ns(t,n,c),t}function Lg(t,n,s,r){return cr(),n.flags|=256,dn(t,n,s,r),n.child}var Oh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mh(t){return{baseLanes:t,cachePool:Am()}}function Lh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=ii),t}function Ug(t,n,s){var r=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(tn.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(le){if(c?Ss(n):bs(),le){var T=Oe,w;if(w=T){t:{for(w=T,T=bi;w.nodeType!==8;){if(!T){T=null;break t}if(w=di(w.nextSibling),w===null){T=null;break t}}T=w}T!==null?(n.memoizedState={dehydrated:T,treeContext:ya!==null?{id:Zi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},w=kn(18,null,null,0),w.stateNode=T,w.return=n,n.child=w,Vn=n,Oe=null,w=!0):w=!1}w||Ta(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return vf(T)?n.lanes=32:n.lanes=536870912,null;es(n)}return T=r.children,r=r.fallback,c?(bs(),c=n.mode,T=du({mode:"hidden",children:T},c),r=pa(r,c,s,null),T.return=n,r.return=n,T.sibling=r,n.child=T,c=n.child,c.memoizedState=Mh(s),c.childLanes=Lh(t,y,s),n.memoizedState=Oh,r):(Ss(n),Uh(n,T))}if(w=t.memoizedState,w!==null&&(T=w.dehydrated,T!==null)){if(f)n.flags&256?(Ss(n),n.flags&=-257,n=zh(t,n,s)):n.memoizedState!==null?(bs(),n.child=t.child,n.flags|=128,n=null):(bs(),c=r.fallback,T=n.mode,r=du({mode:"visible",children:r.children},T),c=pa(c,T,s,null),c.flags|=2,r.return=n,c.return=n,r.sibling=c,n.child=r,dl(n,t.child,null,s),r=n.child,r.memoizedState=Mh(s),r.childLanes=Lh(t,y,s),n.memoizedState=Oh,n=c);else if(Ss(n),vf(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var k=y.dgst;y=k,r=Error(l(419)),r.stack="",r.digest=y,hr({value:r,source:null,stack:null}),n=zh(t,n,s)}else if(rn||fr(t,n,s,!1),y=(s&t.childLanes)!==0,rn||y){if(y=Ee,y!==null&&(r=s&-s,r=(r&42)!==0?1:oi(r),r=(r&(y.suspendedLanes|s))!==0?0:r,r!==0&&r!==w.retryLane))throw w.retryLane=r,nl(t,r),Qn(y,t,r),Ig;T.data==="$?"||ef(),n=zh(t,n,s)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,Oe=di(T.nextSibling),Vn=n,le=!0,va=null,bi=!1,t!==null&&(ti[ei++]=Zi,ti[ei++]=Ji,ti[ei++]=ya,Zi=t.id,Ji=t.overflow,ya=n),n=Uh(n,r.children),n.flags|=4096);return n}return c?(bs(),c=r.fallback,T=n.mode,w=t.child,k=w.sibling,r=Ki(w,{mode:"hidden",children:r.children}),r.subtreeFlags=w.subtreeFlags&65011712,k!==null?c=Ki(k,c):(c=pa(c,T,s,null),c.flags|=2),c.return=n,r.return=n,r.sibling=c,n.child=r,r=c,c=n.child,T=t.child.memoizedState,T===null?T=Mh(s):(w=T.cachePool,w!==null?(k=We._currentValue,w=w.parent!==k?{parent:k,pool:k}:w):w=Am(),T={baseLanes:T.baseLanes|s,cachePool:w}),c.memoizedState=T,c.childLanes=Lh(t,y,s),n.memoizedState=Oh,r):(Ss(n),s=t.child,t=s.sibling,s=Ki(s,{mode:"visible",children:r.children}),s.return=n,s.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=s,n.memoizedState=null,s)}function Uh(t,n){return n=du({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function du(t,n){return t=kn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function zh(t,n,s){return dl(n,t.child,null,s),t=Uh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function zg(t,n,s){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n),eh(t.return,n,s)}function Ph(t,n,s,r,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=r,f.tail=s,f.tailMode=c)}function Pg(t,n,s){var r=n.pendingProps,c=r.revealOrder,f=r.tail;if(dn(t,n,r.children,s),r=tn.current,(r&2)!==0)r=r&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zg(t,s,n);else if(t.tag===19)zg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(st(tn,r),c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&uu(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Ph(n,!1,c,s,f);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&uu(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}Ph(n,!0,s,null,f);break;case"together":Ph(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ns(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Cs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(fr(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(l(153));if(n.child!==null){for(t=n.child,s=Ki(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Ki(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Bh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Fo(t)))}function L0(t,n,s){switch(n.tag){case 3:re(n,n.stateNode.containerInfo),_s(n,We,t.memoizedState.cache),cr();break;case 27:case 5:jt(n);break;case 4:re(n,n.stateNode.containerInfo);break;case 10:_s(n,n.type,n.memoizedProps.value);break;case 13:var r=n.memoizedState;if(r!==null)return r.dehydrated!==null?(Ss(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Ug(t,n,s):(Ss(n),t=ns(t,n,s),t!==null?t.sibling:null);Ss(n);break;case 19:var c=(t.flags&128)!==0;if(r=(s&n.childLanes)!==0,r||(fr(t,n,s,!1),r=(s&n.childLanes)!==0),c){if(r)return Pg(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),st(tn,tn.current),r)break;return null;case 22:case 23:return n.lanes=0,Ng(t,n,s);case 24:_s(n,We,t.memoizedState.cache)}return ns(t,n,s)}function Bg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)rn=!0;else{if(!Bh(t,s)&&(n.flags&128)===0)return rn=!1,L0(t,n,s);rn=(t.flags&131072)!==0}else rn=!1,le&&(n.flags&1048576)!==0&&gm(n,Yo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var r=n.elementType,c=r._init;if(r=c(r._payload),n.type=r,typeof r=="function")Xc(r)?(t=Ra(r,t),n.tag=1,n=Mg(null,n,r,t,s)):(n.tag=0,n=xh(null,n,r,t,s));else{if(r!=null){if(c=r.$$typeof,c===Nt){n.tag=11,n=Dg(null,n,r,t,s);break t}else if(c===N){n.tag=14,n=Cg(null,n,r,t,s);break t}}throw n=be(r)||r,Error(l(306,n,""))}}return n;case 0:return xh(t,n,n.type,n.pendingProps,s);case 1:return r=n.type,c=Ra(r,n.pendingProps),Mg(t,n,r,c,s);case 3:t:{if(re(n,n.stateNode.containerInfo),t===null)throw Error(l(387));r=n.pendingProps;var f=n.memoizedState;c=f.element,oh(t,n),vr(n,r,null,s);var y=n.memoizedState;if(r=y.cache,_s(n,We,r),r!==f.cache&&nh(n,[We],s,!0),_r(),r=y.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Lg(t,n,r,s);break t}else if(r!==c){c=$n(Error(l(424)),n),hr(c),n=Lg(t,n,r,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Oe=di(t.firstChild),Vn=n,le=!0,va=null,bi=!0,s=yg(n,null,r,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(cr(),r===c){n=ns(t,n,s);break t}dn(t,n,r,s)}n=n.child}return n;case 26:return fu(t,n),t===null?(s=Hp(n.type,null,n.pendingProps,null))?n.memoizedState=s:le||(s=n.type,t=n.pendingProps,r=Iu(wt.current).createElement(s),r[Ze]=n,r[qe]=t,gn(r,s,t),Ue(r),n.stateNode=r):n.memoizedState=Hp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return jt(n),t===null&&le&&(r=n.stateNode=kp(n.type,n.pendingProps,wt.current),Vn=n,bi=!0,c=Oe,Os(n.type)?(Tf=c,Oe=di(r.firstChild)):Oe=c),dn(t,n,n.pendingProps.children,s),fu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&le&&((c=r=Oe)&&(r=uT(r,n.type,n.pendingProps,bi),r!==null?(n.stateNode=r,Vn=n,Oe=di(r.firstChild),bi=!1,c=!0):c=!1),c||Ta(n)),jt(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,r=f.children,pf(c,f)?r=null:y!==null&&pf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=mh(t,n,I0,null,null,s),jr._currentValue=c),fu(t,n),dn(t,n,r,s),n.child;case 6:return t===null&&le&&((t=s=Oe)&&(s=cT(s,n.pendingProps,bi),s!==null?(n.stateNode=s,Vn=n,Oe=null,t=!0):t=!1),t||Ta(n)),null;case 13:return Ug(t,n,s);case 4:return re(n,n.stateNode.containerInfo),r=n.pendingProps,t===null?n.child=dl(n,null,r,s):dn(t,n,r,s),n.child;case 11:return Dg(t,n,n.type,n.pendingProps,s);case 7:return dn(t,n,n.pendingProps,s),n.child;case 8:return dn(t,n,n.pendingProps.children,s),n.child;case 12:return dn(t,n,n.pendingProps.children,s),n.child;case 10:return r=n.pendingProps,_s(n,n.type,r.value),dn(t,n,r.children,s),n.child;case 9:return c=n.type._context,r=n.pendingProps.children,Aa(n),c=En(c),r=r(c),n.flags|=1,dn(t,n,r,s),n.child;case 14:return Cg(t,n,n.type,n.pendingProps,s);case 15:return Vg(t,n,n.type,n.pendingProps,s);case 19:return Pg(t,n,s);case 31:return r=n.pendingProps,s=n.mode,r={mode:r.mode,children:r.children},t===null?(s=du(r,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Ki(t.child,r),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return Ng(t,n,s);case 24:return Aa(n),r=En(We),t===null?(c=ah(),c===null&&(c=Ee,f=ih(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:r,cache:c},rh(n),_s(n,We,c)):((t.lanes&s)!==0&&(oh(t,n),vr(n,null,null,s),_r()),c=t.memoizedState,f=n.memoizedState,c.parent!==r?(c={parent:r,cache:r},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),_s(n,We,r)):(r=f.cache,_s(n,We,r),r!==c.cache&&nh(n,[We],s,!0))),dn(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function is(t){t.flags|=4}function kg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Xp(n)){if(n=ni.current,n!==null&&((Wt&4194048)===Wt?Ri!==null:(Wt&62914560)!==Wt&&(Wt&536870912)===0||n!==Ri))throw pr=lh,Sm;t.flags|=8192}}function mu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Pt():536870912,t.lanes|=n,yl|=n)}function wr(t,n){if(!le)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,r=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=r,t.childLanes=s,n}function U0(t,n,s){var r=n.pendingProps;switch($c(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(n),null;case 1:return Ne(n),null;case 3:return s=n.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Wi(We),Tt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ur(n)?is(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,_m())),Ne(n),null;case 26:return s=n.memoizedState,t===null?(is(n),s!==null?(Ne(n),kg(n,s)):(Ne(n),n.flags&=-16777217)):s?s!==t.memoizedState?(is(n),Ne(n),kg(n,s)):(Ne(n),n.flags&=-16777217):(t.memoizedProps!==r&&is(n),Ne(n),n.flags&=-16777217),null;case 27:zt(n),s=wt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==r&&is(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return Ne(n),null}t=St.current,ur(n)?pm(n):(t=kp(c,r,s),n.stateNode=t,is(n))}return Ne(n),null;case 5:if(zt(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==r&&is(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return Ne(n),null}if(t=St.current,ur(n))pm(n);else{switch(c=Iu(wt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?c.createElement("select",{is:r.is}):c.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?c.createElement(s,{is:r.is}):c.createElement(s)}}t[Ze]=n,t[qe]=r;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(gn(t,s,r),s){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&is(n)}}return Ne(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==r&&is(n);else{if(typeof r!="string"&&n.stateNode===null)throw Error(l(166));if(t=wt.current,ur(n)){if(t=n.stateNode,s=n.memoizedProps,r=null,c=Vn,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}t[Ze]=n,t=!!(t.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||Op(t.nodeValue,s)),t||Ta(n)}else t=Iu(t).createTextNode(r),t[Ze]=n,n.stateNode=t}return Ne(n),null;case 13:if(r=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=ur(n),r!==null&&r.dehydrated!==null){if(t===null){if(!c)throw Error(l(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[Ze]=n}else cr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ne(n),c=!1}else c=_m(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(es(n),n):(es(n),null)}if(es(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=r!==null,t=t!==null&&t.memoizedState!==null,s){r=n.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool);var f=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==c&&(r.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),mu(n,n.updateQueue),Ne(n),null;case 4:return Tt(),t===null&&hf(n.stateNode.containerInfo),Ne(n),null;case 10:return Wi(n.type),Ne(n),null;case 19:if(dt(tn),c=n.memoizedState,c===null)return Ne(n),null;if(r=(n.flags&128)!==0,f=c.rendering,f===null)if(r)wr(c,!1);else{if(Me!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=uu(t),f!==null){for(n.flags|=128,wr(c,!1),t=f.updateQueue,n.updateQueue=t,mu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)mm(s,t),s=s.sibling;return st(tn,tn.current&1|2),n.child}t=t.sibling}c.tail!==null&&je()>yu&&(n.flags|=128,r=!0,wr(c,!1),n.lanes=4194304)}else{if(!r)if(t=uu(f),t!==null){if(n.flags|=128,r=!0,t=t.updateQueue,n.updateQueue=t,mu(n,t),wr(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!le)return Ne(n),null}else 2*je()-c.renderingStartTime>yu&&s!==536870912&&(n.flags|=128,r=!0,wr(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=je(),n.sibling=null,t=tn.current,st(tn,r?t&1|2:t&1),n):(Ne(n),null);case 22:case 23:return es(n),fh(),r=n.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?(s&536870912)!==0&&(n.flags&128)===0&&(Ne(n),n.subtreeFlags&6&&(n.flags|=8192)):Ne(n),s=n.updateQueue,s!==null&&mu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==s&&(n.flags|=2048),t!==null&&dt(Sa),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Wi(We),Ne(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function z0(t,n){switch($c(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Wi(We),Tt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return zt(n),null;case 13:if(es(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(l(340));cr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return dt(tn),null;case 4:return Tt(),null;case 10:return Wi(n.type),null;case 22:case 23:return es(n),fh(),t!==null&&dt(Sa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Wi(We),null;case 25:return null;default:return null}}function jg(t,n){switch($c(n),n.tag){case 3:Wi(We),Tt();break;case 26:case 27:case 5:zt(n);break;case 4:Tt();break;case 13:es(n);break;case 19:dt(tn);break;case 10:Wi(n.type);break;case 22:case 23:es(n),fh(),t!==null&&dt(Sa);break;case 24:Wi(We)}}function Ir(t,n){try{var s=n.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var c=r.next;s=c;do{if((s.tag&t)===t){r=void 0;var f=s.create,y=s.inst;r=f(),y.destroy=r}s=s.next}while(s!==c)}}catch(T){ye(n,n.return,T)}}function Rs(t,n,s){try{var r=n.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var f=c.next;r=f;do{if((r.tag&t)===t){var y=r.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,c=n;var w=s,k=T;try{k()}catch(K){ye(c,w,K)}}}r=r.next}while(r!==f)}}catch(K){ye(n,n.return,K)}}function qg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Cm(n,s)}catch(r){ye(t,t.return,r)}}}function Hg(t,n,s){s.props=Ra(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(r){ye(t,n,r)}}function Dr(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof s=="function"?t.refCleanup=s(r):s.current=r}}catch(c){ye(t,n,c)}}function wi(t,n){var s=t.ref,r=t.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(c){ye(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){ye(t,n,c)}else s.current=null}function Gg(t){var n=t.type,s=t.memoizedProps,r=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break t;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(c){ye(t,t.return,c)}}function kh(t,n,s){try{var r=t.stateNode;sT(r,t.type,s,n),r[qe]=n}catch(c){ye(t,t.return,c)}}function Qg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Os(t.type)||t.tag===4}function jh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Qg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Os(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qh(t,n,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=wu));else if(r!==4&&(r===27&&Os(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(qh(t,n,s),t=t.sibling;t!==null;)qh(t,n,s),t=t.sibling}function gu(t,n,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(r!==4&&(r===27&&Os(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(gu(t,n,s),t=t.sibling;t!==null;)gu(t,n,s),t=t.sibling}function Yg(t){var n=t.stateNode,s=t.memoizedProps;try{for(var r=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);gn(n,r,s),n[Ze]=t,n[qe]=s}catch(f){ye(t,t.return,f)}}var ss=!1,Pe=!1,Hh=!1,Fg=typeof WeakSet=="function"?WeakSet:Set,on=null;function P0(t,n){if(t=t.containerInfo,mf=Ou,t=sm(t),jc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var c=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var y=0,T=-1,w=-1,k=0,K=0,$=t,q=null;e:for(;;){for(var G;$!==s||c!==0&&$.nodeType!==3||(T=y+c),$!==f||r!==0&&$.nodeType!==3||(w=y+r),$.nodeType===3&&(y+=$.nodeValue.length),(G=$.firstChild)!==null;)q=$,$=G;for(;;){if($===t)break e;if(q===s&&++k===c&&(T=y),q===f&&++K===r&&(w=y),(G=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=G}s=T===-1||w===-1?null:{start:T,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(gf={focusedElem:t,selectionRange:s},Ou=!1,on=n;on!==null;)if(n=on,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,on=t;else for(;on!==null;){switch(n=on,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,r=s.stateNode;try{var Mt=Ra(s.type,c,s.elementType===s.type);t=r.getSnapshotBeforeUpdate(Mt,f),r.__reactInternalSnapshotBeforeUpdate=t}catch(Vt){ye(s,s.return,Vt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)_f(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_f(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=n.sibling,t!==null){t.return=n.return,on=t;break}on=n.return}}function Xg(t,n,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:ws(t,s),r&4&&Ir(5,s);break;case 1:if(ws(t,s),r&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(y){ye(s,s.return,y)}else{var c=Ra(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){ye(s,s.return,y)}}r&64&&qg(s),r&512&&Dr(s,s.return);break;case 3:if(ws(t,s),r&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Cm(t,n)}catch(y){ye(s,s.return,y)}}break;case 27:n===null&&r&4&&Yg(s);case 26:case 5:ws(t,s),n===null&&r&4&&Gg(s),r&512&&Dr(s,s.return);break;case 12:ws(t,s);break;case 13:ws(t,s),r&4&&Jg(t,s),r&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=F0.bind(null,s),hT(t,s))));break;case 22:if(r=s.memoizedState!==null||ss,!r){n=n!==null&&n.memoizedState!==null||Pe,c=ss;var f=Pe;ss=r,(Pe=n)&&!f?Is(t,s,(s.subtreeFlags&8772)!==0):ws(t,s),ss=c,Pe=f}break;case 30:break;default:ws(t,s)}}function Kg(t){var n=t.alternate;n!==null&&(t.alternate=null,Kg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ms(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var De=null,On=!1;function as(t,n,s){for(s=s.child;s!==null;)Zg(t,n,s),s=s.sibling}function Zg(t,n,s){if(ae&&typeof ae.onCommitFiberUnmount=="function")try{ae.onCommitFiberUnmount(Re,s)}catch{}switch(s.tag){case 26:Pe||wi(s,n),as(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Pe||wi(s,n);var r=De,c=On;Os(s.type)&&(De=s.stateNode,On=!1),as(t,n,s),zr(s.stateNode),De=r,On=c;break;case 5:Pe||wi(s,n);case 6:if(r=De,c=On,De=null,as(t,n,s),De=r,On=c,De!==null)if(On)try{(De.nodeType===9?De.body:De.nodeName==="HTML"?De.ownerDocument.body:De).removeChild(s.stateNode)}catch(f){ye(s,n,f)}else try{De.removeChild(s.stateNode)}catch(f){ye(s,n,f)}break;case 18:De!==null&&(On?(t=De,Pp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Qr(t)):Pp(De,s.stateNode));break;case 4:r=De,c=On,De=s.stateNode.containerInfo,On=!0,as(t,n,s),De=r,On=c;break;case 0:case 11:case 14:case 15:Pe||Rs(2,s,n),Pe||Rs(4,s,n),as(t,n,s);break;case 1:Pe||(wi(s,n),r=s.stateNode,typeof r.componentWillUnmount=="function"&&Hg(s,n,r)),as(t,n,s);break;case 21:as(t,n,s);break;case 22:Pe=(r=Pe)||s.memoizedState!==null,as(t,n,s),Pe=r;break;default:as(t,n,s)}}function Jg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Qr(t)}catch(s){ye(n,n.return,s)}}function B0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Fg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Fg),n;default:throw Error(l(435,t.tag))}}function Gh(t,n){var s=B0(t);n.forEach(function(r){var c=X0.bind(null,t,r);s.has(r)||(s.add(r),r.then(c,c))})}function jn(t,n){var s=n.deletions;if(s!==null)for(var r=0;r<s.length;r++){var c=s[r],f=t,y=n,T=y;t:for(;T!==null;){switch(T.tag){case 27:if(Os(T.type)){De=T.stateNode,On=!1;break t}break;case 5:De=T.stateNode,On=!1;break t;case 3:case 4:De=T.stateNode.containerInfo,On=!0;break t}T=T.return}if(De===null)throw Error(l(160));Zg(f,y,c),De=null,On=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)$g(n,t),n=n.sibling}var fi=null;function $g(t,n){var s=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:jn(n,t),qn(t),r&4&&(Rs(3,t,t.return),Ir(3,t),Rs(5,t,t.return));break;case 1:jn(n,t),qn(t),r&512&&(Pe||s===null||wi(s,s.return)),r&64&&ss&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var c=fi;if(jn(n,t),qn(t),r&512&&(Pe||s===null||wi(s,s.return)),r&4){var f=s!==null?s.memoizedState:null;if(r=t.memoizedState,s===null)if(r===null)if(t.stateNode===null){t:{r=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(r){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ta]||f[Ze]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(r),c.head.insertBefore(f,c.querySelector("head > title"))),gn(f,r,s),f[Ze]=t,Ue(f),r=f;break t;case"link":var y=Yp("link","href",c).get(r+(s.href||""));if(y){for(var T=0;T<y.length;T++)if(f=y[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(T,1);break e}}f=c.createElement(r),gn(f,r,s),c.head.appendChild(f);break;case"meta":if(y=Yp("meta","content",c).get(r+(s.content||""))){for(T=0;T<y.length;T++)if(f=y[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(T,1);break e}}f=c.createElement(r),gn(f,r,s),c.head.appendChild(f);break;default:throw Error(l(468,r))}f[Ze]=t,Ue(f),r=f}t.stateNode=r}else Fp(c,t.type,t.stateNode);else t.stateNode=Qp(c,r,t.memoizedProps);else f!==r?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,r===null?Fp(c,t.type,t.stateNode):Qp(c,r,t.memoizedProps)):r===null&&t.stateNode!==null&&kh(t,t.memoizedProps,s.memoizedProps)}break;case 27:jn(n,t),qn(t),r&512&&(Pe||s===null||wi(s,s.return)),s!==null&&r&4&&kh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(jn(n,t),qn(t),r&512&&(Pe||s===null||wi(s,s.return)),t.flags&32){c=t.stateNode;try{Xn(c,"")}catch(G){ye(t,t.return,G)}}r&4&&t.stateNode!=null&&(c=t.memoizedProps,kh(t,c,s!==null?s.memoizedProps:c)),r&1024&&(Hh=!0);break;case 6:if(jn(n,t),qn(t),r&4){if(t.stateNode===null)throw Error(l(162));r=t.memoizedProps,s=t.stateNode;try{s.nodeValue=r}catch(G){ye(t,t.return,G)}}break;case 3:if(Vu=null,c=fi,fi=Du(n.containerInfo),jn(n,t),fi=c,qn(t),r&4&&s!==null&&s.memoizedState.isDehydrated)try{Qr(n.containerInfo)}catch(G){ye(t,t.return,G)}Hh&&(Hh=!1,Wg(t));break;case 4:r=fi,fi=Du(t.stateNode.containerInfo),jn(n,t),qn(t),fi=r;break;case 12:jn(n,t),qn(t);break;case 13:jn(n,t),qn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Zh=je()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Gh(t,r)));break;case 22:c=t.memoizedState!==null;var w=s!==null&&s.memoizedState!==null,k=ss,K=Pe;if(ss=k||c,Pe=K||w,jn(n,t),Pe=K,ss=k,qn(t),r&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||w||ss||Pe||wa(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){w=s=n;try{if(f=w.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=w.stateNode;var $=w.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(G){ye(w,w.return,G)}}}else if(n.tag===6){if(s===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(G){ye(w,w.return,G)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}r&4&&(r=t.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,Gh(t,s))));break;case 19:jn(n,t),qn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Gh(t,r)));break;case 30:break;case 21:break;default:jn(n,t),qn(t)}}function qn(t){var n=t.flags;if(n&2){try{for(var s,r=t.return;r!==null;){if(Qg(r)){s=r;break}r=r.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var c=s.stateNode,f=jh(t);gu(t,f,c);break;case 5:var y=s.stateNode;s.flags&32&&(Xn(y,""),s.flags&=-33);var T=jh(t);gu(t,T,y);break;case 3:case 4:var w=s.stateNode.containerInfo,k=jh(t);qh(t,k,w);break;default:throw Error(l(161))}}catch(K){ye(t,t.return,K)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Wg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Wg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ws(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Xg(t,n.alternate,n),n=n.sibling}function wa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Rs(4,n,n.return),wa(n);break;case 1:wi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Hg(n,n.return,s),wa(n);break;case 27:zr(n.stateNode);case 26:case 5:wi(n,n.return),wa(n);break;case 22:n.memoizedState===null&&wa(n);break;case 30:wa(n);break;default:wa(n)}t=t.sibling}}function Is(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var r=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Is(c,f,s),Ir(4,f);break;case 1:if(Is(c,f,s),r=f,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){ye(r,r.return,k)}if(r=f,c=r.updateQueue,c!==null){var T=r.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Dm(w[c],T)}catch(k){ye(r,r.return,k)}}s&&y&64&&qg(f),Dr(f,f.return);break;case 27:Yg(f);case 26:case 5:Is(c,f,s),s&&r===null&&y&4&&Gg(f),Dr(f,f.return);break;case 12:Is(c,f,s);break;case 13:Is(c,f,s),s&&y&4&&Jg(c,f);break;case 22:f.memoizedState===null&&Is(c,f,s),Dr(f,f.return);break;case 30:break;default:Is(c,f,s)}n=n.sibling}}function Qh(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&dr(s))}function Yh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&dr(t))}function Ii(t,n,s,r){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)tp(t,n,s,r),n=n.sibling}function tp(t,n,s,r){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Ii(t,n,s,r),c&2048&&Ir(9,n);break;case 1:Ii(t,n,s,r);break;case 3:Ii(t,n,s,r),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&dr(t)));break;case 12:if(c&2048){Ii(t,n,s,r),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,T=f.onPostCommit;typeof T=="function"&&T(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){ye(n,n.return,w)}}else Ii(t,n,s,r);break;case 13:Ii(t,n,s,r);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Ii(t,n,s,r):Cr(t,n):f._visibility&2?Ii(t,n,s,r):(f._visibility|=2,ml(t,n,s,r,(n.subtreeFlags&10256)!==0)),c&2048&&Qh(y,n);break;case 24:Ii(t,n,s,r),c&2048&&Yh(n.alternate,n);break;default:Ii(t,n,s,r)}}function ml(t,n,s,r,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,T=s,w=r,k=y.flags;switch(y.tag){case 0:case 11:case 15:ml(f,y,T,w,c),Ir(8,y);break;case 23:break;case 22:var K=y.stateNode;y.memoizedState!==null?K._visibility&2?ml(f,y,T,w,c):Cr(f,y):(K._visibility|=2,ml(f,y,T,w,c)),c&&k&2048&&Qh(y.alternate,y);break;case 24:ml(f,y,T,w,c),c&&k&2048&&Yh(y.alternate,y);break;default:ml(f,y,T,w,c)}n=n.sibling}}function Cr(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,r=n,c=r.flags;switch(r.tag){case 22:Cr(s,r),c&2048&&Qh(r.alternate,r);break;case 24:Cr(s,r),c&2048&&Yh(r.alternate,r);break;default:Cr(s,r)}n=n.sibling}}var Vr=8192;function gl(t){if(t.subtreeFlags&Vr)for(t=t.child;t!==null;)ep(t),t=t.sibling}function ep(t){switch(t.tag){case 26:gl(t),t.flags&Vr&&t.memoizedState!==null&&bT(fi,t.memoizedState,t.memoizedProps);break;case 5:gl(t);break;case 3:case 4:var n=fi;fi=Du(t.stateNode.containerInfo),gl(t),fi=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Vr,Vr=16777216,gl(t),Vr=n):gl(t));break;default:gl(t)}}function np(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Nr(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];on=r,sp(r,t)}np(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ip(t),t=t.sibling}function ip(t){switch(t.tag){case 0:case 11:case 15:Nr(t),t.flags&2048&&Rs(9,t,t.return);break;case 3:Nr(t);break;case 12:Nr(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,pu(t)):Nr(t);break;default:Nr(t)}}function pu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];on=r,sp(r,t)}np(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Rs(8,n,n.return),pu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,pu(n));break;default:pu(n)}t=t.sibling}}function sp(t,n){for(;on!==null;){var s=on;switch(s.tag){case 0:case 11:case 15:Rs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:dr(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,on=r;else t:for(s=t;on!==null;){r=on;var c=r.sibling,f=r.return;if(Kg(r),r===s){on=null;break t}if(c!==null){c.return=f,on=c;break t}on=f}}}var k0={getCacheForType:function(t){var n=En(We),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},j0=typeof WeakMap=="function"?WeakMap:Map,he=0,Ee=null,Yt=null,Wt=0,fe=0,Hn=null,Ds=!1,pl=!1,Fh=!1,ls=0,Me=0,Cs=0,Ia=0,Xh=0,ii=0,yl=0,xr=null,Mn=null,Kh=!1,Zh=0,yu=1/0,_u=null,Vs=null,mn=0,Ns=null,_l=null,vl=0,Jh=0,$h=null,ap=null,Or=0,Wh=null;function Gn(){if((he&2)!==0&&Wt!==0)return Wt&-Wt;if(Q.T!==null){var t=ll;return t!==0?t:rf()}return Te()}function lp(){ii===0&&(ii=(Wt&536870912)===0||le?ut():536870912);var t=ni.current;return t!==null&&(t.flags|=32),ii}function Qn(t,n,s){(t===Ee&&(fe===2||fe===9)||t.cancelPendingCommit!==null)&&(Tl(t,0),xs(t,Wt,ii,!1)),ne(t,s),((he&2)===0||t!==Ee)&&(t===Ee&&((he&2)===0&&(Ia|=s),Me===4&&xs(t,Wt,ii,!1)),Di(t))}function rp(t,n,s){if((he&6)!==0)throw Error(l(327));var r=!s&&(n&124)===0&&(n&t.expiredLanes)===0||ht(t,n),c=r?G0(t,n):nf(t,n,!0),f=r;do{if(c===0){pl&&!r&&xs(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!q0(s)){c=nf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var T=t;c=xr;var w=T.current.memoizedState.isDehydrated;if(w&&(Tl(T,y).flags|=256),y=nf(T,y,!1),y!==2){if(Fh&&!w){T.errorRecoveryDisabledLanes|=f,Ia|=f,c=4;break t}f=Mn,Mn=c,f!==null&&(Mn===null?Mn=f:Mn.push.apply(Mn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Tl(t,0),xs(t,n,0,!0);break}t:{switch(r=t,f=c,f){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:xs(r,n,ii,!Ds);break t;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(c=Zh+300-je(),10<c)){if(xs(r,n,ii,!Ds),Rt(r,0,!0)!==0)break t;r.timeoutHandle=Up(op.bind(null,r,s,Mn,_u,Kh,n,ii,Ia,yl,Ds,f,2,-0,0),c);break t}op(r,s,Mn,_u,Kh,n,ii,Ia,yl,Ds,f,0,-0,0)}}break}while(!0);Di(t)}function op(t,n,s,r,c,f,y,T,w,k,K,$,q,G){if(t.timeoutHandle=-1,$=n.subtreeFlags,($&8192||($&16785408)===16785408)&&(kr={stylesheets:null,count:0,unsuspend:ST},ep(n),$=RT(),$!==null)){t.cancelPendingCommit=$(gp.bind(null,t,n,f,s,r,c,y,T,w,K,1,q,G)),xs(t,f,y,!k);return}gp(t,n,f,s,r,c,y,T,w)}function q0(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var c=s[r],f=c.getSnapshot;c=c.value;try{if(!Bn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xs(t,n,s,r){n&=~Xh,n&=~Ia,t.suspendedLanes|=n,t.pingedLanes&=~n,r&&(t.warmLanes|=n),r=t.expirationTimes;for(var c=n;0<c;){var f=31-sn(c),y=1<<f;r[f]=-1,c&=~y}s!==0&&pt(t,s,n)}function vu(){return(he&6)===0?(Mr(0),!1):!0}function tf(){if(Yt!==null){if(fe===0)var t=Yt.return;else t=Yt,$i=Ea=null,yh(t),fl=null,br=0,t=Yt;for(;t!==null;)jg(t.alternate,t),t=t.return;Yt=null}}function Tl(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,lT(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),tf(),Ee=t,Yt=s=Ki(t.current,null),Wt=n,fe=0,Hn=null,Ds=!1,pl=ht(t,n),Fh=!1,yl=ii=Xh=Ia=Cs=Me=0,Mn=xr=null,Kh=!1,(n&8)!==0&&(n|=n&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=n;0<r;){var c=31-sn(r),f=1<<c;n|=t[c],r&=~f}return ls=n,jo(),s}function up(t,n){Gt=null,Q.H=lu,n===gr||n===Zo?(n=wm(),fe=3):n===Sm?(n=wm(),fe=4):fe=n===Ig?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Hn=n,Yt===null&&(Me=1,hu(t,$n(n,t.current)))}function cp(){var t=Q.H;return Q.H=lu,t===null?lu:t}function hp(){var t=Q.A;return Q.A=k0,t}function ef(){Me=4,Ds||(Wt&4194048)!==Wt&&ni.current!==null||(pl=!0),(Cs&134217727)===0&&(Ia&134217727)===0||Ee===null||xs(Ee,Wt,ii,!1)}function nf(t,n,s){var r=he;he|=2;var c=cp(),f=hp();(Ee!==t||Wt!==n)&&(_u=null,Tl(t,n)),n=!1;var y=Me;t:do try{if(fe!==0&&Yt!==null){var T=Yt,w=Hn;switch(fe){case 8:tf(),y=6;break t;case 3:case 2:case 9:case 6:ni.current===null&&(n=!0);var k=fe;if(fe=0,Hn=null,El(t,T,w,k),s&&pl){y=0;break t}break;default:k=fe,fe=0,Hn=null,El(t,T,w,k)}}H0(),y=Me;break}catch(K){up(t,K)}while(!0);return n&&t.shellSuspendCounter++,$i=Ea=null,he=r,Q.H=c,Q.A=f,Yt===null&&(Ee=null,Wt=0,jo()),y}function H0(){for(;Yt!==null;)fp(Yt)}function G0(t,n){var s=he;he|=2;var r=cp(),c=hp();Ee!==t||Wt!==n?(_u=null,yu=je()+500,Tl(t,n)):pl=ht(t,n);t:do try{if(fe!==0&&Yt!==null){n=Yt;var f=Hn;e:switch(fe){case 1:fe=0,Hn=null,El(t,n,f,1);break;case 2:case 9:if(bm(f)){fe=0,Hn=null,dp(n);break}n=function(){fe!==2&&fe!==9||Ee!==t||(fe=7),Di(t)},f.then(n,n);break t;case 3:fe=7;break t;case 4:fe=5;break t;case 7:bm(f)?(fe=0,Hn=null,dp(n)):(fe=0,Hn=null,El(t,n,f,7));break;case 5:var y=null;switch(Yt.tag){case 26:y=Yt.memoizedState;case 5:case 27:var T=Yt;if(!y||Xp(y)){fe=0,Hn=null;var w=T.sibling;if(w!==null)Yt=w;else{var k=T.return;k!==null?(Yt=k,Tu(k)):Yt=null}break e}}fe=0,Hn=null,El(t,n,f,5);break;case 6:fe=0,Hn=null,El(t,n,f,6);break;case 8:tf(),Me=6;break t;default:throw Error(l(462))}}Q0();break}catch(K){up(t,K)}while(!0);return $i=Ea=null,Q.H=r,Q.A=c,he=s,Yt!==null?0:(Ee=null,Wt=0,jo(),Me)}function Q0(){for(;Yt!==null&&!Ve();)fp(Yt)}function fp(t){var n=Bg(t.alternate,t,ls);t.memoizedProps=t.pendingProps,n===null?Tu(t):Yt=n}function dp(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Og(s,n,n.pendingProps,n.type,void 0,Wt);break;case 11:n=Og(s,n,n.pendingProps,n.type.render,n.ref,Wt);break;case 5:yh(n);default:jg(s,n),n=Yt=mm(n,ls),n=Bg(s,n,ls)}t.memoizedProps=t.pendingProps,n===null?Tu(t):Yt=n}function El(t,n,s,r){$i=Ea=null,yh(n),fl=null,br=0;var c=n.return;try{if(M0(t,c,n,s,Wt)){Me=1,hu(t,$n(s,t.current)),Yt=null;return}}catch(f){if(c!==null)throw Yt=c,f;Me=1,hu(t,$n(s,t.current)),Yt=null;return}n.flags&32768?(le||r===1?t=!0:pl||(Wt&536870912)!==0?t=!1:(Ds=t=!0,(r===2||r===9||r===3||r===6)&&(r=ni.current,r!==null&&r.tag===13&&(r.flags|=16384))),mp(n,t)):Tu(n)}function Tu(t){var n=t;do{if((n.flags&32768)!==0){mp(n,Ds);return}t=n.return;var s=U0(n.alternate,n,ls);if(s!==null){Yt=s;return}if(n=n.sibling,n!==null){Yt=n;return}Yt=n=t}while(n!==null);Me===0&&(Me=5)}function mp(t,n){do{var s=z0(t.alternate,t);if(s!==null){s.flags&=32767,Yt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Yt=t;return}Yt=t=s}while(t!==null);Me=6,Yt=null}function gp(t,n,s,r,c,f,y,T,w){t.cancelPendingCommit=null;do Eu();while(mn!==0);if((he&6)!==0)throw Error(l(327));if(n!==null){if(n===t.current)throw Error(l(177));if(f=n.lanes|n.childLanes,f|=Yc,ce(t,s,f,y,T,w),t===Ee&&(Yt=Ee=null,Wt=0),_l=n,Ns=t,vl=s,Jh=f,$h=c,ap=r,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,K0(zn,function(){return Tp(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||r){r=Q.T,Q.T=null,c=ot.p,ot.p=2,y=he,he|=4;try{P0(t,n,s)}finally{he=y,ot.p=c,Q.T=r}}mn=1,pp(),yp(),_p()}}function pp(){if(mn===1){mn=0;var t=Ns,n=_l,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var r=ot.p;ot.p=2;var c=he;he|=4;try{$g(n,t);var f=gf,y=sm(t.containerInfo),T=f.focusedElem,w=f.selectionRange;if(y!==T&&T&&T.ownerDocument&&im(T.ownerDocument.documentElement,T)){if(w!==null&&jc(T)){var k=w.start,K=w.end;if(K===void 0&&(K=k),"selectionStart"in T)T.selectionStart=k,T.selectionEnd=Math.min(K,T.value.length);else{var $=T.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var G=q.getSelection(),Mt=T.textContent.length,Vt=Math.min(w.start,Mt),pe=w.end===void 0?Vt:Math.min(w.end,Mt);!G.extend&&Vt>pe&&(y=pe,pe=Vt,Vt=y);var U=nm(T,Vt),O=nm(T,pe);if(U&&O&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==O.node||G.focusOffset!==O.offset)){var B=$.createRange();B.setStart(U.node,U.offset),G.removeAllRanges(),Vt>pe?(G.addRange(B),G.extend(O.node,O.offset)):(B.setEnd(O.node,O.offset),G.addRange(B))}}}}for($=[],G=T;G=G.parentNode;)G.nodeType===1&&$.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var Z=$[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Ou=!!mf,gf=mf=null}finally{he=c,ot.p=r,Q.T=s}}t.current=n,mn=2}}function yp(){if(mn===2){mn=0;var t=Ns,n=_l,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var r=ot.p;ot.p=2;var c=he;he|=4;try{Xg(t,n.alternate,n)}finally{he=c,ot.p=r,Q.T=s}}mn=3}}function _p(){if(mn===4||mn===3){mn=0,ke();var t=Ns,n=_l,s=vl,r=ap;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?mn=5:(mn=0,_l=Ns=null,vp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Vs=null),Ke(s),n=n.stateNode,ae&&typeof ae.onCommitFiberRoot=="function")try{ae.onCommitFiberRoot(Re,n,void 0,(n.current.flags&128)===128)}catch{}if(r!==null){n=Q.T,c=ot.p,ot.p=2,Q.T=null;try{for(var f=t.onRecoverableError,y=0;y<r.length;y++){var T=r[y];f(T.value,{componentStack:T.stack})}}finally{Q.T=n,ot.p=c}}(vl&3)!==0&&Eu(),Di(t),c=t.pendingLanes,(s&4194090)!==0&&(c&42)!==0?t===Wh?Or++:(Or=0,Wh=t):Or=0,Mr(0)}}function vp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,dr(n)))}function Eu(t){return pp(),yp(),_p(),Tp()}function Tp(){if(mn!==5)return!1;var t=Ns,n=Jh;Jh=0;var s=Ke(vl),r=Q.T,c=ot.p;try{ot.p=32>s?32:s,Q.T=null,s=$h,$h=null;var f=Ns,y=vl;if(mn=0,_l=Ns=null,vl=0,(he&6)!==0)throw Error(l(331));var T=he;if(he|=4,ip(f.current),tp(f,f.current,y,s),he=T,Mr(0,!1),ae&&typeof ae.onPostCommitFiberRoot=="function")try{ae.onPostCommitFiberRoot(Re,f)}catch{}return!0}finally{ot.p=c,Q.T=r,vp(t,n)}}function Ep(t,n,s){n=$n(s,n),n=Nh(t.stateNode,n,2),t=Es(t,n,2),t!==null&&(ne(t,2),Di(t))}function ye(t,n,s){if(t.tag===3)Ep(t,t,s);else for(;n!==null;){if(n.tag===3){Ep(n,t,s);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vs===null||!Vs.has(r))){t=$n(s,t),s=Rg(2),r=Es(n,s,2),r!==null&&(wg(s,r,n,t),ne(r,2),Di(r));break}}n=n.return}}function sf(t,n,s){var r=t.pingCache;if(r===null){r=t.pingCache=new j0;var c=new Set;r.set(n,c)}else c=r.get(n),c===void 0&&(c=new Set,r.set(n,c));c.has(s)||(Fh=!0,c.add(s),t=Y0.bind(null,t,n,s),n.then(t,t))}function Y0(t,n,s){var r=t.pingCache;r!==null&&r.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Ee===t&&(Wt&s)===s&&(Me===4||Me===3&&(Wt&62914560)===Wt&&300>je()-Zh?(he&2)===0&&Tl(t,0):Xh|=s,yl===Wt&&(yl=0)),Di(t)}function Ap(t,n){n===0&&(n=Pt()),t=nl(t,n),t!==null&&(ne(t,n),Di(t))}function F0(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Ap(t,s)}function X0(t,n){var s=0;switch(t.tag){case 13:var r=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(n),Ap(t,s)}function K0(t,n){return Ce(t,n)}var Au=null,Al=null,af=!1,Su=!1,lf=!1,Da=0;function Di(t){t!==Al&&t.next===null&&(Al===null?Au=Al=t:Al=Al.next=t),Su=!0,af||(af=!0,J0())}function Mr(t,n){if(!lf&&Su){lf=!0;do for(var s=!1,r=Au;r!==null;){if(t!==0){var c=r.pendingLanes;if(c===0)var f=0;else{var y=r.suspendedLanes,T=r.pingedLanes;f=(1<<31-sn(42|t)+1)-1,f&=c&~(y&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,wp(r,f))}else f=Wt,f=Rt(r,r===Ee?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||ht(r,f)||(s=!0,wp(r,f));r=r.next}while(s);lf=!1}}function Z0(){Sp()}function Sp(){Su=af=!1;var t=0;Da!==0&&(aT()&&(t=Da),Da=0);for(var n=je(),s=null,r=Au;r!==null;){var c=r.next,f=bp(r,n);f===0?(r.next=null,s===null?Au=c:s.next=c,c===null&&(Al=s)):(s=r,(t!==0||(f&3)!==0)&&(Su=!0)),r=c}Mr(t)}function bp(t,n){for(var s=t.suspendedLanes,r=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-sn(f),T=1<<y,w=c[y];w===-1?((T&s)===0||(T&r)!==0)&&(c[y]=z(T,n)):w<=n&&(t.expiredLanes|=T),f&=~T}if(n=Ee,s=Wt,s=Rt(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,s===0||t===n&&(fe===2||fe===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Zt(r),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ht(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(r!==null&&Zt(r),Ke(s)){case 2:case 8:s=Nn;break;case 32:s=zn;break;case 268435456:s=ri;break;default:s=zn}return r=Rp.bind(null,t),s=Ce(s,r),t.callbackPriority=n,t.callbackNode=s,n}return r!==null&&r!==null&&Zt(r),t.callbackPriority=2,t.callbackNode=null,2}function Rp(t,n){if(mn!==0&&mn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Eu()&&t.callbackNode!==s)return null;var r=Wt;return r=Rt(t,t===Ee?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(rp(t,r,n),bp(t,je()),t.callbackNode!=null&&t.callbackNode===s?Rp.bind(null,t):null)}function wp(t,n){if(Eu())return null;rp(t,n,!0)}function J0(){rT(function(){(he&6)!==0?Ce(wn,Z0):Sp()})}function rf(){return Da===0&&(Da=ut()),Da}function Ip(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ga(""+t)}function Dp(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function $0(t,n,s,r,c){if(n==="submit"&&s&&s.stateNode===c){var f=Ip((c[qe]||null).action),y=r.submitter;y&&(n=(n=y[qe]||null)?Ip(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var T=new Qa("action","action",null,r,c);t.push({event:T,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Da!==0){var w=y?Dp(c,y):new FormData(c);wh(s,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(T.preventDefault(),w=y?Dp(c,y):new FormData(c),wh(s,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var of=0;of<Qc.length;of++){var uf=Qc[of],W0=uf.toLowerCase(),tT=uf[0].toUpperCase()+uf.slice(1);hi(W0,"on"+tT)}hi(rm,"onAnimationEnd"),hi(om,"onAnimationIteration"),hi(um,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(y0,"onTransitionRun"),hi(_0,"onTransitionStart"),hi(v0,"onTransitionCancel"),hi(cm,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lr));function Cp(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var r=t[s],c=r.event;r=r.listeners;t:{var f=void 0;if(n)for(var y=r.length-1;0<=y;y--){var T=r[y],w=T.instance,k=T.currentTarget;if(T=T.listener,w!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=k;try{f(c)}catch(K){cu(K)}c.currentTarget=null,f=w}else for(y=0;y<r.length;y++){if(T=r[y],w=T.instance,k=T.currentTarget,T=T.listener,w!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=k;try{f(c)}catch(K){cu(K)}c.currentTarget=null,f=w}}}}function Ft(t,n){var s=n[Yl];s===void 0&&(s=n[Yl]=new Set);var r=t+"__bubble";s.has(r)||(Vp(n,t,2,!1),s.add(r))}function cf(t,n,s){var r=0;n&&(r|=4),Vp(s,t,r,n)}var bu="_reactListening"+Math.random().toString(36).slice(2);function hf(t){if(!t[bu]){t[bu]=!0,Fl.forEach(function(s){s!=="selectionchange"&&(eT.has(s)||cf(s,!1,t),cf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[bu]||(n[bu]=!0,cf("selectionchange",!1,n))}}function Vp(t,n,s,r){switch(ty(n)){case 2:var c=DT;break;case 8:c=CT;break;default:c=Rf}s=c.bind(null,n,s,t),c=void 0,!Zn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),r?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function ff(t,n,s,r,c){var f=r;if((n&1)===0&&(n&2)===0&&r!==null)t:for(;;){if(r===null)return;var y=r.tag;if(y===3||y===4){var T=r.stateNode.containerInfo;if(T===c)break;if(y===4)for(y=r.return;y!==null;){var w=y.tag;if((w===3||w===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;T!==null;){if(y=Bi(T),y===null)return;if(w=y.tag,w===5||w===6||w===26||w===27){r=f=y;continue t}T=T.parentNode}}r=r.return}wo(function(){var k=f,K=Kn(s),$=[];t:{var q=hm.get(t);if(q!==void 0){var G=Qa,Mt=t;switch(t){case"keypress":if(vi(s)===0)break t;case"keydown":case"keyup":G=Ja;break;case"focusin":Mt="focus",G=Xa;break;case"focusout":Mt="blur",G=Xa;break;case"beforeblur":case"afterblur":G=Xa;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=zc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Mo;break;case rm:case om:case um:G=Ka;break;case cm:G=Uo;break;case"scroll":case"scrollend":G=Io;break;case"wheel":G=$a;break;case"copy":case"cut":case"paste":G=Za;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=ar;break;case"toggle":case"beforetoggle":G=Po}var Vt=(n&4)!==0,pe=!Vt&&(t==="scroll"||t==="scrollend"),U=Vt?q!==null?q+"Capture":null:q;Vt=[];for(var O=k,B;O!==null;){var Z=O;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||U===null||(Z=ra(O,U),Z!=null&&Vt.push(Ur(O,Z,B))),pe)break;O=O.return}0<Vt.length&&(q=new G(q,Mt,null,s,K),$.push({event:q,listeners:Vt}))}}if((n&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&s!==Hi&&(Mt=s.relatedTarget||s.fromElement)&&(Bi(Mt)||Mt[Fn]))break t;if((G||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,G?(Mt=s.relatedTarget||s.toElement,G=k,Mt=Mt?Bi(Mt):null,Mt!==null&&(pe=h(Mt),Vt=Mt.tag,Mt!==pe||Vt!==5&&Vt!==27&&Vt!==6)&&(Mt=null)):(G=null,Mt=k),G!==Mt)){if(Vt=Jn,Z="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Vt=ar,Z="onPointerLeave",U="onPointerEnter",O="pointer"),pe=G==null?q:gi(G),B=Mt==null?q:gi(Mt),q=new Vt(Z,O+"leave",G,s,K),q.target=pe,q.relatedTarget=B,Z=null,Bi(K)===k&&(Vt=new Vt(U,O+"enter",Mt,s,K),Vt.target=B,Vt.relatedTarget=pe,Z=Vt),pe=Z,G&&Mt)e:{for(Vt=G,U=Mt,O=0,B=Vt;B;B=Sl(B))O++;for(B=0,Z=U;Z;Z=Sl(Z))B++;for(;0<O-B;)Vt=Sl(Vt),O--;for(;0<B-O;)U=Sl(U),B--;for(;O--;){if(Vt===U||U!==null&&Vt===U.alternate)break e;Vt=Sl(Vt),U=Sl(U)}Vt=null}else Vt=null;G!==null&&Np($,q,G,Vt,!1),Mt!==null&&pe!==null&&Np($,pe,Mt,Vt,!0)}}t:{if(q=k?gi(k):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var yt=Zd;else if($e(q))if(Jd)yt=m0;else{yt=f0;var Qt=h0}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?k&&$l(k.elementType)&&(yt=Zd):yt=d0;if(yt&&(yt=yt(t,k))){Xi($,yt,s,K);break t}Qt&&Qt(t,q,k),t==="focusout"&&k&&q.type==="number"&&k.memoizedProps.value!=null&&ps(q,"number",q.value)}switch(Qt=k?gi(k):window,t){case"focusin":($e(Qt)||Qt.contentEditable==="true")&&(Wa=Qt,qc=k,or=null);break;case"focusout":or=qc=Wa=null;break;case"mousedown":Hc=!0;break;case"contextmenu":case"mouseup":case"dragend":Hc=!1,am($,s,K);break;case"selectionchange":if(p0)break;case"keydown":case"keyup":am($,s,K)}var bt;if(Ai)t:{switch(t){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else Jt?Y(t,s)&&(xt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(xt="onCompositionStart");xt&&(p&&s.locale!=="ko"&&(Jt||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&Jt&&(bt=tr()):(_i=K,ys="value"in _i?_i.value:_i.textContent,Jt=!0)),Qt=Ru(k,xt),0<Qt.length&&(xt=new ir(xt,t,null,s,K),$.push({event:xt,listeners:Qt}),bt?xt.data=bt:(bt=ft(s),bt!==null&&(xt.data=bt)))),(bt=m?Je(t,s):$t(t,s))&&(xt=Ru(k,"onBeforeInput"),0<xt.length&&(Qt=new ir("onBeforeInput","beforeinput",null,s,K),$.push({event:Qt,listeners:xt}),Qt.data=bt)),$0($,t,k,s,K)}Cp($,n)})}function Ur(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Ru(t,n){for(var s=n+"Capture",r=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=ra(t,s),c!=null&&r.unshift(Ur(t,c,f)),c=ra(t,n),c!=null&&r.push(Ur(t,c,f))),t.tag===3)return r;t=t.return}return[]}function Sl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Np(t,n,s,r,c){for(var f=n._reactName,y=[];s!==null&&s!==r;){var T=s,w=T.alternate,k=T.stateNode;if(T=T.tag,w!==null&&w===r)break;T!==5&&T!==26&&T!==27||k===null||(w=k,c?(k=ra(s,f),k!=null&&y.unshift(Ur(s,k,w))):c||(k=ra(s,f),k!=null&&y.push(Ur(s,k,w)))),s=s.return}y.length!==0&&t.push({event:n,listeners:y})}var nT=/\r\n?/g,iT=/\u0000|\uFFFD/g;function xp(t){return(typeof t=="string"?t:""+t).replace(nT,`
`).replace(iT,"")}function Op(t,n){return n=xp(n),xp(t)===n}function wu(){}function ge(t,n,s,r,c,f){switch(s){case"children":typeof r=="string"?n==="body"||n==="textarea"&&r===""||Xn(t,r):(typeof r=="number"||typeof r=="bigint")&&n!=="body"&&Xn(t,""+r);break;case"className":pi(t,"class",r);break;case"tabIndex":pi(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":pi(t,s,r);break;case"style":Jl(t,r,f);break;case"data":if(n!=="object"){pi(t,"data",r);break}case"src":case"href":if(r===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(s);break}r=Ga(""+r),t.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ge(t,n,"name",c.name,c,null),ge(t,n,"formEncType",c.formEncType,c,null),ge(t,n,"formMethod",c.formMethod,c,null),ge(t,n,"formTarget",c.formTarget,c,null)):(ge(t,n,"encType",c.encType,c,null),ge(t,n,"method",c.method,c,null),ge(t,n,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(s);break}r=Ga(""+r),t.setAttribute(s,r);break;case"onClick":r!=null&&(t.onclick=wu);break;case"onScroll":r!=null&&Ft("scroll",t);break;case"onScrollEnd":r!=null&&Ft("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(l(60));t.innerHTML=s}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}s=Ga(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(s,""+r):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":r===!0?t.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(s,r):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(s,r):t.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(s):t.setAttribute(s,r);break;case"popover":Ft("beforetoggle",t),Ft("toggle",t),gs(t,"popover",r);break;case"xlinkActuate":hn(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":hn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":hn(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":hn(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":hn(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":hn(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":hn(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":hn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":hn(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":gs(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Lc.get(s)||s,gs(t,s,r))}}function df(t,n,s,r,c,f){switch(s){case"style":Jl(t,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(l(60));t.innerHTML=s}}break;case"children":typeof r=="string"?Xn(t,r):(typeof r=="number"||typeof r=="bigint")&&Xn(t,""+r);break;case"onScroll":r!=null&&Ft("scroll",t);break;case"onScrollEnd":r!=null&&Ft("scrollend",t);break;case"onClick":r!=null&&(t.onclick=wu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ba.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[qe]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof r=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,r,c);break t}s in t?t[s]=r:r===!0?t.setAttribute(s,""):gs(t,s,r)}}}function gn(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ft("error",t),Ft("load",t);var r=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var y=s[f];if(y!=null)switch(f){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:ge(t,n,f,y,s,null)}}c&&ge(t,n,"srcSet",s.srcSet,s,null),r&&ge(t,n,"src",s.src,s,null);return;case"input":Ft("invalid",t);var T=f=y=c=null,w=null,k=null;for(r in s)if(s.hasOwnProperty(r)){var K=s[r];if(K!=null)switch(r){case"name":c=K;break;case"type":y=K;break;case"checked":w=K;break;case"defaultChecked":k=K;break;case"value":f=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(l(137,n));break;default:ge(t,n,r,K,s,null)}}sa(t,f,T,w,k,y,c,!1),Ha(t);return;case"select":Ft("invalid",t),r=y=f=null;for(c in s)if(s.hasOwnProperty(c)&&(T=s[c],T!=null))switch(c){case"value":f=T;break;case"defaultValue":y=T;break;case"multiple":r=T;default:ge(t,n,c,T,s,null)}n=f,s=y,t.multiple=!!r,n!=null?qi(t,!!r,n,!1):s!=null&&qi(t,!!r,s,!0);return;case"textarea":Ft("invalid",t),f=c=r=null;for(y in s)if(s.hasOwnProperty(y)&&(T=s[y],T!=null))switch(y){case"value":r=T;break;case"defaultValue":c=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(l(91));break;default:ge(t,n,y,T,s,null)}aa(t,r,c,f),Ha(t);return;case"option":for(w in s)if(s.hasOwnProperty(w)&&(r=s[w],r!=null))switch(w){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:ge(t,n,w,r,s,null)}return;case"dialog":Ft("beforetoggle",t),Ft("toggle",t),Ft("cancel",t),Ft("close",t);break;case"iframe":case"object":Ft("load",t);break;case"video":case"audio":for(r=0;r<Lr.length;r++)Ft(Lr[r],t);break;case"image":Ft("error",t),Ft("load",t);break;case"details":Ft("toggle",t);break;case"embed":case"source":case"link":Ft("error",t),Ft("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in s)if(s.hasOwnProperty(k)&&(r=s[k],r!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:ge(t,n,k,r,s,null)}return;default:if($l(n)){for(K in s)s.hasOwnProperty(K)&&(r=s[K],r!==void 0&&df(t,n,K,r,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(r=s[T],r!=null&&ge(t,n,T,r,s,null))}function sT(t,n,s,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,T=null,w=null,k=null,K=null;for(G in s){var $=s[G];if(s.hasOwnProperty(G)&&$!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":w=$;default:r.hasOwnProperty(G)||ge(t,n,G,null,r,$)}}for(var q in r){var G=r[q];if($=s[q],r.hasOwnProperty(q)&&(G!=null||$!=null))switch(q){case"type":f=G;break;case"name":c=G;break;case"checked":k=G;break;case"defaultChecked":K=G;break;case"value":y=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(l(137,n));break;default:G!==$&&ge(t,n,q,G,r,$)}}Pn(t,y,T,w,k,K,f,c);return;case"select":G=y=T=q=null;for(f in s)if(w=s[f],s.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":G=w;default:r.hasOwnProperty(f)||ge(t,n,f,null,r,w)}for(c in r)if(f=r[c],w=s[c],r.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":q=f;break;case"defaultValue":T=f;break;case"multiple":y=f;default:f!==w&&ge(t,n,c,f,r,w)}n=T,s=y,r=G,q!=null?qi(t,!!s,q,!1):!!r!=!!s&&(n!=null?qi(t,!!s,n,!0):qi(t,!!s,s?[]:"",!1));return;case"textarea":G=q=null;for(T in s)if(c=s[T],s.hasOwnProperty(T)&&c!=null&&!r.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ge(t,n,T,null,r,c)}for(y in r)if(c=r[y],f=s[y],r.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":q=c;break;case"defaultValue":G=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==f&&ge(t,n,y,c,r,f)}de(t,q,G);return;case"option":for(var Mt in s)if(q=s[Mt],s.hasOwnProperty(Mt)&&q!=null&&!r.hasOwnProperty(Mt))switch(Mt){case"selected":t.selected=!1;break;default:ge(t,n,Mt,null,r,q)}for(w in r)if(q=r[w],G=s[w],r.hasOwnProperty(w)&&q!==G&&(q!=null||G!=null))switch(w){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:ge(t,n,w,q,r,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Vt in s)q=s[Vt],s.hasOwnProperty(Vt)&&q!=null&&!r.hasOwnProperty(Vt)&&ge(t,n,Vt,null,r,q);for(k in r)if(q=r[k],G=s[k],r.hasOwnProperty(k)&&q!==G&&(q!=null||G!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(l(137,n));break;default:ge(t,n,k,q,r,G)}return;default:if($l(n)){for(var pe in s)q=s[pe],s.hasOwnProperty(pe)&&q!==void 0&&!r.hasOwnProperty(pe)&&df(t,n,pe,void 0,r,q);for(K in r)q=r[K],G=s[K],!r.hasOwnProperty(K)||q===G||q===void 0&&G===void 0||df(t,n,K,q,r,G);return}}for(var U in s)q=s[U],s.hasOwnProperty(U)&&q!=null&&!r.hasOwnProperty(U)&&ge(t,n,U,null,r,q);for($ in r)q=r[$],G=s[$],!r.hasOwnProperty($)||q===G||q==null&&G==null||ge(t,n,$,q,r,G)}var mf=null,gf=null;function Iu(t){return t.nodeType===9?t:t.ownerDocument}function Mp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function pf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yf=null;function aT(){var t=window.event;return t&&t.type==="popstate"?t===yf?!1:(yf=t,!0):(yf=null,!1)}var Up=typeof setTimeout=="function"?setTimeout:void 0,lT=typeof clearTimeout=="function"?clearTimeout:void 0,zp=typeof Promise=="function"?Promise:void 0,rT=typeof queueMicrotask=="function"?queueMicrotask:typeof zp<"u"?function(t){return zp.resolve(null).then(t).catch(oT)}:Up;function oT(t){setTimeout(function(){throw t})}function Os(t){return t==="head"}function Pp(t,n){var s=n,r=0,c=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<r&&8>r){s=r;var y=t.ownerDocument;if(s&1&&zr(y.documentElement),s&2&&zr(y.body),s&4)for(s=y.head,zr(s),y=s.firstChild;y;){var T=y.nextSibling,w=y.nodeName;y[ta]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&y.rel.toLowerCase()==="stylesheet"||s.removeChild(y),y=T}}if(c===0){t.removeChild(f),Qr(n);return}c--}else s==="$"||s==="$?"||s==="$!"?c++:r=s.charCodeAt(0)-48;else r=0;s=f}while(s);Qr(n)}function _f(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":_f(s),ms(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function uT(t,n,s,r){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[ta])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=di(t.nextSibling),t===null)break}return null}function cT(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=di(t.nextSibling),t===null))return null;return t}function vf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function hT(t,n){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")n();else{var r=function(){n(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function di(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Tf=null;function Bp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function kp(t,n,s){switch(n=Iu(s),t){case"html":if(t=n.documentElement,!t)throw Error(l(452));return t;case"head":if(t=n.head,!t)throw Error(l(453));return t;case"body":if(t=n.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function zr(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ms(t)}var si=new Map,jp=new Set;function Du(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var rs=ot.d;ot.d={f:fT,r:dT,D:mT,C:gT,L:pT,m:yT,X:vT,S:_T,M:TT};function fT(){var t=rs.f(),n=vu();return t||n}function dT(t){var n=mi(t);n!==null&&n.tag===5&&n.type==="form"?rg(n):rs.r(t)}var bl=typeof document>"u"?null:document;function qp(t,n,s){var r=bl;if(r&&typeof n=="string"&&n){var c=He(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),jp.has(c)||(jp.add(c),t={rel:t,crossOrigin:s,href:n},r.querySelector(c)===null&&(n=r.createElement("link"),gn(n,"link",t),Ue(n),r.head.appendChild(n)))}}function mT(t){rs.D(t),qp("dns-prefetch",t,null)}function gT(t,n){rs.C(t,n),qp("preconnect",t,n)}function pT(t,n,s){rs.L(t,n,s);var r=bl;if(r&&t&&n){var c='link[rel="preload"][as="'+He(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+He(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+He(s.imageSizes)+'"]')):c+='[href="'+He(t)+'"]';var f=c;switch(n){case"style":f=Rl(t);break;case"script":f=wl(t)}si.has(f)||(t=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),si.set(f,t),r.querySelector(c)!==null||n==="style"&&r.querySelector(Pr(f))||n==="script"&&r.querySelector(Br(f))||(n=r.createElement("link"),gn(n,"link",t),Ue(n),r.head.appendChild(n)))}}function yT(t,n){rs.m(t,n);var s=bl;if(s&&t){var r=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+He(r)+'"][href="'+He(t)+'"]',f=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=wl(t)}if(!si.has(f)&&(t=S({rel:"modulepreload",href:t},n),si.set(f,t),s.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Br(f)))return}r=s.createElement("link"),gn(r,"link",t),Ue(r),s.head.appendChild(r)}}}function _T(t,n,s){rs.S(t,n,s);var r=bl;if(r&&t){var c=In(r).hoistableStyles,f=Rl(t);n=n||"default";var y=c.get(f);if(!y){var T={loading:0,preload:null};if(y=r.querySelector(Pr(f)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},s),(s=si.get(f))&&Ef(t,s);var w=y=r.createElement("link");Ue(w),gn(w,"link",t),w._p=new Promise(function(k,K){w.onload=k,w.onerror=K}),w.addEventListener("load",function(){T.loading|=1}),w.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Cu(y,n,r)}y={type:"stylesheet",instance:y,count:1,state:T},c.set(f,y)}}}function vT(t,n){rs.X(t,n);var s=bl;if(s&&t){var r=In(s).hoistableScripts,c=wl(t),f=r.get(c);f||(f=s.querySelector(Br(c)),f||(t=S({src:t,async:!0},n),(n=si.get(c))&&Af(t,n),f=s.createElement("script"),Ue(f),gn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function TT(t,n){rs.M(t,n);var s=bl;if(s&&t){var r=In(s).hoistableScripts,c=wl(t),f=r.get(c);f||(f=s.querySelector(Br(c)),f||(t=S({src:t,async:!0,type:"module"},n),(n=si.get(c))&&Af(t,n),f=s.createElement("script"),Ue(f),gn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function Hp(t,n,s,r){var c=(c=wt.current)?Du(c):null;if(!c)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Rl(s.href),s=In(c).hoistableStyles,r=s.get(n),r||(r={type:"style",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Rl(s.href);var f=In(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Pr(t)))&&!f._p&&(y.instance=f,y.state.loading=5),si.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},si.set(t,s),f||ET(c,t,s,y.state))),n&&r===null)throw Error(l(528,""));return y}if(n&&r!==null)throw Error(l(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=wl(s),s=In(c).hoistableScripts,r=s.get(n),r||(r={type:"script",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function Rl(t){return'href="'+He(t)+'"'}function Pr(t){return'link[rel="stylesheet"]['+t+"]"}function Gp(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function ET(t,n,s,r){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?r.loading=1:(n=t.createElement("link"),r.preload=n,n.addEventListener("load",function(){return r.loading|=1}),n.addEventListener("error",function(){return r.loading|=2}),gn(n,"link",s),Ue(n),t.head.appendChild(n))}function wl(t){return'[src="'+He(t)+'"]'}function Br(t){return"script[async]"+t}function Qp(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var r=t.querySelector('style[data-href~="'+He(s.href)+'"]');if(r)return n.instance=r,Ue(r),r;var c=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Ue(r),gn(r,"style",c),Cu(r,s.precedence,t),n.instance=r;case"stylesheet":c=Rl(s.href);var f=t.querySelector(Pr(c));if(f)return n.state.loading|=4,n.instance=f,Ue(f),f;r=Gp(s),(c=si.get(c))&&Ef(r,c),f=(t.ownerDocument||t).createElement("link"),Ue(f);var y=f;return y._p=new Promise(function(T,w){y.onload=T,y.onerror=w}),gn(f,"link",r),n.state.loading|=4,Cu(f,s.precedence,t),n.instance=f;case"script":return f=wl(s.src),(c=t.querySelector(Br(f)))?(n.instance=c,Ue(c),c):(r=s,(c=si.get(f))&&(r=S({},s),Af(r,c)),t=t.ownerDocument||t,c=t.createElement("script"),Ue(c),gn(c,"link",r),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(r=n.instance,n.state.loading|=4,Cu(r,s.precedence,t));return n.instance}function Cu(t,n,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,f=c,y=0;y<r.length;y++){var T=r[y];if(T.dataset.precedence===n)f=T;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Vu=null;function Yp(t,n,s){if(Vu===null){var r=new Map,c=Vu=new Map;c.set(s,r)}else c=Vu,r=c.get(s),r||(r=new Map,c.set(s,r));if(r.has(t))return r;for(r.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[ta]||f[Ze]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var T=r.get(y);T?T.push(f):r.set(y,[f])}}return r}function Fp(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function AT(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Xp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var kr=null;function ST(){}function bT(t,n,s){if(kr===null)throw Error(l(475));var r=kr;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Rl(s.href),f=t.querySelector(Pr(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=Nu.bind(r),t.then(r,r)),n.state.loading|=4,n.instance=f,Ue(f);return}f=t.ownerDocument||t,s=Gp(s),(c=si.get(c))&&Ef(s,c),f=f.createElement("link"),Ue(f);var y=f;y._p=new Promise(function(T,w){y.onload=T,y.onerror=w}),gn(f,"link",s),n.instance=f}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(r.count++,n=Nu.bind(r),t.addEventListener("load",n),t.addEventListener("error",n))}}function RT(){if(kr===null)throw Error(l(475));var t=kr;return t.stylesheets&&t.count===0&&Sf(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&Sf(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Nu(){if(this.count--,this.count===0){if(this.stylesheets)Sf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xu=null;function Sf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xu=new Map,n.forEach(wT,t),xu=null,Nu.call(t))}function wT(t,n){if(!(n.state.loading&4)){var s=xu.get(t);if(s)var r=s.get(null);else{s=new Map,xu.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),r=y)}r&&s.set(null,r)}c=n.instance,y=c.getAttribute("data-precedence"),f=s.get(y)||r,f===r&&s.set(null,c),s.set(y,c),this.count++,r=Nu.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var jr={$$typeof:ct,Provider:null,Consumer:null,_currentValue:_t,_currentValue2:_t,_threadCount:0};function IT(t,n,s,r,c,f,y,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=we(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=we(0),this.hiddenUpdates=we(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Kp(t,n,s,r,c,f,y,T,w,k,K,$){return t=new IT(t,n,s,y,T,w,k,$),n=1,f===!0&&(n|=24),f=kn(3,null,null,n),t.current=f,f.stateNode=t,n=ih(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:r,isDehydrated:s,cache:n},rh(f),t}function Zp(t){return t?(t=il,t):il}function Jp(t,n,s,r,c,f){c=Zp(c),r.context===null?r.context=c:r.pendingContext=c,r=Ts(n),r.payload={element:s},f=f===void 0?null:f,f!==null&&(r.callback=f),s=Es(t,r,n),s!==null&&(Qn(s,t,n),yr(s,t,n))}function $p(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function bf(t,n){$p(t,n),(t=t.alternate)&&$p(t,n)}function Wp(t){if(t.tag===13){var n=nl(t,67108864);n!==null&&Qn(n,t,67108864),bf(t,67108864)}}var Ou=!0;function DT(t,n,s,r){var c=Q.T;Q.T=null;var f=ot.p;try{ot.p=2,Rf(t,n,s,r)}finally{ot.p=f,Q.T=c}}function CT(t,n,s,r){var c=Q.T;Q.T=null;var f=ot.p;try{ot.p=8,Rf(t,n,s,r)}finally{ot.p=f,Q.T=c}}function Rf(t,n,s,r){if(Ou){var c=wf(r);if(c===null)ff(t,n,r,Mu,s),ey(t,r);else if(NT(c,t,n,s,r))r.stopPropagation();else if(ey(t,r),n&4&&-1<VT.indexOf(t)){for(;c!==null;){var f=mi(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=it(f.pendingLanes);if(y!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var w=1<<31-sn(y);T.entanglements[1]|=w,y&=~w}Di(f),(he&6)===0&&(yu=je()+500,Mr(0))}}break;case 13:T=nl(f,2),T!==null&&Qn(T,f,2),vu(),bf(f,2)}if(f=wf(r),f===null&&ff(t,n,r,Mu,s),f===c)break;c=f}c!==null&&r.stopPropagation()}else ff(t,n,r,null,s)}}function wf(t){return t=Kn(t),If(t)}var Mu=null;function If(t){if(Mu=null,t=Bi(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Mu=t,null}function ty(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vn()){case wn:return 2;case Nn:return 8;case zn:case hs:return 32;case ri:return 268435456;default:return 32}default:return 32}}var Df=!1,Ms=null,Ls=null,Us=null,qr=new Map,Hr=new Map,zs=[],VT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ey(t,n){switch(t){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":qr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hr.delete(n.pointerId)}}function Gr(t,n,s,r,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:r,nativeEvent:f,targetContainers:[c]},n!==null&&(n=mi(n),n!==null&&Wp(n)),t):(t.eventSystemFlags|=r,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function NT(t,n,s,r,c){switch(n){case"focusin":return Ms=Gr(Ms,t,n,s,r,c),!0;case"dragenter":return Ls=Gr(Ls,t,n,s,r,c),!0;case"mouseover":return Us=Gr(Us,t,n,s,r,c),!0;case"pointerover":var f=c.pointerId;return qr.set(f,Gr(qr.get(f)||null,t,n,s,r,c)),!0;case"gotpointercapture":return f=c.pointerId,Hr.set(f,Gr(Hr.get(f)||null,t,n,s,r,c)),!0}return!1}function ny(t){var n=Bi(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,vo(t.priority,function(){if(s.tag===13){var r=Gn();r=oi(r);var c=nl(s,r);c!==null&&Qn(c,s,r),bf(s,r)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=wf(t.nativeEvent);if(s===null){s=t.nativeEvent;var r=new s.constructor(s.type,s);Hi=r,s.target.dispatchEvent(r),Hi=null}else return n=mi(s),n!==null&&Wp(n),t.blockedOn=s,!1;n.shift()}return!0}function iy(t,n,s){Lu(t)&&s.delete(n)}function xT(){Df=!1,Ms!==null&&Lu(Ms)&&(Ms=null),Ls!==null&&Lu(Ls)&&(Ls=null),Us!==null&&Lu(Us)&&(Us=null),qr.forEach(iy),Hr.forEach(iy)}function Uu(t,n){t.blockedOn===n&&(t.blockedOn=null,Df||(Df=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,xT)))}var zu=null;function sy(t){zu!==t&&(zu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){zu===t&&(zu=null);for(var n=0;n<t.length;n+=3){var s=t[n],r=t[n+1],c=t[n+2];if(typeof r!="function"){if(If(r||s)===null)continue;break}var f=mi(s);f!==null&&(t.splice(n,3),n-=3,wh(f,{pending:!0,data:c,method:s.method,action:r},r,c))}}))}function Qr(t){function n(w){return Uu(w,t)}Ms!==null&&Uu(Ms,t),Ls!==null&&Uu(Ls,t),Us!==null&&Uu(Us,t),qr.forEach(n),Hr.forEach(n);for(var s=0;s<zs.length;s++){var r=zs[s];r.blockedOn===t&&(r.blockedOn=null)}for(;0<zs.length&&(s=zs[0],s.blockedOn===null);)ny(s),s.blockedOn===null&&zs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var c=s[r],f=s[r+1],y=c[qe]||null;if(typeof f=="function")y||sy(s);else if(y){var T=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[qe]||null)T=y.formAction;else if(If(c)!==null)continue}else T=y.action;typeof T=="function"?s[r+1]=T:(s.splice(r,3),r-=3),sy(s)}}}function Cf(t){this._internalRoot=t}Pu.prototype.render=Cf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(l(409));var s=n.current,r=Gn();Jp(s,r,t,n,null,null)},Pu.prototype.unmount=Cf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Jp(t.current,2,null,t,null,null),vu(),n[Fn]=null}};function Pu(t){this._internalRoot=t}Pu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Te();t={blockedOn:null,target:t,priority:n};for(var s=0;s<zs.length&&n!==0&&n<zs[s].priority;s++);zs.splice(s,0,t),s===0&&ny(t)}};var ay=e.version;if(ay!=="19.1.1")throw Error(l(527,ay,"19.1.1"));ot.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var OT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bu.isDisabled&&Bu.supportsFiber)try{Re=Bu.inject(OT),ae=Bu}catch{}}return Fr.createRoot=function(t,n){if(!o(t))throw Error(l(299));var s=!1,r="",c=Eg,f=Ag,y=Sg,T=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=Kp(t,1,!1,null,null,s,r,c,f,y,T,null),t[Fn]=n.current,hf(t),new Cf(n)},Fr.hydrateRoot=function(t,n,s){if(!o(t))throw Error(l(299));var r=!1,c="",f=Eg,y=Ag,T=Sg,w=null,k=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks),s.formState!==void 0&&(k=s.formState)),n=Kp(t,1,!0,n,s??null,r,c,f,y,T,w,k),n.context=Zp(null),s=n.current,r=Gn(),r=oi(r),c=Ts(r),c.callback=null,Es(s,c,r),s=r,n.current.lanes=s,ne(n,s),Di(n),t[Fn]=n.current,hf(t),new Pu(n)},Fr.version="19.1.1",Fr}var gy;function HT(){if(gy)return xf.exports;gy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),xf.exports=qT(),xf.exports}var GT=HT();function QT({id:a,mouseOver:e,canPlaceItem:i,hasItem:l,mouseOverLocation:o,inSection:h,section:d,size:g}){return et.jsx("div",{className:`cell ${e?"hovered":""} ${i?"legal":"illegal"} ${l?"hasItem":""} ${o} ${h?"":"outside"}`,id:`${d==null?"":d.split(" ").join("")}${a.toId()}`,style:{width:`${g}px`,height:`${g}px`},children:et.jsx("div",{className:"cell cell-border",id:`${d==null?"":d.split(" ").join("")}${a.toId()}`})})}function Ju({width:a,height:e,cells:i,id:l,visibile:o,section:h}){return et.jsx("div",{className:`area ${o??!0?"":"invisible"}`,style:{width:`${a}px`,height:`${e}px`},id:l!=null?l.split(" ").join("-"):"",children:i.map(d=>et.jsx(QT,{size:d.size,id:d.id,canPlaceItem:d.canPlaceItem,mouseOver:d.mouseOver,hasItem:d.hasItem,itemId:d.itemId,mouseOverLocation:d.mouseOverLocation,inSection:d.inSection,section:h}))})}class Lt{x;y;constructor({x:e,y:i}){this.x=e,this.y=i}toId(){return`Cell-${this.x}-${this.y}`}static fromString(e){return new Lt({x:parseInt(e.split("-")[1]),y:parseInt(e.split("-")[2])})}}class ie{name;id;icon;cellsLong;cellsTall;hasMoved;initialElement;moveable;rotation;starterItem;isDisplayItem;sectionCell;constructor({id:e,cellsLong:i,cellsTall:l,initialElement:o,name:h,icon:d,moveable:g,starterItem:v,displayItem:_,sectionCell:S,rotation:D}){this.id=e,this.cellsLong=i,this.cellsTall=l,this.hasMoved=!1,this.initialElement=o,this.name=h,this.icon=d,this.rotation=D||0,this.moveable=g??!0,this.starterItem=v??!1,this.isDisplayItem=_??!1,this.sectionCell=S}static fromDoc(e){return new ie({id:e.id,name:e.name,icon:e.icon,cellsLong:e.cellsLong,cellsTall:e.cellsTall,moveable:e.moveable,starterItem:e.starterItem,displayItem:e.displayItem||!1,rotation:e.rotation||0})}static fromJSON(e){return new ie({id:e.id,name:e.name,icon:e.icon,cellsLong:e.cellsLong,cellsTall:e.cellsTall,moveable:e.moveable,starterItem:e.starterItem,displayItem:e.displayItem||!1,rotation:e.rotation||0})}toJSON(){return{id:this.id,name:this.name,icon:this.icon,cellsLong:this.cellsLong,cellsTall:this.cellsTall,moveable:this.moveable,starterItem:this.starterItem,displayItem:this.isDisplayItem,rotation:this.rotation||0}}toDoc(){return{id:this.id,name:this.name,icon:this.icon,cellsLong:this.cellsLong,cellsTall:this.cellsTall,moveable:this.moveable,starterItem:this.starterItem,displayItem:this.isDisplayItem,rotation:this.rotation||0}}}class li{item;quantity;constructor({item:e,quantity:i}){this.item=e,this.quantity=i}static fromDoc(e){return new li({item:ie.fromDoc(e.item),quantity:e.quantity})}static fromJSON(e){return new li({item:ie.fromJSON(e.item),quantity:e.quantity})}toJSON(){return{item:this.item.toJSON(),quantity:this.quantity}}toDoc(){return{item:this.item.toDoc(),quantity:this.quantity}}}class Vi{cell;item;constructor({cell:e,item:i}){this.cell=e,this.item=i}}class Le{name;cellId;cellElement;cellsLong;cellsTall;startingItems;items;constructor({name:e,cellId:i,cellsLong:l,cellsTall:o,startingItems:h,items:d}){this.name=e,this.cellId=i,this.cellsLong=l,this.cellsTall=o,this.startingItems=h,this.cellElement=null,this.items=d||[]}static fromJSON(e){const i=JSON.parse(e);return new Le({name:i.name,cellId:Lt.fromString(i.cellId),cellsLong:i.cellsLong,cellsTall:i.cellsTall,startingItems:i.startingItems.map(l=>new Vi({cell:Lt.fromString(l.cell),item:ie.fromJSON(l.item)}))})}static fromDoc(e){return new Le({name:e.name,cellId:Lt.fromString(e.cellId),cellsLong:e.cellsLong,cellsTall:e.cellsTall,startingItems:e.startingItems?e.startingItems.map(i=>new Vi({cell:Lt.fromString(i.cell),item:ie.fromDoc(i.item)})):[]})}toJSON(){return{name:this.name,cellId:this.cellId.toId(),cellsLong:this.cellsLong,cellsTall:this.cellsTall,startingItems:this.startingItems.map(e=>({cell:e.cell.toId(),item:e.item.toJSON()}))}}toDoc(){return{name:this.name,cellId:this.cellId.toId(),cellsLong:this.cellsLong,cellsTall:this.cellsTall,startingItems:this.startingItems.map(e=>({cell:e.cell.toId(),item:e.item.toDoc()}))}}}class Ni{name;sections;id;constructor({name:e,sections:i,id:l}){this.name=e,this.sections=i,this.id=l}toJSON(){return JSON.stringify({name:this.name,id:this.id,sections:this.sections.map(e=>e.toJSON())})}toDoc(){return{name:this.name,id:this.id,sections:this.sections.map(e=>e.toDoc())}}static fromJSON(e){const i=JSON.parse(e);return new Ni({name:i.name,id:i.id,sections:i.sections.map(l=>Le.fromJSON(l))})}static fromDoc(e){return new Ni({name:e.name,id:e.id,sections:e.sections?e.sections.map(i=>Le.fromDoc(i)):[]})}}class so{id;name;sections;templates;inventoryItems;constructor({name:e,sections:i,templates:l,inventoryItems:o,id:h}){this.name=e,this.sections=i,this.templates=l,this.inventoryItems=o,this.id=h}static fromDoc(e){return new so({name:e.name,id:e.id,sections:e.sections?e.sections.map(i=>Le.fromDoc(i)):[],templates:e.templates?e.templates.map(i=>Ni.fromDoc(i)):[],inventoryItems:e.inventoryItems?e.inventoryItems.map(i=>li.fromDoc(i)):[]})}static fromJSON(e){return new so({name:e.name,id:e.id,sections:e.sections?e.sections.map(i=>Le.fromJSON(i)):[],templates:e.templates?e.templates.map(i=>Ni.fromJSON(i)):[],inventoryItems:e.inventoryItems?e.inventoryItems.map(i=>li.fromJSON(i)):[]})}toJSON(){return{name:this.name,id:this.id,sections:this.sections.map(e=>e.toJSON()),templates:this.templates.map(e=>e.toJSON()),inventoryItems:this.inventoryItems.map(e=>e.toJSON())}}toDoc(){return{name:this.name,id:this.id,sections:this.sections.map(e=>e.toJSON()),templates:this.templates.map(e=>e.toDoc()),inventoryItems:this.inventoryItems.map(e=>e.toDoc())}}}const py="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAADwAAAADW5XGhAAABRUlEQVQoFY2Tz0oDMRDGv4lgPXkUPAiCvfUBbD3VLoJoBUuPPoI+jlffQIqiUC9tb/45+QIF7bXFB9jDZjrZNptN090a2M0km++XyZdZ4rPGH4AdaN2mwddI4tLGtdo29nd7ILqExq2S1w1AW1DqlaPj0zK1Jwb3MZk+kBFw1DiHoieJkqJMAvHPrEPjcZwCNkGKxEaXAYogZeIAEELQlS3uUsPMmZdpm3W2eRnYSecJKou59WLzTVmR109mIzC+3Zy+N4a5sYsCAFerFRzuyT2jLpBPWRqD1aPUS+RkLvIAOfGFXGkfv9MmNF+LB0pgL9w6aTnpIso8CMQ5wzJPmDU0tWn4PrSgFLDpqsziDGKKLaErC6H/iO1uHmT575CY05N66qRnzqVtRau9D6GmMedInud1RbIqNmMafLwh0bIhxSB9MAfmu9CGVRsdYgAAAABJRU5ErkJggg==",yy="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGaADAAQAAAABAAAAGQAAAABY85deAAABrUlEQVRIDe1VPUsDQRB9ezk0GO0FwVhFBQtDWot09oqFCGopgp1ILoWNEEHRRmy0EmwEK7XxB1gIfjQWdmlFLEQRDcaM7y4f3O4lmJw2QhYuu29m3szeu2ECmGtZYsjKAVZk0HSFxVaAqNBL2ywiuIYjcwF/CIMqc0QhgwkoTBEnuCd9udaQU6s+3PKRbyIWsjhi4n2y83wOfVnyKOLEh0MdLb7BIgRpfCKFdeWghGMvk7DwK0axoa5CZdZIWbml9hnDNqLhXwKb/CFKdanlyak7D89LFB0INocWTLCHD0CVTHMVu0Wi1P29avD2jEyz8DYft9N+Xg4KUHJGeWewowomweb3uOddn2qOtNheEyg80rZJ/1fN1/iQoGsS3Tjn7jaQtmx+7GHNkkIfi8Ro22Xrbmm+RmBJOtHjSsb2r7OCeltwJXRXsbw18ftQi61yNVKwiOb+G9Au0pKObbn+g1w2XrxrlhBv+rpx9Fdiy1yDWPlnNKyO3HC0JDm33uhpOF19rC7GRxg/xjF14bN7x7pjgJ5xpl7g4BwgMWKSAljwzCKn9QoEYtuGnxT4Bng+WDuZ4k7PAAAAAElFTkSuQmCC";function R_({item:a,canPlaceItem:e,placeItem:i,deleteItem:l,deleteItemRotate:o,isSelected:h,onSelect:d,onDeselect:g,isUnselecting:v,highlightCells:_,unHighlightCells:S,visible:D,removeItem:V}){const[j,X]=mt.useState(0),[tt,H]=mt.useState(0),at=mt.useRef(null),[lt,ct]=mt.useState(0),[Nt,vt]=mt.useState(0),[Et,N]=mt.useState(!1),[A,R]=mt.useState(0),[b,x]=mt.useState(null),[M,I]=mt.useState(!0),[be,_e]=mt.useState(12),Q=/Mobi|Android/i.test(navigator.userAgent)?5:10,ot=mt.useRef(null),[_t,It]=mt.useState(!0),C=Tt=>{const jt=Tt%2===1;return{width:jt?a.cellsTall*Q:a.cellsLong*Q,height:jt?a.cellsLong*Q:a.cellsTall*Q,cellsWide:jt?a.cellsTall:a.cellsLong,cellsTall:jt?a.cellsLong:a.cellsTall}},J=Tt=>{const jt=a.cellsLong*Q,zt=a.cellsTall*Q;switch(Tt%4){case 0:return{x:0,y:0};case 1:return{x:(zt-jt)/2,y:(jt-zt)/2};case 2:return{x:0,y:0};case 3:return{x:(zt-jt)/2,y:(jt-zt)/2};default:return{x:0,y:0}}},dt=()=>{if(!a.hasMoved)return;const Tt=A+1,jt=C(Tt),zt=ie.fromDoc(a.toDoc());zt.cellsLong=jt.cellsWide,zt.cellsTall=jt.cellsTall,zt.initialElement=a.initialElement,zt.rotation=Tt,zt.hasMoved=a.hasMoved;let qt=b;if(!a.hasMoved&&a.rotation!=0||qt&&e(Lt.fromString(qt.id),zt)){qt==null&&(qt=a.initialElement),console.log("ROTATE ITEM",a.id,"to rotation:",Tt,"at cell:",qt?.id),R(Tt),o(a,Lt.fromString(qt.id)),a.rotation=Tt;const Ce=J(Tt),Zt=qt.offsetLeft,Ve=qt.offsetTop;X(Zt+Ce.x),H(Ve+Ce.y),ct(Zt+Ce.x),vt(Ve+Ce.y)}};function st(Tt){const jt=at.current,zt=window.getComputedStyle(jt),qt=document.createElement("span");qt.style.font=zt.font,qt.style.fontSize=Tt+"px",qt.style.fontFamily=zt.fontFamily,qt.style.fontWeight=zt.fontWeight,qt.style.position="absolute",qt.style.visibility="hidden",qt.style.whiteSpace="nowrap",qt.textContent=jt.textContent,document.body.appendChild(qt);const Ce=qt.offsetWidth;return document.body.removeChild(qt),Ce}function St(Tt){if(at.current){const jt=at.current;return st(Tt-1)>jt.offsetWidth&&Tt-1>8?St(Tt-1):Tt-1}return Tt}mt.useEffect(()=>{setTimeout(()=>{at.current&&_e(St(be)),a.isDisplayItem&&!a.hasMoved&&(console.log("Starting item as dragging item"),N(!0))},100)},[]),mt.useEffect(()=>{if(a.initialElement!=null&&!a.hasMoved&&(console.log("Item initial element:",a.rotation),a.rotation&&setTimeout(()=>{console.log("Rotating item to initial rotation:",a.rotation);for(let Tt=0;Tt<a.rotation;Tt++)console.log("Rotating item",Tt+1,"times"),R(jt=>{const zt=(jt+1)%4,qt=J(zt),Ce=a.initialElement.offsetLeft,Zt=a.initialElement.offsetTop;return X(Ce+qt.x),H(Zt+qt.y),ct(Ce+qt.x),vt(Zt+qt.y),zt})},100),a.initialElement&&!a.hasMoved)){a.initialElement.classList.contains("cell")&&(console.log("Setting cell to initial element:",a.initialElement.children[0]),x(a.initialElement.children[0]));const Tt=document.querySelector(".toolbox"),jt=Tt.scrollLeft,zt=Tt.scrollTop;a.isDisplayItem?(X(a.initialElement.offsetLeft-jt),H(a.initialElement.offsetTop-zt),ct(a.initialElement.offsetLeft-jt),vt(a.initialElement.offsetTop-zt)):(X(a.initialElement.offsetLeft),H(a.initialElement.offsetTop),ct(a.initialElement.offsetLeft),vt(a.initialElement.offsetTop))}},[a]);const Ut=()=>{if(Et)return;if(b==null){X(a.initialElement.offsetLeft),ct(a.initialElement.offsetLeft),H(a.initialElement.offsetTop),vt(a.initialElement.offsetTop);return}const Tt=b.offsetTop,jt=b.offsetLeft,zt=J(A);X(jt+zt.x),H(Tt+zt.y),ct(jt+zt.x),vt(Tt+zt.y)};mt.useEffect(()=>(window.addEventListener("resize",Ut),()=>{window.removeEventListener("resize",Ut)}),[b,A,Et]);const wt=Tt=>{Tt.preventDefault()};mt.useEffect(()=>{if(console.log("IS Dragging: ",Et),Et){ct(j),vt(tt),document.body.addEventListener("touchmove",wt,{passive:!1});const Tt=document.getElementById(a.id)?.getBoundingClientRect(),jt=Tt?Tt.left-j:0,zt=Tt?Tt.top-tt:0;h&&g();const qt=(Zt,Ve,ke)=>{const je=C(A),vn=ie.fromDoc(a.toDoc());vn.cellsLong=je.cellsWide,vn.cellsTall=je.cellsTall,vn.initialElement=a.initialElement,vn.rotation=A,vn.hasMoved=a.hasMoved,vn.id=a.id;let wn=ke;if(!wn||!wn.classList?.contains("cell")){const Nn=document.elementFromPoint(Zt,Ve);Nn?.classList?.contains("cell")&&(wn=Nn)}wn?.classList?.contains("cell")?_(Lt.fromString(wn.id),vn):S(),X(Zt-jt),H(Ve-zt+5)},Ce=(Zt,Ve)=>{console.log("Drag ended"),S(),document.body.removeEventListener("touchmove",wt);const ke=document.elementFromPoint(Zt,Ve);if(ke?.classList?.contains("cell")){const je=C(A),vn={...a,cellsLong:je.cellsWide,cellsTall:je.cellsTall};if(!e(Lt.fromString(ke.id),vn)){if(a.isDisplayItem&&!a.hasMoved){console.log("Removing item from toolbox"),V(a);return}X(lt),H(Nt),N(!1);return}const wn=ke.offsetTop,Nn=ke.offsetLeft,zn=J(A),hs=Nn+zn.x,ri=wn+zn.y;X(hs),H(ri),ct(hs),vt(ri),i(Lt.fromString(ke.id),vn,b!=null?Lt.fromString(b.id):null),console.log("Placed item at cell:",ke),x(ke)}else{if(a.isDisplayItem&&!a.hasMoved){console.log("Removing item from toolbox"),V(a);return}X(lt),H(Nt)}N(!1)};return document.onmousemove=Zt=>{Zt.preventDefault(),qt(Zt.clientX,Zt.clientY,Zt.target)},document.onmouseup=Zt=>{Ce(Zt.clientX,Zt.clientY),document.onmousemove=null,document.onmouseup=null,document.ontouchmove=null,document.ontouchend=null},document.ontouchmove=Zt=>{Zt.preventDefault();const Ve=Zt.touches[0];qt(Ve.clientX,Ve.clientY,Zt.target)},document.ontouchend=Zt=>{const Ve=Zt.changedTouches[0];Ce(Ve.clientX,Ve.clientY),document.removeEventListener("touchmove",wt),document.onmousemove=null,document.onmouseup=null,document.ontouchmove=null,document.ontouchend=null},()=>{document.removeEventListener("touchmove",wt)}}else document.onmousemove=null,document.onmouseup=null,document.ontouchmove=null,document.ontouchend=null,document.body.removeEventListener("touchmove",wt)},[Et,b,A]);const ve=C(A);function re(){if(b){const Tt=A+1,jt=C(Tt),zt={...a,cellsLong:jt.cellsWide,cellsTall:jt.cellsTall};console.log("Can place item at cell:",e(Lt.fromString(b?.id||""),zt)),I(e(Lt.fromString(b.id),zt))}else I(!1)}return j==0||tt==0||!_t?null:et.jsxs(et.Fragment,{children:[et.jsx("div",{id:a.id,ref:ot,className:`draggable-item ${Et?"dragging":h?"selected":""} ${a.moveable?"":"not-moveable"} ${D?"":"invisible"}`,style:{top:`${tt}px`,left:`${j}px`,width:`${a.cellsLong*(a.isDisplayItem&&!Et&&!a.hasMoved?10:Q)-(h?4:0)}px`,height:`${a.cellsTall*(a.isDisplayItem&&!Et&&!a.hasMoved?10:Q)-(h?4:0)}px`,rotate:`${A*90}deg`,transformOrigin:"center center",fontSize:`${be}px`},onMouseDown:a.moveable?()=>N(!0):void 0,onTouchStart:a.moveable?Tt=>{Tt.preventDefault(),N(!0)}:void 0,onClick:Tt=>{Tt.stopPropagation(),a.hasMoved&&(h?g():(re(),d(a.id)))},children:a.icon.includes("custom-")?et.jsx("div",{className:"custom-icon",children:et.jsx("div",{children:et.jsx("p",{ref:at,children:a.icon.split("custom-")[1]})})}):et.jsx("img",{src:a.icon,alt:"icon"})}),(h||v)&&et.jsx(et.Fragment,{children:/Mobi|Android/i.test(navigator.userAgent)?et.jsxs(et.Fragment,{children:[et.jsx("div",{className:`draggable-item-options mobile-left ${v?"exiting":""}`,style:{top:`${tt+a.cellsTall*Q/2-10}px`,left:`${j+a.cellsLong*Q/2-ve.width/2-20}px`,width:"10px"},children:et.jsx("img",{src:yy,alt:"rotate",className:"rotate-icon"+(M?" can-rotate":" cannot-rotate"),onClick:Tt=>{Tt.stopPropagation(),dt()}})}),et.jsx("div",{className:`draggable-item-options mobile-right ${v?"exiting":""}`,style:{top:`${tt+a.cellsTall*Q/2-10}px`,left:`${j+a.cellsLong*Q/2+ve.width/2+10}px`,width:"10px"},children:et.jsx("img",{src:py,alt:"delete",className:"delete-icon",onClick:Tt=>{Tt.stopPropagation(),l(a,Lt.fromString(b?.id||""))}})})]}):et.jsxs("div",{className:`draggable-item-options ${v?"exiting":""}`,style:{top:`${tt+a.cellsTall*Q/2-ve.height/2-20}px`,left:`${j+a.cellsLong*Q/2-ve.width/2}px`,width:`${ve.width}px`},children:[et.jsx("img",{src:yy,alt:"rotate",className:"rotate-icon"+(M?" can-rotate":" cannot-rotate"),onClick:Tt=>{Tt.stopPropagation(),dt()}}),et.jsx("img",{src:py,alt:"delete",className:"delete-icon",onClick:Tt=>{Tt.stopPropagation(),l(a,Lt.fromString(b?.id||""))}})]})})]})}function YT({inventoryItem:a,addDraggingItem:e,removeItem:i}){const l=mt.useRef(null),o=mt.useRef(null),[h,d]=mt.useState(12),[g,v]=mt.useState(a.item);function _(D){const V=o.current,j=window.getComputedStyle(V),X=document.createElement("span");X.style.font=j.font,X.style.fontSize=D+"px",X.style.fontFamily=j.fontFamily,X.style.fontWeight=j.fontWeight,X.style.position="absolute",X.style.visibility="hidden",X.style.whiteSpace="nowrap",X.textContent=V.textContent,document.body.appendChild(X);const tt=X.offsetWidth;return document.body.removeChild(X),tt}function S(D){if(o.current){const V=o.current;return _(D-1)>V.offsetWidth&&D-1>8?S(D-1):D-1}return D}return mt.useEffect(()=>{setTimeout(()=>{o.current&&d(S(h))},100)},[]),et.jsxs("div",{className:"display",children:[et.jsx("div",{ref:l,id:a.item.id,className:"display-item",style:{width:`${a.item.cellsLong*10}px`,height:`${a.item.cellsTall*10}px`},onMouseDown:D=>{D.preventDefault(),D.stopPropagation(),a.item.initialElement=l.current,a.item.id=a.item.name+(Math.random()*1e4).toString(),console.log("ADDING ITEM",a.item.id,"to initialElement",a.item.initialElement),v(new ie({id:a.item.id,cellsLong:a.item.cellsLong,cellsTall:a.item.cellsTall,name:a.item.name,icon:a.item.icon,moveable:a.item.moveable,starterItem:a.item.starterItem,displayItem:a.item.isDisplayItem})),e(a.item)},onTouchStart:D=>{D.preventDefault(),D.stopPropagation(),a.item.initialElement=l.current,a.item.id=a.item.name+(Math.random()*1e4).toString(),console.log("ADDING ITEM",a.item.id,"to initialElement",a.item.initialElement),v(new ie({id:a.item.id,cellsLong:a.item.cellsLong,cellsTall:a.item.cellsTall,name:a.item.name,icon:a.item.icon,moveable:a.item.moveable,starterItem:a.item.starterItem,displayItem:a.item.isDisplayItem})),e(a.item)},children:a.item.icon.includes("custom-")?et.jsx("div",{className:"custom-icon",children:et.jsx("div",{children:et.jsx("p",{ref:o,style:{fontSize:`${h}px`},children:a.item.icon.split("custom-")[1]})})}):et.jsx("img",{src:a.item.icon,alt:"icon"})}),et.jsx("p",{children:a.item.name}),et.jsxs("p",{className:"quantity",children:["x",a.quantity]})]})}const FT="/LayItOut/assets/plus.circle-D6tpdKzS.png";function XT({inventoryItems:a,addDraggingItem:e,maxHeight:i,removeItem:l,showAddCustomItem:o,isCreatingTemplate:h,isEditingTemplate:d}){return et.jsxs("div",{className:"toolbox",style:{maxHeight:i?`${i}px`:"200px"},children:[a.map(g=>et.jsx(YT,{inventoryItem:g,addDraggingItem:e,removeItem:l})),!(h||d)&&et.jsx("div",{className:"add-item",onClick:()=>{o()},children:et.jsx("img",{src:FT,alt:"Add Item"})})]})}function md({section:a,visible:e,cellSize:i}){const[l,o]=mt.useState(a.cellElement?.offsetLeft??0),[h,d]=mt.useState(a.cellElement?.offsetTop??0),g=mt.useRef(null),[v,_]=mt.useState(16);function S(j){const X=g.current,tt=window.getComputedStyle(X),H=document.createElement("span");H.style.font=tt.font,H.style.fontSize=j+"px",H.style.fontFamily=tt.fontFamily,H.style.fontWeight=tt.fontWeight,H.style.position="absolute",H.style.visibility="hidden",H.style.whiteSpace="no-wrap",H.textContent=X.textContent,document.body.appendChild(H);const at=H.offsetWidth;return document.body.removeChild(H),at}function D(j){if(g.current){const X=g.current,tt=S(j-1);return console.log("Current text width:",tt),console.log("Paragraph width:",X.offsetWidth),tt>X.offsetWidth&&v>6?(console.log("Decreasing font size to:",j-1),D(j-1)):j-1}return j}mt.useEffect(()=>{setTimeout(()=>{g.current&&_(D(v))},100)},[]);const V=()=>{a.cellElement!=null&&(o(a.cellElement.offsetLeft),d(a.cellElement.offsetTop))};return mt.useEffect(()=>(window.addEventListener("resize",V),()=>{window.removeEventListener("resize",V)}),[a.cellElement]),a.cellElement&&et.jsx("div",{className:`section ${e??!0?"":"invisible"}`,style:{top:`${a.cellElement.offsetTop}px`,left:`${a.cellElement.offsetLeft}px`,width:`${a.cellsLong*i-2}px`,height:`${a.cellsTall*i-2}px`},children:et.jsx("h2",{className:"section-title",style:{fontSize:`${v}px`},ref:g,children:a.name})})}const $u="/LayItOut/assets/forward-Drovs4r6.png";function KT({dialogRef:a,closeDialog:e,layoutSections:i,isOpen:l}){const[o,h]=mt.useState(0),[d,g]=mt.useState(0),[v,_]=mt.useState([]),[S,D]=mt.useState([...i]),V=/Mobi|Android/i.test(navigator.userAgent)?5:10;function j(tt){for(const H of S)if(tt.x>=H.cellId.x&&tt.x<H.cellId.x+H.cellsLong&&tt.y>=H.cellId.y&&tt.y<H.cellId.y+H.cellsTall)return H;return null}mt.useEffect(()=>{if(!l)return;console.log("Layout dialog opened, generating cells and sections",i);const tt=[];let H=0,at=0;for(const lt of i)console.log("Generating cells for section",lt.name,"at",lt.cellId,"with size",lt.cellsLong,"x",lt.cellsTall),console.log("Added section Length:",lt.cellsLong*V+lt.cellId.x),(lt.cellsLong+lt.cellId.x)*V>H&&(H+=lt.cellsLong*V),(lt.cellsTall+lt.cellId.y)*V>at&&(at+=lt.cellsTall*V);console.log("Current width:",H,"Current height:",at),h(H),g(at),[...Array(at/V).keys()].map(lt=>{const ct=[];[...Array(H/V).keys()].map(Nt=>{console.log(j(new Lt({x:Nt,y:lt}))!=null?"In section":"Outside section"),ct.push({id:new Lt({x:Nt,y:lt}),hasItem:!1,itemId:"",mouseOver:!1,canPlaceItem:!1,mouseOverLocation:"",inSection:!1,size:V})}),tt.push(ct)}),_([...tt]),setTimeout(()=>{const lt=[...i];for(const ct of lt)console.log("Adding section",ct.name,ct.cellId),ct.cellElement=document.querySelector(`.layout-dialog #${ct.cellId.toId()}.cell:not(.cell-border)`),console.log("Section element found",ct.cellElement);console.log("Setting sections",lt),D([...lt]),_([...tt])},100)},[l,i]);function X(tt){let H=[];return tt.map(at=>H=[...H,...at]),H}return et.jsxs("dialog",{ref:a,className:"layout-dialog",children:[et.jsxs("div",{className:"layout-dialog-div",children:[et.jsx("h2",{children:"Layout"}),et.jsx(Ju,{width:o,height:d,cells:X(v)}),et.jsx("br",{}),et.jsx("button",{className:"layout-dialog-close",onClick:e,children:"Close"})]}),S.map(tt=>et.jsx(md,{section:tt,visible:!0,cellSize:V},tt.cellId.toId()))]})}const ZT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAE2mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogIDxBdHRyaWI6QWRzPgogICA8cmRmOlNlcT4KICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDI1LTA4LTAzPC9BdHRyaWI6Q3JlYXRlZD4KICAgICA8QXR0cmliOkV4dElkPmE2MmM1Y2UxLTIzNTYtNGE3Ny1hNTAwLTViNWJjMjE1MDU3NzwvQXR0cmliOkV4dElkPgogICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICA8L3JkZjpsaT4KICAgPC9yZGY6U2VxPgogIDwvQXR0cmliOkFkcz4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6ZGM9J2h0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvJz4KICA8ZGM6dGl0bGU+CiAgIDxyZGY6QWx0PgogICAgPHJkZjpsaSB4bWw6bGFuZz0neC1kZWZhdWx0Jz5VbnRpdGxlZCBkZXNpZ24gLSAxPC9yZGY6bGk+CiAgIDwvcmRmOkFsdD4KICA8L2RjOnRpdGxlPgogPC9yZGY6RGVzY3JpcHRpb24+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpwZGY9J2h0dHA6Ly9ucy5hZG9iZS5jb20vcGRmLzEuMy8nPgogIDxwZGY6QXV0aG9yPlNhcmFoIEtlbW1lTmFzaDwvcGRmOkF1dGhvcj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wPSdodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvJz4KICA8eG1wOkNyZWF0b3JUb29sPkNhbnZhIChSZW5kZXJlcikgZG9jPURBR3UyeXVFTlpBIHVzZXI9VUFGakdXNnh0Q1EgYnJhbmQ9W0FSQ0hJVkVEXSBGb3J0IFdheW5lIENvbW11bml0eSBTY2hvb2xzIHRlbXBsYXRlPTwveG1wOkNyZWF0b3JUb29sPgogPC9yZGY6RGVzY3JpcHRpb24+CjwvcmRmOlJERj4KPC94OnhtcG1ldGE+Cjw/eHBhY2tldCBlbmQ9J3InPz7fMgZvAAADaElEQVR4nO3dO2gTAQDG8e8ujz6k6FBbUeOjKILV4CAiDgWxLqK4KM4dCuLiIIg6OQgibi5OgjgoDhZB7NIiIr6gCFFThIotaSsVtSJtadI87hykiKSNd/Uu9yX3/cZwyV3yv0fukYth27YNoWEGPQHyNwUhoyBkFISMgpBREDIKQkZByCgImajTAa88XMDTDyU/p8VXjTHg0vEGHNgeCXpSKnK8hNRyDADIFYCXI/zvwfESsujInig6N/i7prv+OO/puO6/LmB82kYtHLRzHSSZMNG9y/XTXFkMsjth4rAH4xpIFzE+XQs5tFGnoyBkFISMgpBREDIKQkZByCgIGQUhoyBkFISMvwelVujU/iiGJy3s3cp9qNwPlEF6D8aDnoTAaJVFRkHIKAgZBSGjIGQUhIyCkFEQMgpCRkHIKAgZymNZfvkxZ+NtpsqXkxrAtnYTqxoMR4OHKsjQaAlDo9W/vndzq4FbvU2Ohg3FKqtzY7CH8TPfnV/GGoolpKcrhp6uWNXHO5Au4tqjvKvnhGIJqSUKQkZByCgIGQUhoyBkFISMgpBREDIKQkZByFAGsSwgm6+N35V7jTLIubs5nLyRxdg3K+hJqTrKIOlJC7kCMDKlIBQW7yRsUk6dv0L4lrkpCBkFIeP6FO67CQslq1j2+I71Jra0qu//ch2kP1VEf6r88XgU6DvbhMa4s8tdZGmezdJrWwxEwvcbTc+5XkIuHIv7fke5MNNKn4yCkFEQMgpCRkHIUH9dujmYx+1nhbLHkwkT5482wKjDXR7qIDNZYCZbfqLqyWwJZ7pttDTVXxHqIMvdanzdGqMuYwDkQby61Xgt0UadTLhmv2XM5Wxc7lvA1E9vL6xYyYUaCgLg4xcLqQzH+XsFAZDcFMHpQzHML3j7up++Wnjh8k9kFARAxARO7PP+N4gD6aLrINqokwlsCUllSrj3qoBihRmoxLFar6rAgjwYKuLNWOVPfHaJvfR6F1iQnq4Ytrcvvca88/z38avVzfW5N15JYEE62kx0tFUOUo8HD/9FG3UyCkJGQcgoCBnPLiX1w/sJC1aVxuWH4c/ud6QM27Ydfdnvvjrv+sXlj8GLzY6Gc7zK2unzHxLXs2TC+WfneAmR6tBsT0ZByCgIGQUhoyBkFISMgpBREDIKQuYX+jTA4JQOFzkAAAAASUVORK5CYII=",JT="/LayItOut/assets/template-Cjj8EPhc.png";function $T({dialogRef:a,closeDialog:e,templates:i,isOpen:l}){const[o,h]=mt.useState([]),[d,g]=mt.useState([]),v=5,[_,S]=mt.useState([]),[D,V]=mt.useState(/Mobi|Android/i.test(navigator.userAgent)),[j,X]=mt.useState([]);function tt(at,lt,ct){const Nt=[],vt=i.filter(Et=>at.some(N=>N.name===Et.name));vt.sort((Et,N)=>at.indexOf(Et)-at.indexOf(N));for(const Et of vt){const N=[];let A=0,R=0;for(const b of Et.sections)console.log("Generating cells for section",b.name,"at",b.cellId,"with size",b.cellsLong,"x",b.cellsTall),console.log("Added section Length:",b.cellsLong*v+b.cellId.x),(b.cellsLong+b.cellId.x)*v>A&&(A+=b.cellsLong*v),(b.cellsTall+b.cellId.y)*v>R&&(R+=b.cellsTall*v);console.log("Current width:",A,"Current height:",R),[...Array(R/v).keys()].map(b=>{const x=[];[...Array(A/v).keys()].map(M=>{x.push({id:new Lt({x:M,y:b}),hasItem:!1,itemId:"",mouseOver:!1,canPlaceItem:!1,mouseOverLocation:"",inSection:!1,size:v})}),N.push(x)}),Nt.push({width:A,height:R,templateName:Et.name,cells:N})}g([...Nt]),setTimeout(()=>{const Et=[],N=[];for(const A of vt){const R=[];for(const b of A.sections)console.log("Adding section",b.name,b.cellId,A.name.split(" ").join("-")),b.cellElement=document.querySelector(`.template-dialog #${A.name.split(" ").join("-")} #${b.cellId.toId()}.cell:not(.cell-border)`),console.log("Section element found",b.cellElement),Et.push(b),R.push(...b.startingItems.map(x=>new Vi({cell:new Lt({x:b.cellId.x+x.cell.x,y:b.cellId.y+x.cell.y}),item:new ie({id:x.item.id,name:x.item.name,cellsLong:x.item.cellsLong,cellsTall:x.item.cellsTall,icon:x.item.icon,initialElement:document.querySelector(`.template-dialog #${A.name.split(" ").join("-")} #${x.cell.toId()}.cell:not(.cell-border)`),starterItem:!0,moveable:!1})})));for(const b of R){console.log("Placing starting item",b.item.name,b.cell);for(let x=0;x<b.item.cellsTall;x++)for(let M=0;M<b.item.cellsLong;M++)Nt[Nt.findIndex(I=>I.templateName==A.name)].cells[b.cell.y+x][b.cell.x+M].hasItem=!0,Nt[Nt.findIndex(I=>I.templateName==A.name)].cells[b.cell.y+x][b.cell.x+M].itemId=b.item.id;b.item.initialElement=document.querySelector(`.template-dialog #${A.name.split(" ").join("-")} #${b.cell.toId()}.cell:not(.cell-border)`),console.log("Adding item to items",b.item.initialElement),N.push(new ie({id:b.item.id,name:b.item.name,cellsLong:b.item.cellsLong,cellsTall:b.item.cellsTall,icon:b.item.icon,initialElement:b.item.initialElement,starterItem:!0,moveable:!1}))}}S(A=>[...A,...N]),h([...Et])},100)}mt.useEffect(()=>{if(l&&(console.log("Layout dialog opened, generating cells and sections",i),i.length!==0)){if(i.length==1){tt([i[0]]);return}X(D?[i[0].name]:[i[0].name,i[1].name])}},[l,i]),mt.useEffect(()=>{const at=i.filter(lt=>j.includes(lt.name));console.log("Viewing templates:",j),at.sort((lt,ct)=>j.indexOf(lt.name)-j.indexOf(ct.name)),console.log("Generating templates for",at.map(lt=>lt.name)),tt(at)},[j]);function H(at){let lt=[];return at.map(ct=>lt=[...lt,...ct]),lt}return et.jsxs("dialog",{ref:a,className:"template-dialog",children:[et.jsxs("div",{className:"template-dialog-div",children:[et.jsx("h2",{children:"Templates"}),et.jsxs("div",{className:"templates",children:[i.length>1&&i.filter(at=>!j.includes(at.name)).length>0&&et.jsx("img",{src:$u,onClick:()=>{if(D){const lt=(i.findIndex(ct=>ct.name===j[0])-1+i.length)%i.length;X([i[lt].name])}else X(at=>{const ct=(i.findIndex(Nt=>Nt.name===at[0])-1+i.length)%i.length;return[i[ct].name,at[0]]})},className:"back-mobile-areas"}),d.map((at,lt)=>et.jsxs("div",{children:[et.jsx(Ju,{width:at.width,height:at.height,cells:H(at.cells),id:at.templateName.split(" ").join("-"),visibile:!0},lt),et.jsx("h3",{children:at.templateName}),et.jsx("button",{className:"template-select-btn",onClick:()=>{const ct=i.find(Et=>Et.name===at.templateName),Nt=new Ni({name:ct.name,id:ct.id,sections:ct.sections.map(Et=>new Le({name:Et.name,cellId:new Lt({x:Et.cellId.x*(D?20:10),y:Et.cellId.y*(D?20:10)}),cellsLong:Et.cellsLong*(D?20:10),cellsTall:Et.cellsTall*(D?20:10),startingItems:Et.startingItems.map(N=>new Vi({cell:new Lt({x:N.cell.x*(D?2:1),y:N.cell.y*(D?2:1)}),item:new ie({id:N.item.id,name:N.item.name,icon:N.item.icon,cellsLong:N.item.cellsLong*2,cellsTall:N.item.cellsTall*2,starterItem:N.item.starterItem,moveable:N.item.moveable})}))}))}),vt=new URLSearchParams(window.location.search);vt.set("templateName",Nt.name),window.location.search=vt.toString()},children:" Select"})]})),i.length>1&&i.filter(at=>!j.includes(at.name)).length>0&&et.jsx("img",{src:$u,onClick:()=>{if(D){const lt=(i.findIndex(ct=>ct.name===j[0])+1)%i.length;X([i[lt].name])}else X(at=>{const ct=(i.findIndex(Nt=>Nt.name===at[at.length-1])+1)%i.length;return[at[1],i[ct].name]})},className:"forward-mobile-areas"})]}),et.jsx("br",{}),et.jsx("button",{className:"template-dialog-close",onClick:e,children:"Close"})]}),o.map(at=>et.jsx(md,{section:at,visible:!0,cellSize:v},at.cellId.toId())),_.map(at=>et.jsx(R_,{removeItem:()=>{},visible:!0,item:at,canPlaceItem:()=>!1,placeItem:()=>{},deleteItemRotate:()=>{},highlightCells:()=>{},unHighlightCells:()=>{},deleteItem:()=>{},isSelected:!1,onSelect:lt=>{},isUnselecting:!1,onDeselect:()=>{}},at.id))]})}function WT({dialogRef:a,closeDialog:e,addInventoryItem:i}){const[l,o]=mt.useState(""),[h,d]=mt.useState(1),[g,v]=mt.useState(1),[_,S]=mt.useState(1);return et.jsx("dialog",{ref:a,className:"custom-item-dialog",children:et.jsxs("div",{className:"custom-item-dialog-div",children:[et.jsx("h2",{children:"Add Custom Item"}),et.jsxs("div",{className:"custom-item-row",children:[et.jsx("label",{htmlFor:"item-name",children:"Name:"}),et.jsx("input",{type:"text",id:"item-name",name:"item-name",onChange:D=>o(D.target.value??""),value:l})]}),et.jsxs("div",{className:"custom-item-row",children:[et.jsx("label",{htmlFor:"item-icon",children:"Count:"}),et.jsx("input",{type:"number",id:"item-count",name:"item-count",min:"1",value:h,onChange:D=>d(parseInt(D.target.value)??1)})]}),et.jsxs("div",{className:"custom-item-row custom-item-size",children:[et.jsx("label",{htmlFor:"item-width",children:"Size (in feet):"}),et.jsx("input",{type:"number",id:"item-width",name:"item-width",min:"1",value:g,onChange:D=>v(parseFloat(D.target.value)??1)}),et.jsx("span",{children:" x "}),et.jsx("input",{type:"number",id:"item-height",name:"item-height",min:"1",value:_,onChange:D=>S(parseFloat(D.target.value)??1)})]}),et.jsx("br",{}),et.jsx("button",{className:"custom-item-dialog-add",onClick:()=>{if(l.trim()===""){alert("Item name cannot be empty");return}const D=new li({quantity:h,item:new ie({id:l+(Math.random()*1e4).toString(),name:l,icon:`custom-${l}`,cellsLong:Math.ceil(g),cellsTall:Math.ceil(_),moveable:!0,starterItem:!1,displayItem:!0})});i(D),o(""),d(1),v(1),S(1),e()},children:"Add Item"}),et.jsx("br",{}),et.jsx("br",{}),et.jsx("button",{className:"custom-item-dialog-close",onClick:e,children:"Close"})]})})}const tE=()=>{};var _y={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=function(a){const e=[];let i=0;for(let l=0;l<a.length;l++){let o=a.charCodeAt(l);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&l+1<a.length&&(a.charCodeAt(l+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++l)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},eE=function(a){const e=[];let i=0,l=0;for(;i<a.length;){const o=a[i++];if(o<128)e[l++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[l++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],g=a[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[l++]=String.fromCharCode(55296+(v>>10)),e[l++]=String.fromCharCode(56320+(v&1023))}else{const h=a[i++],d=a[i++];e[l++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},I_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,g=d?a[o+1]:0,v=o+2<a.length,_=v?a[o+2]:0,S=h>>2,D=(h&3)<<4|g>>4;let V=(g&15)<<2|_>>6,j=_&63;v||(j=64,d||(V=64)),l.push(i[S],i[D],i[V],i[j])}return l.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(w_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):eE(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const _=o<a.length?i[a.charAt(o)]:64;++o;const D=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||g==null||_==null||D==null)throw new nE;const V=h<<2|g>>4;if(l.push(V),_!==64){const j=g<<4&240|_>>2;if(l.push(j),D!==64){const X=_<<6&192|D;l.push(X)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class nE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iE=function(a){const e=w_(a);return I_.encodeByteArray(e,!0)},Wu=function(a){return iE(a).replace(/\./g,"")},sE=function(a){try{return I_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=()=>aE().__FIREBASE_DEFAULTS__,rE=()=>{if(typeof process>"u"||typeof _y>"u")return;const a=_y.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},oE=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&sE(a[1]);return e&&JSON.parse(e)},gd=()=>{try{return tE()||lE()||rE()||oE()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},uE=a=>gd()?.emulatorHosts?.[a],cE=a=>{const e=uE(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const l=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),l]:[e.substring(0,i),l]},D_=()=>gd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,l)=>{i?this.reject(i):this.resolve(l),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fE(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},l=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${l}`,aud:l,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Wu(JSON.stringify(i)),Wu(JSON.stringify(d)),""].join(".")}const $r={};function mE(){const a={prod:[],emulator:[]};for(const e of Object.keys($r))$r[e]?a.emulator.push(e):a.prod.push(e);return a}function gE(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let vy=!1;function pE(a,e){if(typeof window>"u"||typeof document>"u"||!pd(window.location.host)||$r[a]===e||$r[a]||vy)return;$r[a]=e;function i(V){return`__firebase__banner__${V}`}const l="__firebase__banner",h=mE().prod.length>0;function d(){const V=document.getElementById(l);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,j){V.setAttribute("width","24"),V.setAttribute("id",j),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{vy=!0,d()},V}function S(V,j){V.setAttribute("id",j),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function D(){const V=gE(l),j=i("text"),X=document.getElementById(j)||document.createElement("span"),tt=i("learnmore"),H=document.getElementById(tt)||document.createElement("a"),at=i("preprendIcon"),lt=document.getElementById(at)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const ct=V.element;g(ct),S(H,tt);const Nt=_();v(lt,at),ct.append(lt,X,H,Nt),document.body.appendChild(ct)}h?(X.innerText="Preview backend disconnected.",lt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",D):D()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _E(){const a=gd()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vE(){return!_E()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TE(){try{return typeof indexedDB=="object"}catch{return!1}}function EE(){return new Promise((a,e)=>{try{let i=!0;const l="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(l);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(l),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="FirebaseError";class kl extends Error{constructor(e,i,l){super(i),this.code=e,this.customData=l,this.name=AE,Object.setPrototypeOf(this,kl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,C_.prototype.create)}}class C_{constructor(e,i,l){this.service=e,this.serviceName=i,this.errors=l}create(e,...i){const l=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?SE(h,l):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new kl(o,g,l)}}function SE(a,e){return a.replace(bE,(i,l)=>{const o=e[l];return o!=null?String(o):`<${l}?>`})}const bE=/\{\$([^}]+)}/g;function tc(a,e){if(a===e)return!0;const i=Object.keys(a),l=Object.keys(e);for(const o of i){if(!l.includes(o))return!1;const h=a[o],d=e[o];if(Ty(h)&&Ty(d)){if(!tc(h,d))return!1}else if(h!==d)return!1}for(const o of l)if(!i.includes(o))return!1;return!0}function Ty(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(a){return a&&a._delegate?a._delegate:a}class ao{constructor(e,i,l){this.name=e,this.instanceFactory=i,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const l=new hE;if(this.instancesDeferred.set(i,l),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&l.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),l=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(l)return null;throw o}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IE(e))try{this.getOrInitializeService({instanceIdentifier:Ca})}catch{}for(const[i,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});l.resolve(h)}catch{}}}}clearInstance(e=Ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ca){return this.instances.has(e)}getOptions(e=Ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,l=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:l,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);l===g&&d.resolve(o)}return o}onInit(e,i){const l=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(l)??new Set;o.add(e),this.onInitCallbacks.set(l,o);const h=this.instances.get(l);return h&&e(h,l),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const l=this.onInitCallbacks.get(i);if(l)for(const o of l)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let l=this.instances.get(e);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:wE(e),options:i}),this.instances.set(e,l),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(l,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,l)}catch{}return l||null}normalizeInstanceIdentifier(e=Ca){return this.component?this.component.multipleInstances?e:Ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wE(a){return a===Ca?void 0:a}function IE(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new RE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(ee||(ee={}));const CE={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},VE=ee.INFO,NE={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},xE=(a,e,...i)=>{if(e<a.logLevel)return;const l=new Date().toISOString(),o=NE[e];if(o)console[o](`[${l}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class V_{constructor(e){this.name=e,this._logLevel=VE,this._logHandler=xE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}}const OE=(a,e)=>e.some(i=>a instanceof i);let Ey,Ay;function ME(){return Ey||(Ey=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LE(){return Ay||(Ay=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const N_=new WeakMap,Qf=new WeakMap,x_=new WeakMap,Uf=new WeakMap,yd=new WeakMap;function UE(a){const e=new Promise((i,l)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(ks(a.result)),o()},d=()=>{l(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&N_.set(i,a)}).catch(()=>{}),yd.set(e,a),e}function zE(a){if(Qf.has(a))return;const e=new Promise((i,l)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{l(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Qf.set(a,e)}let Yf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Qf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||x_.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ks(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function PE(a){Yf=a(Yf)}function BE(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const l=a.call(zf(this),e,...i);return x_.set(l,e.sort?e.sort():[e]),ks(l)}:LE().includes(a)?function(...e){return a.apply(zf(this),e),ks(N_.get(this))}:function(...e){return ks(a.apply(zf(this),e))}}function kE(a){return typeof a=="function"?BE(a):(a instanceof IDBTransaction&&zE(a),OE(a,ME())?new Proxy(a,Yf):a)}function ks(a){if(a instanceof IDBRequest)return UE(a);if(Uf.has(a))return Uf.get(a);const e=kE(a);return e!==a&&(Uf.set(a,e),yd.set(e,a)),e}const zf=a=>yd.get(a);function jE(a,e,{blocked:i,upgrade:l,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),g=ks(d);return l&&d.addEventListener("upgradeneeded",v=>{l(ks(d.result),v.oldVersion,v.newVersion,ks(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const qE=["get","getKey","getAll","getAllKeys","count"],HE=["put","add","delete","clear"],Pf=new Map;function Sy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Pf.get(e))return Pf.get(e);const i=e.replace(/FromIndex$/,""),l=e!==i,o=HE.includes(i);if(!(i in(l?IDBIndex:IDBObjectStore).prototype)||!(o||qE.includes(i)))return;const h=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return l&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&v.done]))[0]};return Pf.set(e,h),h}PE(a=>({...a,get:(e,i,l)=>Sy(e,i)||a.get(e,i,l),has:(e,i)=>!!Sy(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(QE(i)){const l=i.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(i=>i).join(" ")}}function QE(a){return a.getComponent()?.type==="VERSION"}const Ff="@firebase/app",by="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new V_("@firebase/app"),YE="@firebase/app-compat",FE="@firebase/analytics-compat",XE="@firebase/analytics",KE="@firebase/app-check-compat",ZE="@firebase/app-check",JE="@firebase/auth",$E="@firebase/auth-compat",WE="@firebase/database",tA="@firebase/data-connect",eA="@firebase/database-compat",nA="@firebase/functions",iA="@firebase/functions-compat",sA="@firebase/installations",aA="@firebase/installations-compat",lA="@firebase/messaging",rA="@firebase/messaging-compat",oA="@firebase/performance",uA="@firebase/performance-compat",cA="@firebase/remote-config",hA="@firebase/remote-config-compat",fA="@firebase/storage",dA="@firebase/storage-compat",mA="@firebase/firestore",gA="@firebase/ai",pA="@firebase/firestore-compat",yA="firebase",_A="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf="[DEFAULT]",vA={[Ff]:"fire-core",[YE]:"fire-core-compat",[XE]:"fire-analytics",[FE]:"fire-analytics-compat",[ZE]:"fire-app-check",[KE]:"fire-app-check-compat",[JE]:"fire-auth",[$E]:"fire-auth-compat",[WE]:"fire-rtdb",[tA]:"fire-data-connect",[eA]:"fire-rtdb-compat",[nA]:"fire-fn",[iA]:"fire-fn-compat",[sA]:"fire-iid",[aA]:"fire-iid-compat",[lA]:"fire-fcm",[rA]:"fire-fcm-compat",[oA]:"fire-perf",[uA]:"fire-perf-compat",[cA]:"fire-rc",[hA]:"fire-rc-compat",[fA]:"fire-gcs",[dA]:"fire-gcs-compat",[mA]:"fire-fst",[pA]:"fire-fst-compat",[gA]:"fire-vertex","fire-js":"fire-js",[yA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=new Map,TA=new Map,Kf=new Map;function Ry(a,e){try{a.container.addComponent(e)}catch(i){os.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function nc(a){const e=a.name;if(Kf.has(e))return os.debug(`There were multiple attempts to register component ${e}.`),!1;Kf.set(e,a);for(const i of ec.values())Ry(i,a);for(const i of TA.values())Ry(i,a);return!0}function EA(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function AA(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},js=new C_("app","Firebase",SA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,i,l){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw js.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=_A;function O_(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const l={name:Xf,automaticDataCollectionEnabled:!0,...e},o=l.name;if(typeof o!="string"||!o)throw js.create("bad-app-name",{appName:String(o)});if(i||(i=D_()),!i)throw js.create("no-options");const h=ec.get(o);if(h){if(tc(i,h.options)&&tc(l,h.config))return h;throw js.create("duplicate-app",{appName:o})}const d=new DE(o);for(const v of Kf.values())d.addComponent(v);const g=new bA(i,l,d);return ec.set(o,g),g}function wA(a=Xf){const e=ec.get(a);if(!e&&a===Xf&&D_())return O_();if(!e)throw js.create("no-app",{appName:a});return e}function Nl(a,e,i){let l=vA[a]??a;i&&(l+=`-${i}`);const o=l.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${l}" with version "${e}":`];o&&d.push(`library name "${l}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),os.warn(d.join(" "));return}nc(new ao(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="firebase-heartbeat-database",DA=1,lo="firebase-heartbeat-store";let Bf=null;function M_(){return Bf||(Bf=jE(IA,DA,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(lo)}catch(i){console.warn(i)}}}}).catch(a=>{throw js.create("idb-open",{originalErrorMessage:a.message})})),Bf}async function CA(a){try{const i=(await M_()).transaction(lo),l=await i.objectStore(lo).get(L_(a));return await i.done,l}catch(e){if(e instanceof kl)os.warn(e.message);else{const i=js.create("idb-get",{originalErrorMessage:e?.message});os.warn(i.message)}}}async function wy(a,e){try{const l=(await M_()).transaction(lo,"readwrite");await l.objectStore(lo).put(e,L_(a)),await l.done}catch(i){if(i instanceof kl)os.warn(i.message);else{const l=js.create("idb-set",{originalErrorMessage:i?.message});os.warn(l.message)}}}function L_(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=1024,NA=30;class xA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new MA(i),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Iy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(o=>o.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats.length>NA){const o=LA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){os.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Iy(),{heartbeatsToSend:i,unsentEntries:l}=OA(this._heartbeatsCache.heartbeats),o=Wu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return os.warn(e),""}}}function Iy(){return new Date().toISOString().substring(0,10)}function OA(a,e=VA){const i=[];let l=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Dy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Dy(i)>e){i.pop();break}l=l.slice(1)}return{heartbeatsToSend:i,unsentEntries:l}}class MA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TE()?EE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await CA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const l=await this.read();return wy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const l=await this.read();return wy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Dy(a){return Wu(JSON.stringify({version:2,heartbeats:a})).length}function LA(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let l=1;l<a.length;l++)a[l].date<i&&(i=a[l].date,e=l);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(a){nc(new ao("platform-logger",e=>new GE(e),"PRIVATE")),nc(new ao("heartbeat",e=>new xA(e),"PRIVATE")),Nl(Ff,by,a),Nl(Ff,by,"esm2020"),Nl("fire-js","")}UA("");var Cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qs,U_;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function R(){}R.prototype=A.prototype,N.D=A.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(b,x,M){for(var I=Array(arguments.length-2),be=2;be<arguments.length;be++)I[be-2]=arguments[be];return A.prototype[x].apply(b,I)}}function i(){this.blockSize=-1}function l(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(l,i),l.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,R){R||(R=0);var b=Array(16);if(typeof A=="string")for(var x=0;16>x;++x)b[x]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(x=0;16>x;++x)b[x]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=N.g[0],R=N.g[1],x=N.g[2];var M=N.g[3],I=A+(M^R&(x^M))+b[0]+3614090360&4294967295;A=R+(I<<7&4294967295|I>>>25),I=M+(x^A&(R^x))+b[1]+3905402710&4294967295,M=A+(I<<12&4294967295|I>>>20),I=x+(R^M&(A^R))+b[2]+606105819&4294967295,x=M+(I<<17&4294967295|I>>>15),I=R+(A^x&(M^A))+b[3]+3250441966&4294967295,R=x+(I<<22&4294967295|I>>>10),I=A+(M^R&(x^M))+b[4]+4118548399&4294967295,A=R+(I<<7&4294967295|I>>>25),I=M+(x^A&(R^x))+b[5]+1200080426&4294967295,M=A+(I<<12&4294967295|I>>>20),I=x+(R^M&(A^R))+b[6]+2821735955&4294967295,x=M+(I<<17&4294967295|I>>>15),I=R+(A^x&(M^A))+b[7]+4249261313&4294967295,R=x+(I<<22&4294967295|I>>>10),I=A+(M^R&(x^M))+b[8]+1770035416&4294967295,A=R+(I<<7&4294967295|I>>>25),I=M+(x^A&(R^x))+b[9]+2336552879&4294967295,M=A+(I<<12&4294967295|I>>>20),I=x+(R^M&(A^R))+b[10]+4294925233&4294967295,x=M+(I<<17&4294967295|I>>>15),I=R+(A^x&(M^A))+b[11]+2304563134&4294967295,R=x+(I<<22&4294967295|I>>>10),I=A+(M^R&(x^M))+b[12]+1804603682&4294967295,A=R+(I<<7&4294967295|I>>>25),I=M+(x^A&(R^x))+b[13]+4254626195&4294967295,M=A+(I<<12&4294967295|I>>>20),I=x+(R^M&(A^R))+b[14]+2792965006&4294967295,x=M+(I<<17&4294967295|I>>>15),I=R+(A^x&(M^A))+b[15]+1236535329&4294967295,R=x+(I<<22&4294967295|I>>>10),I=A+(x^M&(R^x))+b[1]+4129170786&4294967295,A=R+(I<<5&4294967295|I>>>27),I=M+(R^x&(A^R))+b[6]+3225465664&4294967295,M=A+(I<<9&4294967295|I>>>23),I=x+(A^R&(M^A))+b[11]+643717713&4294967295,x=M+(I<<14&4294967295|I>>>18),I=R+(M^A&(x^M))+b[0]+3921069994&4294967295,R=x+(I<<20&4294967295|I>>>12),I=A+(x^M&(R^x))+b[5]+3593408605&4294967295,A=R+(I<<5&4294967295|I>>>27),I=M+(R^x&(A^R))+b[10]+38016083&4294967295,M=A+(I<<9&4294967295|I>>>23),I=x+(A^R&(M^A))+b[15]+3634488961&4294967295,x=M+(I<<14&4294967295|I>>>18),I=R+(M^A&(x^M))+b[4]+3889429448&4294967295,R=x+(I<<20&4294967295|I>>>12),I=A+(x^M&(R^x))+b[9]+568446438&4294967295,A=R+(I<<5&4294967295|I>>>27),I=M+(R^x&(A^R))+b[14]+3275163606&4294967295,M=A+(I<<9&4294967295|I>>>23),I=x+(A^R&(M^A))+b[3]+4107603335&4294967295,x=M+(I<<14&4294967295|I>>>18),I=R+(M^A&(x^M))+b[8]+1163531501&4294967295,R=x+(I<<20&4294967295|I>>>12),I=A+(x^M&(R^x))+b[13]+2850285829&4294967295,A=R+(I<<5&4294967295|I>>>27),I=M+(R^x&(A^R))+b[2]+4243563512&4294967295,M=A+(I<<9&4294967295|I>>>23),I=x+(A^R&(M^A))+b[7]+1735328473&4294967295,x=M+(I<<14&4294967295|I>>>18),I=R+(M^A&(x^M))+b[12]+2368359562&4294967295,R=x+(I<<20&4294967295|I>>>12),I=A+(R^x^M)+b[5]+4294588738&4294967295,A=R+(I<<4&4294967295|I>>>28),I=M+(A^R^x)+b[8]+2272392833&4294967295,M=A+(I<<11&4294967295|I>>>21),I=x+(M^A^R)+b[11]+1839030562&4294967295,x=M+(I<<16&4294967295|I>>>16),I=R+(x^M^A)+b[14]+4259657740&4294967295,R=x+(I<<23&4294967295|I>>>9),I=A+(R^x^M)+b[1]+2763975236&4294967295,A=R+(I<<4&4294967295|I>>>28),I=M+(A^R^x)+b[4]+1272893353&4294967295,M=A+(I<<11&4294967295|I>>>21),I=x+(M^A^R)+b[7]+4139469664&4294967295,x=M+(I<<16&4294967295|I>>>16),I=R+(x^M^A)+b[10]+3200236656&4294967295,R=x+(I<<23&4294967295|I>>>9),I=A+(R^x^M)+b[13]+681279174&4294967295,A=R+(I<<4&4294967295|I>>>28),I=M+(A^R^x)+b[0]+3936430074&4294967295,M=A+(I<<11&4294967295|I>>>21),I=x+(M^A^R)+b[3]+3572445317&4294967295,x=M+(I<<16&4294967295|I>>>16),I=R+(x^M^A)+b[6]+76029189&4294967295,R=x+(I<<23&4294967295|I>>>9),I=A+(R^x^M)+b[9]+3654602809&4294967295,A=R+(I<<4&4294967295|I>>>28),I=M+(A^R^x)+b[12]+3873151461&4294967295,M=A+(I<<11&4294967295|I>>>21),I=x+(M^A^R)+b[15]+530742520&4294967295,x=M+(I<<16&4294967295|I>>>16),I=R+(x^M^A)+b[2]+3299628645&4294967295,R=x+(I<<23&4294967295|I>>>9),I=A+(x^(R|~M))+b[0]+4096336452&4294967295,A=R+(I<<6&4294967295|I>>>26),I=M+(R^(A|~x))+b[7]+1126891415&4294967295,M=A+(I<<10&4294967295|I>>>22),I=x+(A^(M|~R))+b[14]+2878612391&4294967295,x=M+(I<<15&4294967295|I>>>17),I=R+(M^(x|~A))+b[5]+4237533241&4294967295,R=x+(I<<21&4294967295|I>>>11),I=A+(x^(R|~M))+b[12]+1700485571&4294967295,A=R+(I<<6&4294967295|I>>>26),I=M+(R^(A|~x))+b[3]+2399980690&4294967295,M=A+(I<<10&4294967295|I>>>22),I=x+(A^(M|~R))+b[10]+4293915773&4294967295,x=M+(I<<15&4294967295|I>>>17),I=R+(M^(x|~A))+b[1]+2240044497&4294967295,R=x+(I<<21&4294967295|I>>>11),I=A+(x^(R|~M))+b[8]+1873313359&4294967295,A=R+(I<<6&4294967295|I>>>26),I=M+(R^(A|~x))+b[15]+4264355552&4294967295,M=A+(I<<10&4294967295|I>>>22),I=x+(A^(M|~R))+b[6]+2734768916&4294967295,x=M+(I<<15&4294967295|I>>>17),I=R+(M^(x|~A))+b[13]+1309151649&4294967295,R=x+(I<<21&4294967295|I>>>11),I=A+(x^(R|~M))+b[4]+4149444226&4294967295,A=R+(I<<6&4294967295|I>>>26),I=M+(R^(A|~x))+b[11]+3174756917&4294967295,M=A+(I<<10&4294967295|I>>>22),I=x+(A^(M|~R))+b[2]+718787259&4294967295,x=M+(I<<15&4294967295|I>>>17),I=R+(M^(x|~A))+b[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(x+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+x&4294967295,N.g[3]=N.g[3]+M&4294967295}l.prototype.u=function(N,A){A===void 0&&(A=N.length);for(var R=A-this.blockSize,b=this.B,x=this.h,M=0;M<A;){if(x==0)for(;M<=R;)o(this,N,M),M+=this.blockSize;if(typeof N=="string"){for(;M<A;)if(b[x++]=N.charCodeAt(M++),x==this.blockSize){o(this,b),x=0;break}}else for(;M<A;)if(b[x++]=N[M++],x==this.blockSize){o(this,b),x=0;break}}this.h=x,this.o+=A},l.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;var R=8*this.o;for(A=N.length-8;A<N.length;++A)N[A]=R&255,R/=256;for(this.u(N),N=Array(16),A=R=0;4>A;++A)for(var b=0;32>b;b+=8)N[R++]=this.g[A]>>>b&255;return N};function h(N,A){var R=g;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=A(N)}function d(N,A){this.h=A;for(var R=[],b=!0,x=N.length-1;0<=x;x--){var M=N[x]|0;b&&M==A||(R[x]=M,b=!1)}this.g=R}var g={};function v(N){return-128<=N&&128>N?h(N,function(A){return new d([A|0],0>A?-1:0)}):new d([N|0],0>N?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return D;if(0>N)return H(_(-N));for(var A=[],R=1,b=0;N>=R;b++)A[b]=N/R|0,R*=4294967296;return new d(A,0)}function S(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return H(S(N.substring(1),A));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=_(Math.pow(A,8)),b=D,x=0;x<N.length;x+=8){var M=Math.min(8,N.length-x),I=parseInt(N.substring(x,x+M),A);8>M?(M=_(Math.pow(A,M)),b=b.j(M).add(_(I))):(b=b.j(R),b=b.add(_(I)))}return b}var D=v(0),V=v(1),j=v(16777216);a=d.prototype,a.m=function(){if(tt(this))return-H(this).m();for(var N=0,A=1,R=0;R<this.g.length;R++){var b=this.i(R);N+=(0<=b?b:4294967296+b)*A,A*=4294967296}return N},a.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(X(this))return"0";if(tt(this))return"-"+H(this).toString(N);for(var A=_(Math.pow(N,6)),R=this,b="";;){var x=Nt(R,A).g;R=at(R,x.j(A));var M=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=x,X(R))return M+b;for(;6>M.length;)M="0"+M;b=M+b}},a.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function X(N){if(N.h!=0)return!1;for(var A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function tt(N){return N.h==-1}a.l=function(N){return N=at(this,N),tt(N)?-1:X(N)?0:1};function H(N){for(var A=N.g.length,R=[],b=0;b<A;b++)R[b]=~N.g[b];return new d(R,~N.h).add(V)}a.abs=function(){return tt(this)?H(this):this},a.add=function(N){for(var A=Math.max(this.g.length,N.g.length),R=[],b=0,x=0;x<=A;x++){var M=b+(this.i(x)&65535)+(N.i(x)&65535),I=(M>>>16)+(this.i(x)>>>16)+(N.i(x)>>>16);b=I>>>16,M&=65535,I&=65535,R[x]=I<<16|M}return new d(R,R[R.length-1]&-2147483648?-1:0)};function at(N,A){return N.add(H(A))}a.j=function(N){if(X(this)||X(N))return D;if(tt(this))return tt(N)?H(this).j(H(N)):H(H(this).j(N));if(tt(N))return H(this.j(H(N)));if(0>this.l(j)&&0>N.l(j))return _(this.m()*N.m());for(var A=this.g.length+N.g.length,R=[],b=0;b<2*A;b++)R[b]=0;for(b=0;b<this.g.length;b++)for(var x=0;x<N.g.length;x++){var M=this.i(b)>>>16,I=this.i(b)&65535,be=N.i(x)>>>16,_e=N.i(x)&65535;R[2*b+2*x]+=I*_e,lt(R,2*b+2*x),R[2*b+2*x+1]+=M*_e,lt(R,2*b+2*x+1),R[2*b+2*x+1]+=I*be,lt(R,2*b+2*x+1),R[2*b+2*x+2]+=M*be,lt(R,2*b+2*x+2)}for(b=0;b<A;b++)R[b]=R[2*b+1]<<16|R[2*b];for(b=A;b<2*A;b++)R[b]=0;return new d(R,0)};function lt(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function ct(N,A){this.g=N,this.h=A}function Nt(N,A){if(X(A))throw Error("division by zero");if(X(N))return new ct(D,D);if(tt(N))return A=Nt(H(N),A),new ct(H(A.g),H(A.h));if(tt(A))return A=Nt(N,H(A)),new ct(H(A.g),A.h);if(30<N.g.length){if(tt(N)||tt(A))throw Error("slowDivide_ only works with positive integers.");for(var R=V,b=A;0>=b.l(N);)R=vt(R),b=vt(b);var x=Et(R,1),M=Et(b,1);for(b=Et(b,2),R=Et(R,2);!X(b);){var I=M.add(b);0>=I.l(N)&&(x=x.add(R),M=I),b=Et(b,1),R=Et(R,1)}return A=at(N,x.j(A)),new ct(x,A)}for(x=D;0<=N.l(A);){for(R=Math.max(1,Math.floor(N.m()/A.m())),b=Math.ceil(Math.log(R)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),M=_(R),I=M.j(A);tt(I)||0<I.l(N);)R-=b,M=_(R),I=M.j(A);X(M)&&(M=V),x=x.add(M),N=at(N,I)}return new ct(x,N)}a.A=function(N){return Nt(this,N).h},a.and=function(N){for(var A=Math.max(this.g.length,N.g.length),R=[],b=0;b<A;b++)R[b]=this.i(b)&N.i(b);return new d(R,this.h&N.h)},a.or=function(N){for(var A=Math.max(this.g.length,N.g.length),R=[],b=0;b<A;b++)R[b]=this.i(b)|N.i(b);return new d(R,this.h|N.h)},a.xor=function(N){for(var A=Math.max(this.g.length,N.g.length),R=[],b=0;b<A;b++)R[b]=this.i(b)^N.i(b);return new d(R,this.h^N.h)};function vt(N){for(var A=N.g.length+1,R=[],b=0;b<A;b++)R[b]=N.i(b)<<1|N.i(b-1)>>>31;return new d(R,N.h)}function Et(N,A){var R=A>>5;A%=32;for(var b=N.g.length-R,x=[],M=0;M<b;M++)x[M]=0<A?N.i(M+R)>>>A|N.i(M+R+1)<<32-A:N.i(M+R);return new d(x,N.h)}l.prototype.digest=l.prototype.v,l.prototype.reset=l.prototype.s,l.prototype.update=l.prototype.u,U_=l,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,qs=d}).apply(typeof Cy<"u"?Cy:typeof self<"u"?self:typeof window<"u"?window:{});var ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var z_,Xr,P_,Qu,Zf,B_,k_,j_;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ku=="object"&&ku];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var l=i(this);function o(u,m){if(m)t:{var p=l;u=u.split(".");for(var E=0;E<u.length-1;E++){var P=u[E];if(!(P in p))break t;p=p[P]}u=u[u.length-1],E=p[u],m=m(E),m!=E&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,E=!1,P={next:function(){if(!E&&p<u.length){var Y=p++;return{value:m(Y,u[Y]),done:!1}}return E=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function v(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function S(u,m,p){return u.call.apply(u.bind,arguments)}function D(u,m,p){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,E),u.apply(m,P)}}return function(){return u.apply(m,arguments)}}function V(u,m,p){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:D,V.apply(null,arguments)}function j(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var E=p.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function X(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(E,P,Y){for(var ft=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)ft[Jt-2]=arguments[Jt];return m.prototype[P].apply(E,ft)}}function tt(u){const m=u.length;if(0<m){const p=Array(m);for(let E=0;E<m;E++)p[E]=u[E];return p}return[]}function H(u,m){for(let p=1;p<arguments.length;p++){const E=arguments[p];if(v(E)){const P=u.length||0,Y=E.length||0;u.length=P+Y;for(let ft=0;ft<Y;ft++)u[P+ft]=E[ft]}else u.push(E)}}class at{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function lt(u){return/^[\s\xa0]*$/.test(u)}function ct(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Nt(u){return Nt[" "](u),u}Nt[" "]=function(){};var vt=ct().indexOf("Gecko")!=-1&&!(ct().toLowerCase().indexOf("webkit")!=-1&&ct().indexOf("Edge")==-1)&&!(ct().indexOf("Trident")!=-1||ct().indexOf("MSIE")!=-1)&&ct().indexOf("Edge")==-1;function Et(u,m,p){for(const E in u)m.call(p,u[E],E,u)}function N(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function A(u){const m={};for(const p in u)m[p]=u[p];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(u,m){let p,E;for(let P=1;P<arguments.length;P++){E=arguments[P];for(p in E)u[p]=E[p];for(let Y=0;Y<R.length;Y++)p=R[Y],Object.prototype.hasOwnProperty.call(E,p)&&(u[p]=E[p])}}function x(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function M(u){g.setTimeout(()=>{throw u},0)}function I(){var u=It;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class be{constructor(){this.h=this.g=null}add(m,p){const E=_e.get();E.set(m,p),this.h?this.h.next=E:this.g=E,this.h=E}}var _e=new at(()=>new Q,u=>u.reset());class Q{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,_t=!1,It=new be,C=()=>{const u=g.Promise.resolve(void 0);ot=()=>{u.then(J)}};var J=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(p){M(p)}var m=_e;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}_t=!1};function dt(){this.s=this.s,this.C=this.C}dt.prototype.s=!1,dt.prototype.ma=function(){this.s||(this.s=!0,this.N())},dt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var St=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function Ut(u,m){if(st.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(vt){t:{try{Nt(m.nodeName);var P=!0;break t}catch{}P=!1}P||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:wt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ut.aa.h.call(this)}}X(Ut,st);var wt={2:"touch",3:"pen",4:"mouse"};Ut.prototype.h=function(){Ut.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),re=0;function Tt(u,m,p,E,P){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!E,this.ha=P,this.key=++re,this.da=this.fa=!1}function jt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zt(u){this.src=u,this.g={},this.h=0}zt.prototype.add=function(u,m,p,E,P){var Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);var ft=Ce(u,m,E,P);return-1<ft?(m=u[ft],p||(m.fa=!1)):(m=new Tt(m,this.src,Y,!!E,P),m.fa=p,u.push(m)),m};function qt(u,m){var p=m.type;if(p in u.g){var E=u.g[p],P=Array.prototype.indexOf.call(E,m,void 0),Y;(Y=0<=P)&&Array.prototype.splice.call(E,P,1),Y&&(jt(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Ce(u,m,p,E){for(var P=0;P<u.length;++P){var Y=u[P];if(!Y.da&&Y.listener==m&&Y.capture==!!p&&Y.ha==E)return P}return-1}var Zt="closure_lm_"+(1e6*Math.random()|0),Ve={};function ke(u,m,p,E,P){if(Array.isArray(m)){for(var Y=0;Y<m.length;Y++)ke(u,m[Y],p,E,P);return null}return p=za(p),u&&u[ve]?u.K(m,p,_(E)?!!E.capture:!1,P):je(u,m,p,!1,E,P)}function je(u,m,p,E,P,Y){if(!m)throw Error("Invalid event type");var ft=_(P)?!!P.capture:!!P,Jt=ri(u);if(Jt||(u[Zt]=Jt=new zt(u)),p=Jt.add(m,p,E,ft,Y),p.proxy)return p;if(E=vn(),p.proxy=E,E.src=u,E.listener=p,u.addEventListener)St||(P=ft),P===void 0&&(P=!1),u.addEventListener(m.toString(),E,P);else if(u.attachEvent)u.attachEvent(zn(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return p}function vn(){function u(p){return m.call(u.src,u.listener,p)}const m=hs;return u}function wn(u,m,p,E,P){if(Array.isArray(m))for(var Y=0;Y<m.length;Y++)wn(u,m[Y],p,E,P);else E=_(E)?!!E.capture:!!E,p=za(p),u&&u[ve]?(u=u.i,m=String(m).toString(),m in u.g&&(Y=u.g[m],p=Ce(Y,p,E,P),-1<p&&(jt(Y[p]),Array.prototype.splice.call(Y,p,1),Y.length==0&&(delete u.g[m],u.h--)))):u&&(u=ri(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ce(m,p,E,P)),(p=-1<u?m[u]:null)&&Nn(p))}function Nn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ve])qt(m.i,u);else{var p=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(p,E,u.capture):m.detachEvent?m.detachEvent(zn(p),E):m.addListener&&m.removeListener&&m.removeListener(E),(p=ri(m))?(qt(p,u),p.h==0&&(p.src=null,m[Zt]=null)):jt(u)}}}function zn(u){return u in Ve?Ve[u]:Ve[u]="on"+u}function hs(u,m){if(u.da)u=!0;else{m=new Ut(m,this);var p=u.listener,E=u.ha||u.src;u.fa&&Nn(u),u=p.call(E,m)}return u}function ri(u){return u=u[Zt],u instanceof zt?u:null}var fs="__closure_events_fn_"+(1e9*Math.random()>>>0);function za(u){return typeof u=="function"?u:(u[fs]||(u[fs]=function(m){return u.handleEvent(m)}),u[fs])}function Re(){dt.call(this),this.i=new zt(this),this.M=this,this.F=null}X(Re,dt),Re.prototype[ve]=!0,Re.prototype.removeEventListener=function(u,m,p,E){wn(this,u,m,p,E)};function ae(u,m){var p,E=u.F;if(E)for(p=[];E;E=E.F)p.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new st(m,u);else if(m instanceof st)m.target=m.target||u;else{var P=m;m=new st(E,u),b(m,P)}if(P=!0,p)for(var Y=p.length-1;0<=Y;Y--){var ft=m.g=p[Y];P=Tn(ft,E,!0,m)&&P}if(ft=m.g=u,P=Tn(ft,E,!0,m)&&P,P=Tn(ft,E,!1,m)&&P,p)for(Y=0;Y<p.length;Y++)ft=m.g=p[Y],P=Tn(ft,E,!1,m)&&P}Re.prototype.N=function(){if(Re.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],E=0;E<p.length;E++)jt(p[E]);delete u.g[m],u.h--}}this.F=null},Re.prototype.K=function(u,m,p,E){return this.i.add(String(u),m,!1,p,E)},Re.prototype.L=function(u,m,p,E){return this.i.add(String(u),m,!0,p,E)};function Tn(u,m,p,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,Y=0;Y<m.length;++Y){var ft=m[Y];if(ft&&!ft.da&&ft.capture==p){var Jt=ft.listener,Je=ft.ha||ft.src;ft.fa&&qt(u.i,ft),P=Jt.call(Je,E)!==!1&&P}}return P&&!E.defaultPrevented}function sn(u,m,p){if(typeof u=="function")p&&(u=V(u,p));else if(u&&typeof u.handleEvent=="function")u=V(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Pa(u){u.g=sn(()=>{u.g=null,u.i&&(u.i=!1,Pa(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ql extends dt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Pa(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function L(u){dt.call(this),this.h=u,this.g={}}X(L,dt);var F=[];function rt(u){Et(u.g,function(m,p){this.g.hasOwnProperty(p)&&Nn(m)},u),u.g={}}L.prototype.N=function(){L.aa.N.call(this),rt(this)},L.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var it=g.JSON.stringify,Rt=g.JSON.parse,ht=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function z(){}z.prototype.h=null;function ut(u){return u.h||(u.h=u.i())}function Pt(){}var we={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ne(){st.call(this,"d")}X(ne,st);function ce(){st.call(this,"c")}X(ce,st);var pt={},Ct=null;function oi(){return Ct=Ct||new Re}pt.La="serverreachability";function Ke(u){st.call(this,pt.La,u)}X(Ke,st);function Te(u){const m=oi();ae(m,new Ke(m))}pt.STAT_EVENT="statevent";function vo(u,m){st.call(this,pt.STAT_EVENT,u),this.stat=m}X(vo,st);function Ie(u){const m=oi();ae(m,new vo(m,u))}pt.Ma="timingevent";function Ze(u,m){st.call(this,pt.Ma,u),this.size=m}X(Ze,st);function qe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function Fn(){this.g=!0}Fn.prototype.xa=function(){this.g=!1};function Yl(u,m,p,E,P,Y){u.info(function(){if(u.g)if(Y)for(var ft="",Jt=Y.split("&"),Je=0;Je<Jt.length;Je++){var $t=Jt[Je].split("=");if(1<$t.length){var ln=$t[0];$t=$t[1];var $e=ln.split("_");ft=2<=$e.length&&$e[1]=="type"?ft+(ln+"="+$t+"&"):ft+(ln+"=redacted&")}}else ft=null;else ft=Y;return"XMLHTTP REQ ("+E+") [attempt "+P+"]: "+m+`
`+p+`
`+ft})}function xc(u,m,p,E,P,Y,ft){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+P+"]: "+m+`
`+p+`
`+Y+" "+ft})}function ds(u,m,p,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ta(u,p)+(E?" "+E:"")})}function To(u,m){u.info(function(){return"TIMEOUT: "+m})}Fn.prototype.info=function(){};function ta(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var E=p[u];if(!(2>E.length)){var P=E[1];if(Array.isArray(P)&&!(1>P.length)){var Y=P[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ft=1;ft<P.length;ft++)P[ft]=""}}}}return it(p)}catch{return m}}var ms={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mi;function gi(){}X(gi,z),gi.prototype.g=function(){return new XMLHttpRequest},gi.prototype.i=function(){return{}},mi=new gi;function In(u,m,p,E){this.j=u,this.i=m,this.l=p,this.R=E||1,this.U=new L(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ue}function Ue(){this.i=null,this.g="",this.h=!1}var Fl={},Ba={};function ui(u,m,p){u.L=1,u.v=aa(Pn(m)),u.m=p,u.P=!0,ki(u,null)}function ki(u,m){u.F=Date.now(),ea(u),u.A=Pn(u.v);var p=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),Wl(p.i,"t",E),u.C=0,p=u.j.J,u.h=new Ue,u.g=Uo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Ql(V(u.Y,u,u.g),u.O)),m=u.U,p=u.g,E=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(F[0]=P.toString()),P=F);for(var Y=0;Y<P.length;Y++){var ft=ke(p,P[Y],E||m.handleEvent,!1,m.h||m);if(!ft)break;m.g[ft.key]=ft}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Te(),Yl(u.i,u.u,u.A,u.l,u.R,u.m)}In.prototype.ca=function(u){u=u.target;const m=this.M;m&&Jn(u)==3?m.j():this.Y(u)},In.prototype.Y=function(u){try{if(u==this.g)t:{const $e=Jn(this.g);var m=this.g.Ba();const Xi=this.g.Z();if(!(3>$e)&&($e!=3||this.g&&(this.h.h||this.g.oa()||Do(this.g)))){this.J||$e!=4||m==7||(m==8||0>=Xi?Te(3):Te(2)),gs(this);var p=this.g.Z();this.X=p;e:if(Eo(this)){var E=Do(this.g);u="";var P=E.length,Y=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hn(this),pi(this);var ft="";break e}this.h.i=new g.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!(Y&&m==P-1)});E.length=0,this.h.g+=u,this.C=0,ft=this.h.g}else ft=this.g.oa();if(this.o=p==200,xc(this.i,this.u,this.A,this.l,this.R,$e,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Jt,Je=this.g;if((Jt=Je.g?Je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lt(Jt)){var $t=Jt;break e}}$t=null}if(p=$t)ds(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,na(this,p);else{this.o=!1,this.s=3,Ie(12),hn(this),pi(this);break t}}if(this.P){p=!0;let fn;for(;!this.J&&this.C<ft.length;)if(fn=Ao(this,ft),fn==Ba){$e==4&&(this.s=4,Ie(14),p=!1),ds(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==Fl){this.s=4,Ie(15),ds(this.i,this.l,ft,"[Invalid Chunk]"),p=!1;break}else ds(this.i,this.l,fn,null),na(this,fn);if(Eo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||ft.length!=0||this.h.h||(this.s=1,Ie(16),p=!1),this.o=this.o&&p,!p)ds(this.i,this.l,ft,"[Invalid Chunked Response]"),hn(this),pi(this);else if(0<ft.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+ft.length),da(ln),ln.M=!0,Ie(11))}}else ds(this.i,this.l,ft,null),na(this,ft);$e==4&&hn(this),this.o&&!this.J&&($e==4?Oo(this.j,this):(this.o=!1,ea(this)))}else zc(this.g),p==400&&0<ft.indexOf("Unknown SID")?(this.s=3,Ie(12)):(this.s=0,Ie(13)),hn(this),pi(this)}}}catch{}finally{}};function Eo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ao(u,m){var p=u.C,E=m.indexOf(`
`,p);return E==-1?Ba:(p=Number(m.substring(p,E)),isNaN(p)?Fl:(E+=1,E+p>m.length?Ba:(m=m.slice(E,E+p),u.C=E+p,m)))}In.prototype.cancel=function(){this.J=!0,hn(this)};function ea(u){u.S=Date.now()+u.I,So(u,u.I)}function So(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=qe(V(u.ba,u),m)}function gs(u){u.B&&(g.clearTimeout(u.B),u.B=null)}In.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(To(this.i,this.A),this.L!=2&&(Te(),Ie(17)),hn(this),this.s=2,pi(this)):So(this,this.S-u)};function pi(u){u.j.G==0||u.J||Oo(u.j,u)}function hn(u){gs(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,rt(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function na(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Xl(p.h,u))){if(!u.K&&Xl(p.h,u)&&p.G==3){try{var E=p.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var P=E;if(P[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Ja(p),Ka(p);else break t;sr(p),Ie(18)}}else p.za=P[1],0<p.za-p.T&&37500>P[2]&&p.F&&p.v==0&&!p.C&&(p.C=qe(V(p.Za,p),6e3));if(1>=ja(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Fi(p,11)}else if((u.K||p.g==u)&&Ja(p),!lt(m))for(P=p.Da.g.parse(m),m=0;m<P.length;m++){let $t=P[m];if(p.T=$t[0],$t=$t[1],p.G==2)if($t[0]=="c"){p.K=$t[1],p.ia=$t[2];const ln=$t[3];ln!=null&&(p.la=ln,p.j.info("VER="+p.la));const $e=$t[4];$e!=null&&(p.Aa=$e,p.j.info("SVER="+p.Aa));const Xi=$t[5];Xi!=null&&typeof Xi=="number"&&0<Xi&&(E=1.5*Xi,p.L=E,p.j.info("backChannelRequestTimeoutMs_="+E)),E=p;const fn=u.g;if(fn){const Si=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Si){var Y=E.h;Y.g||Si.indexOf("spdy")==-1&&Si.indexOf("quic")==-1&&Si.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(qa(Y,Y.h),Y.h=null))}if(E.D){const lr=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;lr&&(E.ya=lr,de(E.I,E.D,lr))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),E=p;var ft=u;if(E.qa=Lo(E,E.J?E.ia:null,E.W),ft.K){Dn(E.h,ft);var Jt=ft,Je=E.L;Je&&(Jt.I=Je),Jt.B&&(gs(Jt),ea(Jt)),E.g=ft}else No(E);0<p.i.length&&Za(p)}else $t[0]!="stop"&&$t[0]!="close"||Fi(p,7);else p.G==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?Fi(p,7):nr(p):$t[0]!="noop"&&p.l&&p.l.ta($t),p.v=0)}}Te(4)}catch{}}var bo=class{constructor(u,m){this.g=u,this.map=m}};function ji(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ka(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ja(u){return u.h?1:u.g?u.g.size:0}function Xl(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function qa(u,m){u.g?u.g.add(m):u.h=m}function Dn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ji.prototype.cancel=function(){if(this.i=Kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Kl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return tt(u.i)}function Oc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var m=[],p=u.length,E=0;E<p;E++)m.push(u[E]);return m}m=[],p=0;for(E in u)m[p++]=u[E];return m}function Ha(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const E in u)m[p++]=E;return m}}}function Zl(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Ha(u),E=Oc(u),P=E.length,Y=0;Y<P;Y++)m.call(void 0,E[Y],p&&p[Y],u)}var ia=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var E=u[p].indexOf("="),P=null;if(0<=E){var Y=u[p].substring(0,E);P=u[p].substring(E+1)}else Y=u[p];m(Y,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function He(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof He){this.h=u.h,sa(this,u.j),this.o=u.o,this.g=u.g,ps(this,u.s),this.l=u.l;var m=u.i,p=new Hi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),qi(this,p),this.m=u.m}else u&&(m=String(u).match(ia))?(this.h=!1,sa(this,m[1]||"",!0),this.o=Xn(m[2]||""),this.g=Xn(m[3]||"",!0),ps(this,m[4]),this.l=Xn(m[5]||"",!0),qi(this,m[6]||"",!0),this.m=Xn(m[7]||"")):(this.h=!1,this.i=new Hi(null,this.h))}He.prototype.toString=function(){var u=[],m=this.j;m&&u.push(la(m,Jl,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(la(m,Jl,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(la(p,p.charAt(0)=="/"?Lc:$l,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",la(p,Ga)),u.join("")};function Pn(u){return new He(u)}function sa(u,m,p){u.j=p?Xn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ps(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function qi(u,m,p){m instanceof Hi?(u.i=m,wo(u.i,u.h)):(p||(m=la(m,Uc)),u.i=new Hi(m,u.h))}function de(u,m,p){u.i.set(m,p)}function aa(u){return de(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Xn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function la(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,Ro),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ro(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Jl=/[#\/\?@]/g,$l=/[#\?:]/g,Lc=/[#\?]/g,Uc=/[#\?@]/g,Ga=/#/g;function Hi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Kn(u){u.g||(u.g=new Map,u.h=0,u.i&&Mc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=Hi.prototype,a.add=function(u,m){Kn(this),this.i=null,u=yi(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Gi(u,m){Kn(u),m=yi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Qi(u,m){return Kn(u),m=yi(u,m),u.g.has(m)}a.forEach=function(u,m){Kn(this),this.g.forEach(function(p,E){p.forEach(function(P){u.call(m,P,E,this)},this)},this)},a.na=function(){Kn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let E=0;E<m.length;E++){const P=u[E];for(let Y=0;Y<P.length;Y++)p.push(m[E])}return p},a.V=function(u){Kn(this);let m=[];if(typeof u=="string")Qi(this,u)&&(m=m.concat(this.g.get(yi(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},a.set=function(u,m){return Kn(this),this.i=null,u=yi(this,u),Qi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Wl(u,m,p){Gi(u,m),0<p.length&&(u.i=null,u.g.set(yi(u,m),tt(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var E=m[p];const Y=encodeURIComponent(String(E)),ft=this.V(E);for(E=0;E<ft.length;E++){var P=Y;ft[E]!==""&&(P+="="+encodeURIComponent(String(ft[E]))),u.push(P)}}return this.i=u.join("&")};function yi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function wo(u,m){m&&!u.j&&(Kn(u),u.i=null,u.g.forEach(function(p,E){var P=E.toLowerCase();E!=P&&(Gi(this,E),Wl(this,P,p))},u)),u.j=m}function ra(u,m){const p=new Fn;if(g.Image){const E=new Image;E.onload=j(Zn,p,"TestLoadImage: loaded",!0,m,E),E.onerror=j(Zn,p,"TestLoadImage: error",!1,m,E),E.onabort=j(Zn,p,"TestLoadImage: abort",!1,m,E),E.ontimeout=j(Zn,p,"TestLoadImage: timeout",!1,m,E),g.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function ci(u,m){const p=new Fn,E=new AbortController,P=setTimeout(()=>{E.abort(),Zn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(Y=>{clearTimeout(P),Y.ok?Zn(p,"TestPingServer: ok",!0,m):Zn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Zn(p,"TestPingServer: error",!1,m)})}function Zn(u,m,p,E,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),E(p)}catch{}}function oa(){this.g=new ht}function _i(u,m,p){const E=p||"";try{Zl(u,function(P,Y){let ft=P;_(P)&&(ft=it(P)),m.push(E+Y+"="+encodeURIComponent(ft))})}catch(P){throw m.push(E+"type="+encodeURIComponent("_badmap")),P}}function ys(u){this.l=u.Ub||null,this.j=u.eb||!1}X(ys,z),ys.prototype.g=function(){return new Yi(this.l,this.j)},ys.prototype.i=function(u){return function(){return u}}({});function Yi(u,m){Re.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(Yi,Re),a=Yi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Ti(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vi(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tr(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function tr(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?vi(this):Ti(this),this.readyState==3&&tr(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,vi(this))},a.Qa=function(u){this.g&&(this.response=u,vi(this))},a.ga=function(){this.g&&vi(this)};function vi(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ti(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Ti(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function er(u){let m="";return Et(u,function(p,E){m+=E,m+=":",m+=p,m+=`\r
`}),m}function an(u,m,p){t:{for(E in p){var E=!1;break t}E=!0}E||(p=er(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):de(u,m,p))}function oe(u){Re.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(oe,Re);var Qa=/^https?$/i,ua=["POST","PUT"];a=oe.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,p,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mi.g(),this.v=this.o?ut(this.o):ut(mi),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Y){Io(this,Y);return}if(u=p||"",p=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var P in E)p.set(P,E[P]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const Y of E.keys())p.set(Y,E.get(Y));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(p.keys()).find(Y=>Y.toLowerCase()=="content-type"),P=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ua,m,void 0))||E||P||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ft]of p)this.g.setRequestHeader(Y,ft);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ca(this),this.u=!0,this.g.send(u),this.u=!1}catch(Y){Io(this,Y)}};function Io(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ya(u),Ei(u)}function Ya(u){u.A||(u.A=!0,ae(u,"complete"),ae(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ae(this,"complete"),ae(this,"abort"),Ei(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ei(this,!0)),oe.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Fa(this):this.bb())},a.bb=function(){Fa(this)};function Fa(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Jn(u)!=4||u.Z()!=2)){if(u.u&&Jn(u)==4)sn(u.Ea,0,u);else if(ae(u,"readystatechange"),Jn(u)==4){u.h=!1;try{const ft=u.Z();t:switch(ft){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var E;if(E=ft===0){var P=String(u.D).match(ia)[1]||null;!P&&g.self&&g.self.location&&(P=g.self.location.protocol.slice(0,-1)),E=!Qa.test(P?P.toLowerCase():"")}p=E}if(p)ae(u,"complete"),ae(u,"success");else{u.m=6;try{var Y=2<Jn(u)?u.g.statusText:""}catch{Y=""}u.l=Y+" ["+u.Z()+"]",Ya(u)}}finally{Ei(u)}}}}function Ei(u,m){if(u.g){ca(u);const p=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||ae(u,"ready");try{p.onreadystatechange=E}catch{}}}function ca(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function Jn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Rt(m)}};function Do(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function zc(u){const m={};u=(u.g&&2<=Jn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(lt(u[E]))continue;var p=x(u[E]);const P=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const Y=m[P]||[];m[P]=Y,Y.push(p)}N(m,function(E){return E.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ha(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Xa(u){this.Aa=0,this.i=[],this.j=new Fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ha("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ha("baseRetryDelayMs",5e3,u),this.cb=ha("retryDelaySeedMs",1e4,u),this.Wa=ha("forwardChannelMaxRetries",2,u),this.wa=ha("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ji(u&&u.concurrentRequestLimit),this.Da=new oa,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Xa.prototype,a.la=8,a.G=1,a.connect=function(u,m,p,E){Ie(0),this.W=u,this.H=m||{},p&&E!==void 0&&(this.H.OSID=p,this.H.OAID=E),this.F=this.X,this.I=Lo(this,null,this.W),Za(this)};function nr(u){if(Co(u),u.G==3){var m=u.U++,p=Pn(u.I);if(de(p,"SID",u.K),de(p,"RID",m),de(p,"TYPE","terminate"),fa(u,p),m=new In(u,u.j,m),m.L=2,m.v=aa(Pn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Uo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ea(m)}Mo(u)}function Ka(u){u.g&&(da(u),u.g.cancel(),u.g=null)}function Co(u){Ka(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ja(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Za(u){if(!ka(u.h)&&!u.s){u.s=!0;var m=u.Ga;ot||C(),_t||(ot(),_t=!0),It.add(m,u),u.B=0}}function Pc(u,m){return ja(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=qe(V(u.Ga,u,m),ar(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new In(this,this.j,u);let Y=this.o;if(this.S&&(Y?(Y=A(Y),b(Y,this.S)):Y=this.S),this.m!==null||this.O||(P.H=Y,Y=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var E=this.i[p];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break e}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Vo(this,P,m),p=Pn(this.I),de(p,"RID",u),de(p,"CVER",22),this.D&&de(p,"X-HTTP-Session-Id",this.D),fa(this,p),Y&&(this.O?m="headers="+encodeURIComponent(String(er(Y)))+"&"+m:this.m&&an(p,this.m,Y)),qa(this.h,P),this.Ua&&de(p,"TYPE","init"),this.P?(de(p,"$req",m),de(p,"SID","null"),P.T=!0,ui(P,p,null)):ui(P,p,m),this.G=2}}else this.G==3&&(u?ir(this,u):this.i.length==0||ka(this.h)||ir(this))};function ir(u,m){var p;m?p=m.l:p=u.U++;const E=Pn(u.I);de(E,"SID",u.K),de(E,"RID",p),de(E,"AID",u.T),fa(u,E),u.m&&u.o&&an(E,u.m,u.o),p=new In(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Vo(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),qa(u.h,p),ui(p,E,m)}function fa(u,m){u.H&&Et(u.H,function(p,E){de(m,E,p)}),u.l&&Zl({},function(p,E){de(m,E,p)})}function Vo(u,m,p){p=Math.min(u.i.length,p);var E=u.l?V(u.l.Na,u.l,u):null;t:{var P=u.i;let Y=-1;for(;;){const ft=["count="+p];Y==-1?0<p?(Y=P[0].g,ft.push("ofs="+Y)):Y=0:ft.push("ofs="+Y);let Jt=!0;for(let Je=0;Je<p;Je++){let $t=P[Je].g;const ln=P[Je].map;if($t-=Y,0>$t)Y=Math.max(0,P[Je].g-100),Jt=!1;else try{_i(ln,ft,"req"+$t+"_")}catch{E&&E(ln)}}if(Jt){E=ft.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,E}function No(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ot||C(),_t||(ot(),_t=!0),It.add(m,u),u.v=0}}function sr(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=qe(V(u.Fa,u),ar(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,xo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=qe(V(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ie(10),Ka(this),xo(this))};function da(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function xo(u){u.g=new In(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Pn(u.qa);de(m,"RID","rpc"),de(m,"SID",u.K),de(m,"AID",u.T),de(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&de(m,"TO",u.ja),de(m,"TYPE","xmlhttp"),fa(u,m),u.m&&u.o&&an(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=aa(Pn(m)),p.m=null,p.P=!0,ki(p,u)}a.Za=function(){this.C!=null&&(this.C=null,Ka(this),sr(this),Ie(19))};function Ja(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Oo(u,m){var p=null;if(u.g==m){Ja(u),da(u),u.g=null;var E=2}else if(Xl(u.h,m))p=m.D,Dn(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var P=u.B;E=oi(),ae(E,new Ze(E,p)),Za(u)}else No(u);else if(P=m.s,P==3||P==0&&0<m.X||!(E==1&&Pc(u,m)||E==2&&sr(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),P){case 1:Fi(u,5);break;case 4:Fi(u,10);break;case 3:Fi(u,6);break;default:Fi(u,2)}}}function ar(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function Fi(u,m){if(u.j.info("Error code "+m),m==2){var p=V(u.fb,u),E=u.Xa;const P=!E;E=new He(E||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||sa(E,"https"),aa(E),P?ra(E.toString(),p):ci(E.toString(),p)}else Ie(2);u.G=0,u.l&&u.l.sa(m),Mo(u),Co(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ie(2)):(this.j.info("Failed to ping google.com"),Ie(1))};function Mo(u){if(u.G=0,u.ka=[],u.l){const m=Kl(u.h);(m.length!=0||u.i.length!=0)&&(H(u.ka,m),H(u.ka,u.i),u.h.i.length=0,tt(u.i),u.i.length=0),u.l.ra()}}function Lo(u,m,p){var E=p instanceof He?Pn(p):new He(p);if(E.g!="")m&&(E.g=m+"."+E.g),ps(E,E.s);else{var P=g.location;E=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var Y=new He(null);E&&sa(Y,E),m&&(Y.g=m),P&&ps(Y,P),p&&(Y.l=p),E=Y}return p=u.D,m=u.ya,p&&m&&de(E,p,m),de(E,"VER",u.la),fa(u,E),E}function Uo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new oe(new ys({eb:p})):new oe(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function zo(){}a=zo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function $a(){}$a.prototype.g=function(u,m){return new Cn(u,m)};function Cn(u,m){Re.call(this),this.g=new Xa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!lt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!lt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ai(this)}X(Cn,Re),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){nr(this.g)},Cn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=it(u),u=p);m.i.push(new bo(m.Ya++,u)),m.G==3&&Za(m)},Cn.prototype.N=function(){this.g.l=null,delete this.j,nr(this.g),delete this.g,Cn.aa.N.call(this)};function Po(u){ne.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}X(Po,ne);function Bo(){ce.call(this),this.status=1}X(Bo,ce);function Ai(u){this.g=u}X(Ai,zo),Ai.prototype.ua=function(){ae(this.g,"a")},Ai.prototype.ta=function(u){ae(this.g,new Po(u))},Ai.prototype.sa=function(u){ae(this.g,new Bo)},Ai.prototype.ra=function(){ae(this.g,"b")},$a.prototype.createWebChannel=$a.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,j_=function(){return new $a},k_=function(){return oi()},B_=pt,Zf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ms.NO_ERROR=0,ms.TIMEOUT=8,ms.HTTP_ERROR=6,Qu=ms,Bi.COMPLETE="complete",P_=Bi,Pt.EventType=we,we.OPEN="a",we.CLOSE="b",we.ERROR="c",we.MESSAGE="d",Re.prototype.listen=Re.prototype.K,Xr=Pt,oe.prototype.listenOnce=oe.prototype.L,oe.prototype.getLastError=oe.prototype.Ka,oe.prototype.getLastErrorCode=oe.prototype.Ba,oe.prototype.getStatus=oe.prototype.Z,oe.prototype.getResponseJson=oe.prototype.Oa,oe.prototype.getResponseText=oe.prototype.oa,oe.prototype.send=oe.prototype.ea,oe.prototype.setWithCredentials=oe.prototype.Ha,z_=oe}).apply(typeof ku<"u"?ku:typeof self<"u"?self:typeof window<"u"?window:{});const Vy="@firebase/firestore",Ny="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new V_("@firebase/firestore");function Il(){return xa.logLevel}function gt(a,...e){if(xa.logLevel<=ee.DEBUG){const i=e.map(_d);xa.debug(`Firestore (${jl}): ${a}`,...i)}}function us(a,...e){if(xa.logLevel<=ee.ERROR){const i=e.map(_d);xa.error(`Firestore (${jl}): ${a}`,...i)}}function Ol(a,...e){if(xa.logLevel<=ee.WARN){const i=e.map(_d);xa.warn(`Firestore (${jl}): ${a}`,...i)}}function _d(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(a,e,i){let l="Unexpected state";typeof e=="string"?l=e:i=e,q_(a,l,i)}function q_(a,e,i){let l=`FIRESTORE (${jl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{l+=" CONTEXT: "+JSON.stringify(i)}catch{l+=" CONTEXT: "+i}throw us(l),new Error(l)}function ue(a,e,i,l){let o="Unexpected state";typeof i=="string"?o=i:l=i,a||q_(e,o,l)}function kt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class At extends kl{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(bn.UNAUTHENTICATED))}shutdown(){}}class PA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class BA{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ue(this.o===void 0,42304);let l=this.i;const o=v=>this.i!==l?(l=this.i,i(v)):Promise.resolve();let h=new Hs;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Hs,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await o(this.currentUser)})},g=v=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Hs)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(l=>this.i!==e?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(ue(typeof l.accessToken=="string",31837,{l}),new H_(l.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ue(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class kA{constructor(e,i,l){this.P=e,this.T=i,this.I=l,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jA{constructor(e,i,l){this.P=e,this.T=i,this.I=l}getToken(){return Promise.resolve(new kA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,AA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){ue(this.o===void 0,3512);const l=h=>{h.error!=null&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,gt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>l(h))};const o=h=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new xy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(ue(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new xy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let l=0;l<a;l++)i[l]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let l="";for(;l.length<20;){const o=HA(40);for(let h=0;h<o.length;++h)l.length<20&&o[h]<i&&(l+=e.charAt(o[h]%62))}return l}}function Xt(a,e){return a<e?-1:a>e?1:0}function Jf(a,e){const i=Math.min(a.length,e.length);for(let l=0;l<i;l++){const o=a.charAt(l),h=e.charAt(l);if(o!==h)return kf(o)===kf(h)?Xt(o,h):kf(o)?1:-1}return Xt(a.length,e.length)}const GA=55296,QA=57343;function kf(a){const e=a.charCodeAt(0);return e>=GA&&e<=QA}function Ml(a,e,i){return a.length===e.length&&a.every((l,o)=>i(l,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="__name__";class Ci{constructor(e,i,l){i===void 0?i=0:i>e.length&&Ot(637,{offset:i,range:e.length}),l===void 0?l=e.length-i:l>e.length-i&&Ot(1746,{length:l,range:e.length-i}),this.segments=e,this.offset=i,this.len=l}get length(){return this.len}isEqual(e){return Ci.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ci?e.forEach(l=>{i.push(l)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,l=this.limit();i<l;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const l=Math.min(e.length,i.length);for(let o=0;o<l;o++){const h=Ci.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Xt(e.length,i.length)}static compareSegments(e,i){const l=Ci.isNumericId(e),o=Ci.isNumericId(i);return l&&!o?-1:!l&&o?1:l&&o?Ci.extractNumericId(e).compare(Ci.extractNumericId(i)):Jf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qs.fromString(e.substring(4,e.length-2))}}class Ae extends Ci{construct(e,i,l){return new Ae(e,i,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const l of e){if(l.indexOf("//")>=0)throw new At(nt.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);i.push(...l.split("/").filter(o=>o.length>0))}return new Ae(i)}static emptyPath(){return new Ae([])}}const YA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends Ci{construct(e,i,l){return new yn(e,i,l)}static isValidIdentifier(e){return YA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Oy}static keyField(){return new yn([Oy])}static fromServerFormat(e){const i=[];let l="",o=0;const h=()=>{if(l.length===0)throw new At(nt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(l),l=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new At(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new At(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);l+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(l+=g,o++):(h(),o++)}if(h(),d)throw new At(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(i)}static emptyPath(){return new yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.path=e}static fromPath(e){return new Dt(Ae.fromString(e))}static fromName(e){return new Dt(Ae.fromString(e).popFirst(5))}static empty(){return new Dt(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Ae.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Dt(new Ae(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(a,e,i){if(!i)throw new At(nt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function FA(a,e,i,l){if(e===!0&&l===!0)throw new At(nt.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function My(a){if(!Dt.isDocumentKey(a))throw new At(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Ly(a){if(Dt.isDocumentKey(a))throw new At(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Q_(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Td(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(l){return l.constructor?l.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Ot(12329,{type:typeof a})}function Oa(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new At(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Td(a);throw new At(nt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(a,e){const i={typeString:a};return e&&(i.value=e),i}function mo(a,e){if(!Q_(a))throw new At(nt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const l in e)if(e[l]){const o=e[l].typeString,h="value"in e[l]?{value:e[l].value}:void 0;if(!(l in a)){i=`JSON missing required field: '${l}'`;break}const d=a[l];if(o&&typeof d!==o){i=`JSON field '${l}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${l}' field to equal '${h.value}'`;break}}if(i)throw new At(nt.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=-62135596800,zy=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),l=Math.floor((e-1e3*i)*zy);return new Se(i,l)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new At(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new At(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Uy)throw new At(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new At(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zy}_compareTo(e){return this.seconds===e.seconds?Xt(this.nanoseconds,e.nanoseconds):Xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mo(e,Se._jsonSchema))return new Se(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Uy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Se._jsonSchemaVersion="firestore/timestamp/1.0",Se._jsonSchema={type:Fe("string",Se._jsonSchemaVersion),seconds:Fe("number"),nanoseconds:Fe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{static fromTimestamp(e){return new Bt(e)}static min(){return new Bt(new Se(0,0))}static max(){return new Bt(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=-1;function XA(a,e){const i=a.toTimestamp().seconds,l=a.toTimestamp().nanoseconds+1,o=Bt.fromTimestamp(l===1e9?new Se(i+1,0):new Se(i,l));return new Ys(o,Dt.empty(),e)}function KA(a){return new Ys(a.readTime,a.key,ro)}class Ys{constructor(e,i,l){this.readTime=e,this.documentKey=i,this.largestBatchId=l}static min(){return new Ys(Bt.min(),Dt.empty(),ro)}static max(){return new Ys(Bt.max(),Dt.empty(),ro)}}function ZA(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=Dt.comparator(a.documentKey,e.documentKey),i!==0?i:Xt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $A{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(a){if(a.code!==nt.FAILED_PRECONDITION||a.message!==JA)throw a;gt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ot(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new W((l,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(l,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(l,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):W.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):W.reject(i)}static resolve(e){return new W((i,l)=>{i(e)})}static reject(e){return new W((i,l)=>{l(e)})}static waitFor(e){return new W((i,l)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},v=>l(v))}),d=!0,h===o&&i()})}static or(e){let i=W.resolve(!1);for(const l of e)i=i.next(o=>o?W.resolve(o):l());return i}static forEach(e,i){const l=[];return e.forEach((o,h)=>{l.push(i.call(this,o,h))}),this.waitFor(l)}static mapArray(e,i){return new W((l,o)=>{const h=e.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(S=>{d[_]=S,++g,g===h&&l(d)},S=>o(S))}})}static doWhile(e,i){return new W((l,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):l()};h()})}}function WA(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Hl(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=l=>this.ae(l),this.ue=l=>i.writeSequenceNumber(l))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=-1;function pc(a){return a==null}function ic(a){return a===0&&1/a==-1/0}function t1(a){return typeof a=="number"&&Number.isInteger(a)&&!ic(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="";function e1(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Py(e)),e=n1(a.get(i),e);return Py(e)}function n1(a,e){let i=e;const l=a.length;for(let o=0;o<l;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case Y_:i+="";break;default:i+=h}}return i}function Py(a){return a+Y_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function $s(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function F_(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e,i){this.comparator=e,this.root=i||pn.EMPTY}insert(e,i){return new xe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const l=this.comparator(e,i.key);if(l===0)return i.value;l<0?i=i.left:l>0&&(i=i.right)}return null}indexOf(e){let i=0,l=this.root;for(;!l.isEmpty();){const o=this.comparator(e,l.key);if(o===0)return i+l.left.size;o<0?l=l.left:(i+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,l)=>(e(i,l),!1))}toString(){const e=[];return this.inorderTraversal((i,l)=>(e.push(`${i}:${l}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ju(this.root,e,this.comparator,!0)}}class ju{constructor(e,i,l,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?l(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,i,l,o,h){this.key=e,this.value=i,this.color=l??pn.RED,this.left=o??pn.EMPTY,this.right=h??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,l,o,h){return new pn(e??this.key,i??this.value,l??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,l){let o=this;const h=l(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,l),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,l)),o.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let l,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return pn.EMPTY;l=o.right.min(),o=o.copy(l.key,l.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ot(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ot(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ot(27949);return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ot(57766)}get value(){throw Ot(16141)}get color(){throw Ot(16727)}get left(){throw Ot(29726)}get right(){throw Ot(36894)}copy(e,i,l,o,h){return this}insert(e,i,l){return new pn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,l)=>(e(i),!1))}forEachInRange(e,i){const l=this.data.getIteratorFrom(e[0]);for(;l.hasNext();){const o=l.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let l;for(l=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();l.hasNext();)if(!e(l.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new ky(this.data.getIterator())}getIteratorFrom(e){return new ky(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(l=>{i=i.add(l)}),i}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const i=this.data.getIterator(),l=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=l.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new nn(this.comparator);return i.data=e,i}}class ky{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new Yn([])}unionWith(e){let i=new nn(yn.comparator);for(const l of this.fields)i=i.add(l);for(const l of e)i=i.add(l);return new Yn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ml(this.fields,e.fields,(i,l)=>i.isEqual(l))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new X_("Invalid base64 string: "+h):h}}(e);return new _n(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new _n(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const l=new Uint8Array(i.length);for(let o=0;o<i.length;o++)l[o]=i.charCodeAt(o);return l}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const i1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(a){if(ue(!!a,39018),typeof a=="string"){let e=0;const i=i1.exec(a);if(ue(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const l=new Date(a);return{seconds:Math.floor(l.getTime()/1e3),nanos:e}}return{seconds:Be(a.seconds),nanos:Be(a.nanos)}}function Be(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Xs(a){return typeof a=="string"?_n.fromBase64String(a):_n.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="server_timestamp",Z_="__type__",J_="__previous_value__",$_="__local_write_time__";function Ad(a){return(a?.mapValue?.fields||{})[Z_]?.stringValue===K_}function yc(a){const e=a.mapValue.fields[J_];return Ad(e)?yc(e):e}function oo(a){const e=Fs(a.mapValue.fields[$_].timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,i,l,o,h,d,g,v,_,S){this.databaseId=e,this.appId=i,this.persistenceKey=l,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=S}}const sc="(default)";class uo{constructor(e,i){this.projectId=e,this.database=i||sc}static empty(){return new uo("","")}get isDefaultDatabase(){return this.database===sc}isEqual(e){return e instanceof uo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="__type__",a1="__max__",qu={mapValue:{}},tv="__vector__",ac="value";function Ks(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Ad(a)?4:r1(a)?9007199254740991:l1(a)?10:11:Ot(28295,{value:a})}function zi(a,e){if(a===e)return!0;const i=Ks(a);if(i!==Ks(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return oo(a).isEqual(oo(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Fs(o.timestampValue),g=Fs(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,h){return Xs(o.bytesValue).isEqual(Xs(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,h){return Be(o.geoPointValue.latitude)===Be(h.geoPointValue.latitude)&&Be(o.geoPointValue.longitude)===Be(h.geoPointValue.longitude)}(a,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return Be(o.integerValue)===Be(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=Be(o.doubleValue),g=Be(h.doubleValue);return d===g?ic(d)===ic(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return Ml(a.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(By(d)!==By(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!zi(d[v],g[v])))return!1;return!0}(a,e);default:return Ot(52216,{left:a})}}function co(a,e){return(a.values||[]).find(i=>zi(i,e))!==void 0}function Ll(a,e){if(a===e)return 0;const i=Ks(a),l=Ks(e);if(i!==l)return Xt(i,l);switch(i){case 0:case 9007199254740991:return 0;case 1:return Xt(a.booleanValue,e.booleanValue);case 2:return function(h,d){const g=Be(h.integerValue||h.doubleValue),v=Be(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(a,e);case 3:return jy(a.timestampValue,e.timestampValue);case 4:return jy(oo(a),oo(e));case 5:return Jf(a.stringValue,e.stringValue);case 6:return function(h,d){const g=Xs(h),v=Xs(d);return g.compareTo(v)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const S=Xt(g[_],v[_]);if(S!==0)return S}return Xt(g.length,v.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Xt(Be(h.latitude),Be(d.latitude));return g!==0?g:Xt(Be(h.longitude),Be(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return qy(a.arrayValue,e.arrayValue);case 10:return function(h,d){const g=h.fields||{},v=d.fields||{},_=g[ac]?.arrayValue,S=v[ac]?.arrayValue,D=Xt(_?.values?.length||0,S?.values?.length||0);return D!==0?D:qy(_,S)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===qu.mapValue&&d===qu.mapValue)return 0;if(h===qu.mapValue)return 1;if(d===qu.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},S=Object.keys(_);v.sort(),S.sort();for(let D=0;D<v.length&&D<S.length;++D){const V=Jf(v[D],S[D]);if(V!==0)return V;const j=Ll(g[v[D]],_[S[D]]);if(j!==0)return j}return Xt(v.length,S.length)}(a.mapValue,e.mapValue);default:throw Ot(23264,{he:i})}}function jy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Xt(a,e);const i=Fs(a),l=Fs(e),o=Xt(i.seconds,l.seconds);return o!==0?o:Xt(i.nanos,l.nanos)}function qy(a,e){const i=a.values||[],l=e.values||[];for(let o=0;o<i.length&&o<l.length;++o){const h=Ll(i[o],l[o]);if(h)return h}return Xt(i.length,l.length)}function Ul(a){return $f(a)}function $f(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const l=Fs(i);return`time(${l.seconds},${l.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Xs(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return Dt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let l="[",o=!0;for(const h of i.values||[])o?o=!1:l+=",",l+=$f(h);return l+"]"}(a.arrayValue):"mapValue"in a?function(i){const l=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of l)h?h=!1:o+=",",o+=`${d}:${$f(i.fields[d])}`;return o+"}"}(a.mapValue):Ot(61005,{value:a})}function Yu(a){switch(Ks(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yc(a);return e?16+Yu(e):16;case 5:return 2*a.stringValue.length;case 6:return Xs(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(l){return(l.values||[]).reduce((o,h)=>o+Yu(h),0)}(a.arrayValue);case 10:case 11:return function(l){let o=0;return $s(l.fields,(h,d)=>{o+=h.length+Yu(d)}),o}(a.mapValue);default:throw Ot(13486,{value:a})}}function Wf(a){return!!a&&"integerValue"in a}function Sd(a){return!!a&&"arrayValue"in a}function Hy(a){return!!a&&"nullValue"in a}function Gy(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Fu(a){return!!a&&"mapValue"in a}function l1(a){return(a?.mapValue?.fields||{})[W_]?.stringValue===tv}function Wr(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return $s(a.mapValue.fields,(i,l)=>e.mapValue.fields[i]=Wr(l)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Wr(a.arrayValue.values[i]);return e}return{...a}}function r1(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===a1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let l=0;l<e.length-1;++l)if(i=(i.mapValue.fields||{})[e.get(l)],!Fu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wr(i)}setAll(e){let i=yn.emptyPath(),l={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,l,o),l={},o=[],i=g.popLast()}d?l[g.lastSegment()]=Wr(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,l,o)}delete(e){const i=this.field(e.popLast());Fu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let l=0;l<e.length;++l){let o=i.mapValue.fields[e.get(l)];Fu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(l)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,l){$s(i,(o,h)=>e[o]=h);for(const o of l)delete e[o]}clone(){return new Un(Wr(this.value))}}function ev(a){const e=[];return $s(a.fields,(i,l)=>{const o=new yn([i]);if(Fu(l)){const h=ev(l.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,i,l,o,h,d,g){this.key=e,this.documentType=i,this.version=l,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Rn(e,0,Bt.min(),Bt.min(),Bt.min(),Un.empty(),0)}static newFoundDocument(e,i,l,o){return new Rn(e,1,i,Bt.min(),l,o,0)}static newNoDocument(e,i){return new Rn(e,2,i,Bt.min(),Bt.min(),Un.empty(),0)}static newUnknownDocument(e,i){return new Rn(e,3,i,Bt.min(),Bt.min(),Un.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,i){this.position=e,this.inclusive=i}}function Qy(a,e,i){let l=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?l=Dt.comparator(Dt.fromName(d.referenceValue),i.key):l=Ll(d,i.data.field(h.field)),h.dir==="desc"&&(l*=-1),l!==0)break}return l}function Yy(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!zi(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,i="asc"){this.field=e,this.dir=i}}function o1(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{}class en extends nv{constructor(e,i,l){super(),this.field=e,this.op=i,this.value=l}static create(e,i,l){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,l):new c1(e,i,l):i==="array-contains"?new d1(e,l):i==="in"?new m1(e,l):i==="not-in"?new g1(e,l):i==="array-contains-any"?new p1(e,l):new en(e,i,l)}static createKeyFieldInFilter(e,i,l){return i==="in"?new h1(e,l):new f1(e,l)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ll(i,this.value)):i!==null&&Ks(this.value)===Ks(i)&&this.matchesComparison(Ll(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ot(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pi extends nv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Pi(e,i)}matches(e){return iv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iv(a){return a.op==="and"}function sv(a){return u1(a)&&iv(a)}function u1(a){for(const e of a.filters)if(e instanceof Pi)return!1;return!0}function td(a){if(a instanceof en)return a.field.canonicalString()+a.op.toString()+Ul(a.value);if(sv(a))return a.filters.map(e=>td(e)).join(",");{const e=a.filters.map(i=>td(i)).join(",");return`${a.op}(${e})`}}function av(a,e){return a instanceof en?function(l,o){return o instanceof en&&l.op===o.op&&l.field.isEqual(o.field)&&zi(l.value,o.value)}(a,e):a instanceof Pi?function(l,o){return o instanceof Pi&&l.op===o.op&&l.filters.length===o.filters.length?l.filters.reduce((h,d,g)=>h&&av(d,o.filters[g]),!0):!1}(a,e):void Ot(19439)}function lv(a){return a instanceof en?function(i){return`${i.field.canonicalString()} ${i.op} ${Ul(i.value)}`}(a):a instanceof Pi?function(i){return i.op.toString()+" {"+i.getFilters().map(lv).join(" ,")+"}"}(a):"Filter"}class c1 extends en{constructor(e,i,l){super(e,i,l),this.key=Dt.fromName(l.referenceValue)}matches(e){const i=Dt.comparator(e.key,this.key);return this.matchesComparison(i)}}class h1 extends en{constructor(e,i){super(e,"in",i),this.keys=rv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class f1 extends en{constructor(e,i){super(e,"not-in",i),this.keys=rv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function rv(a,e){return(e.arrayValue?.values||[]).map(i=>Dt.fromName(i.referenceValue))}class d1 extends en{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Sd(i)&&co(i.arrayValue,this.value)}}class m1 extends en{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&co(this.value.arrayValue,i)}}class g1 extends en{constructor(e,i){super(e,"not-in",i)}matches(e){if(co(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!co(this.value.arrayValue,i)}}class p1 extends en{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Sd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(l=>co(this.value.arrayValue,l))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,i=null,l=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=l,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function Fy(a,e=null,i=[],l=[],o=null,h=null,d=null){return new y1(a,e,i,l,o,h,d)}function bd(a){const e=kt(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(l=>td(l)).join(","),i+="|ob:",i+=e.orderBy.map(l=>function(h){return h.field.canonicalString()+h.dir}(l)).join(","),pc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(l=>Ul(l)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(l=>Ul(l)).join(",")),e.Te=i}return e.Te}function Rd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!o1(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!av(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Yy(a.startAt,e.startAt)&&Yy(a.endAt,e.endAt)}function ed(a){return Dt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,i=null,l=[],o=[],h=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=l,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _1(a,e,i,l,o,h,d,g){return new _c(a,e,i,l,o,h,d,g)}function wd(a){return new _c(a)}function Xy(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function v1(a){return a.collectionGroup!==null}function to(a){const e=kt(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new nn(yn.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new rc(h,l))}),i.has(yn.keyField().canonicalString())||e.Ie.push(new rc(yn.keyField(),l))}return e.Ie}function xi(a){const e=kt(a);return e.Ee||(e.Ee=T1(e,to(a))),e.Ee}function T1(a,e){if(a.limitType==="F")return Fy(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new rc(o.field,h)});const i=a.endAt?new lc(a.endAt.position,a.endAt.inclusive):null,l=a.startAt?new lc(a.startAt.position,a.startAt.inclusive):null;return Fy(a.path,a.collectionGroup,e,a.filters,a.limit,i,l)}}function nd(a,e,i){return new _c(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function vc(a,e){return Rd(xi(a),xi(e))&&a.limitType===e.limitType}function ov(a){return`${bd(xi(a))}|lt:${a.limitType}`}function Dl(a){return`Query(target=${function(i){let l=i.path.canonicalString();return i.collectionGroup!==null&&(l+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(l+=`, filters: [${i.filters.map(o=>lv(o)).join(", ")}]`),pc(i.limit)||(l+=", limit: "+i.limit),i.orderBy.length>0&&(l+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(l+=", startAt: ",l+=i.startAt.inclusive?"b:":"a:",l+=i.startAt.position.map(o=>Ul(o)).join(",")),i.endAt&&(l+=", endAt: ",l+=i.endAt.inclusive?"a:":"b:",l+=i.endAt.position.map(o=>Ul(o)).join(",")),`Target(${l})`}(xi(a))}; limitType=${a.limitType})`}function Tc(a,e){return e.isFoundDocument()&&function(l,o){const h=o.key.path;return l.collectionGroup!==null?o.key.hasCollectionId(l.collectionGroup)&&l.path.isPrefixOf(h):Dt.isDocumentKey(l.path)?l.path.isEqual(h):l.path.isImmediateParentOf(h)}(a,e)&&function(l,o){for(const h of to(l))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(a,e)&&function(l,o){for(const h of l.filters)if(!h.matches(o))return!1;return!0}(a,e)&&function(l,o){return!(l.startAt&&!function(d,g,v){const _=Qy(d,g,v);return d.inclusive?_<=0:_<0}(l.startAt,to(l),o)||l.endAt&&!function(d,g,v){const _=Qy(d,g,v);return d.inclusive?_>=0:_>0}(l.endAt,to(l),o))}(a,e)}function E1(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function uv(a){return(e,i)=>{let l=!1;for(const o of to(a)){const h=A1(o,e,i);if(h!==0)return h;l=l||o.field.isKeyField()}return 0}}function A1(a,e,i){const l=a.field.isKeyField()?Dt.comparator(e.key,i.key):function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?Ll(v,_):Ot(42886)}(a.field,e,i);switch(a.dir){case"asc":return l;case"desc":return-1*l;default:return Ot(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),l=this.inner[i];if(l!==void 0){for(const[o,h]of l)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const l=this.mapKeyFn(e),o=this.inner[l];if(o===void 0)return this.inner[l]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),l=this.inner[i];if(l===void 0)return!1;for(let o=0;o<l.length;o++)if(this.equalsFn(l[o][0],e))return l.length===1?delete this.inner[i]:l.splice(o,1),this.innerSize--,!0;return!1}forEach(e){$s(this.inner,(i,l)=>{for(const[o,h]of l)e(o,h)})}isEmpty(){return F_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=new xe(Dt.comparator);function cs(){return S1}const cv=new xe(Dt.comparator);function Kr(...a){let e=cv;for(const i of a)e=e.insert(i.key,i);return e}function hv(a){let e=cv;return a.forEach((i,l)=>e=e.insert(i,l.overlayedDocument)),e}function Va(){return eo()}function fv(){return eo()}function eo(){return new La(a=>a.toString(),(a,e)=>a.isEqual(e))}const b1=new xe(Dt.comparator),R1=new nn(Dt.comparator);function Kt(...a){let e=R1;for(const i of a)e=e.add(i);return e}const w1=new nn(Xt);function I1(){return w1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(e)?"-0":e}}function dv(a){return{integerValue:""+a}}function D1(a,e){return t1(e)?dv(e):Id(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(){this._=void 0}}function C1(a,e,i){return a instanceof oc?function(o,h){const d={fields:{[Z_]:{stringValue:K_},[$_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Ad(h)&&(h=yc(h)),h&&(d.fields[J_]=h),{mapValue:d}}(i,e):a instanceof ho?gv(a,e):a instanceof fo?pv(a,e):function(o,h){const d=mv(o,h),g=Ky(d)+Ky(o.Ae);return Wf(d)&&Wf(o.Ae)?dv(g):Id(o.serializer,g)}(a,e)}function V1(a,e,i){return a instanceof ho?gv(a,e):a instanceof fo?pv(a,e):i}function mv(a,e){return a instanceof uc?function(l){return Wf(l)||function(h){return!!h&&"doubleValue"in h}(l)}(e)?e:{integerValue:0}:null}class oc extends Ec{}class ho extends Ec{constructor(e){super(),this.elements=e}}function gv(a,e){const i=yv(e);for(const l of a.elements)i.some(o=>zi(o,l))||i.push(l);return{arrayValue:{values:i}}}class fo extends Ec{constructor(e){super(),this.elements=e}}function pv(a,e){let i=yv(e);for(const l of a.elements)i=i.filter(o=>!zi(o,l));return{arrayValue:{values:i}}}class uc extends Ec{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Ky(a){return Be(a.integerValue||a.doubleValue)}function yv(a){return Sd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function N1(a,e){return a.field.isEqual(e.field)&&function(l,o){return l instanceof ho&&o instanceof ho||l instanceof fo&&o instanceof fo?Ml(l.elements,o.elements,zi):l instanceof uc&&o instanceof uc?zi(l.Ae,o.Ae):l instanceof oc&&o instanceof oc}(a.transform,e.transform)}class x1{constructor(e,i){this.version=e,this.transformResults=i}}class Oi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Oi}static exists(e){return new Oi(void 0,e)}static updateTime(e){return new Oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xu(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Ac{}function _v(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Tv(a.key,Oi.none()):new go(a.key,a.data,Oi.none());{const i=a.data,l=Un.empty();let o=new nn(yn.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?l.delete(h):l.set(h,d),o=o.add(h)}return new Ws(a.key,l,new Yn(o.toArray()),Oi.none())}}function O1(a,e,i){a instanceof go?function(o,h,d){const g=o.value.clone(),v=Jy(o.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof Ws?function(o,h,d){if(!Xu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Jy(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(vv(o)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(a,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function no(a,e,i,l){return a instanceof go?function(h,d,g,v){if(!Xu(h.precondition,d))return g;const _=h.value.clone(),S=$y(h.fieldTransforms,v,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(a,e,i,l):a instanceof Ws?function(h,d,g,v){if(!Xu(h.precondition,d))return g;const _=$y(h.fieldTransforms,v,d),S=d.data;return S.setAll(vv(h)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(D=>D.field))}(a,e,i,l):function(h,d,g){return Xu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function M1(a,e){let i=null;for(const l of a.fieldTransforms){const o=e.data.field(l.field),h=mv(l.transform,o||null);h!=null&&(i===null&&(i=Un.empty()),i.set(l.field,h))}return i||null}function Zy(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(l,o){return l===void 0&&o===void 0||!(!l||!o)&&Ml(l,o,(h,d)=>N1(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class go extends Ac{constructor(e,i,l,o=[]){super(),this.key=e,this.value=i,this.precondition=l,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ws extends Ac{constructor(e,i,l,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=l,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function vv(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const l=a.data.field(i);e.set(i,l)}}),e}function Jy(a,e,i){const l=new Map;ue(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,g=e.data.field(h.field);l.set(h.field,V1(d,g,i[o]))}return l}function $y(a,e,i){const l=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);l.set(o.field,C1(h,d,e))}return l}class Tv extends Ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L1 extends Ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,i,l,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=l,this.mutations=o}applyToRemoteDocument(e,i){const l=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&O1(h,e,l[o])}}applyToLocalView(e,i){for(const l of this.baseMutations)l.key.isEqual(e.key)&&(i=no(l,e,i,this.localWriteTime));for(const l of this.mutations)l.key.isEqual(e.key)&&(i=no(l,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const l=fv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const v=_v(d,g);v!==null&&l.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Bt.min())}),l}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Kt())}isEqual(e){return this.batchId===e.batchId&&Ml(this.mutations,e.mutations,(i,l)=>Zy(i,l))&&Ml(this.baseMutations,e.baseMutations,(i,l)=>Zy(i,l))}}class Dd{constructor(e,i,l,o){this.batch=e,this.commitVersion=i,this.mutationResults=l,this.docVersions=o}static from(e,i,l){ue(e.mutations.length===l.length,58842,{me:e.mutations.length,fe:l.length});let o=function(){return b1}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,l[d].version);return new Dd(e,i,l,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye,te;function B1(a){switch(a){case nt.OK:return Ot(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return Ot(15467,{code:a})}}function Ev(a){if(a===void 0)return us("GRPC error has no .code"),nt.UNKNOWN;switch(a){case Ye.OK:return nt.OK;case Ye.CANCELLED:return nt.CANCELLED;case Ye.UNKNOWN:return nt.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return nt.INTERNAL;case Ye.UNAVAILABLE:return nt.UNAVAILABLE;case Ye.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case Ye.NOT_FOUND:return nt.NOT_FOUND;case Ye.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case Ye.ABORTED:return nt.ABORTED;case Ye.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case Ye.DATA_LOSS:return nt.DATA_LOSS;default:return Ot(39323,{code:a})}}(te=Ye||(Ye={}))[te.OK=0]="OK",te[te.CANCELLED=1]="CANCELLED",te[te.UNKNOWN=2]="UNKNOWN",te[te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",te[te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",te[te.NOT_FOUND=5]="NOT_FOUND",te[te.ALREADY_EXISTS=6]="ALREADY_EXISTS",te[te.PERMISSION_DENIED=7]="PERMISSION_DENIED",te[te.UNAUTHENTICATED=16]="UNAUTHENTICATED",te[te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",te[te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",te[te.ABORTED=10]="ABORTED",te[te.OUT_OF_RANGE=11]="OUT_OF_RANGE",te[te.UNIMPLEMENTED=12]="UNIMPLEMENTED",te[te.INTERNAL=13]="INTERNAL",te[te.UNAVAILABLE=14]="UNAVAILABLE",te[te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=new qs([4294967295,4294967295],0);function Wy(a){const e=k1().encode(a),i=new U_;return i.update(e),new Uint8Array(i.digest())}function t_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),l=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new qs([i,l],0),new qs([o,h],0)]}class Cd{constructor(e,i,l){if(this.bitmap=e,this.padding=i,this.hashCount=l,i<0||i>=8)throw new Zr(`Invalid padding: ${i}`);if(l<0)throw new Zr(`Invalid hash count: ${l}`);if(e.length>0&&this.hashCount===0)throw new Zr(`Invalid hash count: ${l}`);if(e.length===0&&i!==0)throw new Zr(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=qs.fromNumber(this.ge)}ye(e,i,l){let o=e.add(i.multiply(qs.fromNumber(l)));return o.compare(j1)===1&&(o=new qs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Wy(e),[l,o]=t_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(l,o,h);if(!this.we(d))return!1}return!0}static create(e,i,l){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Cd(h,o,i);return l.forEach(g=>d.insert(g)),d}insert(e){if(this.ge===0)return;const i=Wy(e),[l,o]=t_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(l,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),l=e%8;this.bitmap[i]|=1<<l}}class Zr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,i,l,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=l,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,l){const o=new Map;return o.set(e,po.createSynthesizedTargetChangeForCurrentChange(e,i,l)),new Sc(Bt.min(),o,new xe(Xt),cs(),Kt())}}class po{constructor(e,i,l,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=l,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,l){return new po(l,i,Kt(),Kt(),Kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,i,l,o){this.be=e,this.removedTargetIds=i,this.key=l,this.De=o}}class Av{constructor(e,i){this.targetId=e,this.Ce=i}}class Sv{constructor(e,i,l=_n.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=l,this.cause=o}}class e_{constructor(){this.ve=0,this.Fe=n_(),this.Me=_n.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Kt(),i=Kt(),l=Kt();return this.Fe.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:l=l.add(o);break;default:Ot(38017,{changeType:h})}}),new po(this.Me,this.xe,e,i,l)}qe(){this.Oe=!1,this.Fe=n_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ue(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class q1{constructor(e){this.Ge=e,this.ze=new Map,this.je=cs(),this.Je=Hu(),this.He=Hu(),this.Ye=new xe(Xt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,i=>{const l=this.nt(i);switch(e.state){case 0:this.rt(i)&&l.Le(e.resumeToken);break;case 1:l.Ke(),l.Ne||l.qe(),l.Le(e.resumeToken);break;case 2:l.Ke(),l.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(l.We(),l.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),l.Le(e.resumeToken));break;default:Ot(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach((l,o)=>{this.rt(o)&&i(o)})}st(e){const i=e.targetId,l=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(ed(h))if(l===0){const d=new Dt(h.path);this.et(i,d,Rn.newNoDocument(d,Bt.min()))}else ue(l===1,20013,{expectedCount:l});else{const d=this._t(i);if(d!==l){const g=this.ut(e),v=g?this.ct(g,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:l="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Xs(l).toUint8Array()}catch(v){if(v instanceof X_)return Ol("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Cd(d,o,h)}catch(v){return Ol(v instanceof Zr?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(e,i,l){return i.Ce.count===l-this.Pt(e,i.targetId)?0:2}Pt(e,i){const l=this.Ge.getRemoteKeysForTarget(i);let o=0;return l.forEach(h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.et(i,h,null),o++)}),o}Tt(e){const i=new Map;this.ze.forEach((h,d)=>{const g=this.ot(d);if(g){if(h.current&&ed(g.target)){const v=new Dt(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Rn.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}});let l=Kt();this.He.forEach((h,d)=>{let g=!0;d.forEachWhile(v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(l=l.add(h))}),this.je.forEach((h,d)=>d.setReadTime(e));const o=new Sc(e,i,this.Ye,this.je,l);return this.je=cs(),this.Je=Hu(),this.He=Hu(),this.Ye=new xe(Xt),o}Xe(e,i){if(!this.rt(e))return;const l=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,l),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,l){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),l&&(this.je=this.je.insert(i,l))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new e_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new nn(Xt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new nn(Xt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||gt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new e_),this.Ge.getRemoteKeysForTarget(e).forEach(i=>{this.et(e,i,null)})}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Hu(){return new xe(Dt.comparator)}function n_(){return new xe(Dt.comparator)}const H1={asc:"ASCENDING",desc:"DESCENDING"},G1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q1={and:"AND",or:"OR"};class Y1{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function id(a,e){return a.useProto3Json||pc(e)?e:{value:e}}function cc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function F1(a,e){return cc(a,e.toTimestamp())}function Mi(a){return ue(!!a,49232),Bt.fromTimestamp(function(i){const l=Fs(i);return new Se(l.seconds,l.nanos)}(a))}function Vd(a,e){return sd(a,e).canonicalString()}function sd(a,e){const i=function(o){return new Ae(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function Rv(a){const e=Ae.fromString(a);return ue(Vv(e),10190,{key:e.toString()}),e}function ad(a,e){return Vd(a.databaseId,e.path)}function jf(a,e){const i=Rv(e);if(i.get(1)!==a.databaseId.projectId)throw new At(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new At(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new Dt(Iv(i))}function wv(a,e){return Vd(a.databaseId,e)}function X1(a){const e=Rv(a);return e.length===4?Ae.emptyPath():Iv(e)}function ld(a){return new Ae(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Iv(a){return ue(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function i_(a,e,i){return{name:ad(a,e),fields:i.value.mapValue.fields}}function K1(a,e){let i;if("targetChange"in e){e.targetChange;const l=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ot(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(_,S){return _.useProto3Json?(ue(S===void 0||typeof S=="string",58123),_n.fromBase64String(S||"")):(ue(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),_n.fromUint8Array(S||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const S=_.code===void 0?nt.UNKNOWN:Ev(_.code);return new At(S,_.message||"")}(d);i=new Sv(l,o,h,g||null)}else if("documentChange"in e){e.documentChange;const l=e.documentChange;l.document,l.document.name,l.document.updateTime;const o=jf(a,l.document.name),h=Mi(l.document.updateTime),d=l.document.createTime?Mi(l.document.createTime):Bt.min(),g=new Un({mapValue:{fields:l.document.fields}}),v=Rn.newFoundDocument(o,h,d,g),_=l.targetIds||[],S=l.removedTargetIds||[];i=new Ku(_,S,v.key,v)}else if("documentDelete"in e){e.documentDelete;const l=e.documentDelete;l.document;const o=jf(a,l.document),h=l.readTime?Mi(l.readTime):Bt.min(),d=Rn.newNoDocument(o,h),g=l.removedTargetIds||[];i=new Ku([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const l=e.documentRemove;l.document;const o=jf(a,l.document),h=l.removedTargetIds||[];i=new Ku([],h,o,null)}else{if(!("filter"in e))return Ot(11601,{Rt:e});{e.filter;const l=e.filter;l.targetId;const{count:o=0,unchangedNames:h}=l,d=new P1(o,h),g=l.targetId;i=new Av(g,d)}}return i}function Z1(a,e){let i;if(e instanceof go)i={update:i_(a,e.key,e.value)};else if(e instanceof Tv)i={delete:ad(a,e.key)};else if(e instanceof Ws)i={update:i_(a,e.key,e.data),updateMask:aS(e.fieldMask)};else{if(!(e instanceof L1))return Ot(16599,{Vt:e.type});i={verify:ad(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(l=>function(h,d){const g=d.transform;if(g instanceof oc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ho)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof fo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof uc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Ot(20930,{transform:d.transform})}(0,l))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:F1(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Ot(27497)}(a,e.precondition)),i}function J1(a,e){return a&&a.length>0?(ue(e!==void 0,14353),a.map(i=>function(o,h){let d=o.updateTime?Mi(o.updateTime):Mi(h);return d.isEqual(Bt.min())&&(d=Mi(h)),new x1(d,o.transformResults||[])}(i,e))):[]}function $1(a,e){return{documents:[wv(a,e.path)]}}function W1(a,e){const i={structuredQuery:{}},l=e.path;let o;e.collectionGroup!==null?(o=l,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=l.popLast(),i.structuredQuery.from=[{collectionId:l.lastSegment()}]),i.parent=wv(a,o);const h=function(_){if(_.length!==0)return Cv(Pi.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(S=>function(V){return{field:Cl(V.field),direction:nS(V.dir)}}(S))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=id(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ft:i,parent:o}}function tS(a){let e=X1(a.parent);const i=a.structuredQuery,l=i.from?i.from.length:0;let o=null;if(l>0){ue(l===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let h=[];i.where&&(h=function(D){const V=Dv(D);return V instanceof Pi&&sv(V)?V.getFilters():[V]}(i.where));let d=[];i.orderBy&&(d=function(D){return D.map(V=>function(X){return new rc(Vl(X.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(V))}(i.orderBy));let g=null;i.limit&&(g=function(D){let V;return V=typeof D=="object"?D.value:D,pc(V)?null:V}(i.limit));let v=null;i.startAt&&(v=function(D){const V=!!D.before,j=D.values||[];return new lc(j,V)}(i.startAt));let _=null;return i.endAt&&(_=function(D){const V=!D.before,j=D.values||[];return new lc(j,V)}(i.endAt)),_1(e,o,d,h,g,"F",v,_)}function eS(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ot(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Dv(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const l=Vl(i.unaryFilter.field);return en.create(l,"==",{doubleValue:NaN});case"IS_NULL":const o=Vl(i.unaryFilter.field);return en.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Vl(i.unaryFilter.field);return en.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Vl(i.unaryFilter.field);return en.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ot(61313);default:return Ot(60726)}}(a):a.fieldFilter!==void 0?function(i){return en.create(Vl(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ot(58110);default:return Ot(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return Pi.create(i.compositeFilter.filters.map(l=>Dv(l)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ot(1026)}}(i.compositeFilter.op))}(a):Ot(30097,{filter:a})}function nS(a){return H1[a]}function iS(a){return G1[a]}function sS(a){return Q1[a]}function Cl(a){return{fieldPath:a.canonicalString()}}function Vl(a){return yn.fromServerFormat(a.fieldPath)}function Cv(a){return a instanceof en?function(i){if(i.op==="=="){if(Gy(i.value))return{unaryFilter:{field:Cl(i.field),op:"IS_NAN"}};if(Hy(i.value))return{unaryFilter:{field:Cl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Gy(i.value))return{unaryFilter:{field:Cl(i.field),op:"IS_NOT_NAN"}};if(Hy(i.value))return{unaryFilter:{field:Cl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cl(i.field),op:iS(i.op),value:i.value}}}(a):a instanceof Pi?function(i){const l=i.getFilters().map(o=>Cv(o));return l.length===1?l[0]:{compositeFilter:{op:sS(i.op),filters:l}}}(a):Ot(54877,{filter:a})}function aS(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Vv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,i,l,o,h=Bt.min(),d=Bt.min(),g=_n.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=l,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new Bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.yt=e}}function rS(a){const e=tS({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?nd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(){this.Cn=new uS}addToCollectionParentIndex(e,i){return this.Cn.add(i),W.resolve()}getCollectionParents(e,i){return W.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return W.resolve()}deleteFieldIndex(e,i){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,i){return W.resolve()}getDocumentsMatchingTarget(e,i){return W.resolve(null)}getIndexType(e,i){return W.resolve(0)}getFieldIndexes(e,i){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,i){return W.resolve(Ys.min())}getMinOffsetFromCollectionGroup(e,i){return W.resolve(Ys.min())}updateCollectionGroup(e,i,l){return W.resolve()}updateIndexEntries(e,i){return W.resolve()}}class uS{constructor(){this.index={}}add(e){const i=e.lastSegment(),l=e.popLast(),o=this.index[i]||new nn(Ae.comparator),h=!o.has(l);return this.index[i]=o.add(l),h}has(e){const i=e.lastSegment(),l=e.popLast(),o=this.index[i];return o&&o.has(l)}getEntries(e){return(this.index[e]||new nn(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nv=41943040;class Ln{static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,l){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(Nv,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new zl(0)}static cr(){return new zl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="LruGarbageCollector",cS=1048576;function l_([a,e],[i,l]){const o=Xt(a,i);return o===0?Xt(e,l):o}class hS{constructor(e){this.Ir=e,this.buffer=new nn(l_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const l=this.buffer.last();l_(i,l)<0&&(this.buffer=this.buffer.delete(l).add(i))}}get maxValue(){return this.buffer.last()[0]}}class fS{constructor(e,i,l){this.garbageCollector=e,this.asyncQueue=i,this.localStore=l,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){gt(a_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Hl(i)?gt(a_,"Ignoring IndexedDB error during garbage collection: ",i):await ql(i)}await this.Vr(3e5)})}}class dS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next(l=>Math.floor(i/100*l))}nthSequenceNumber(e,i){if(i===0)return W.resolve(gc.ce);const l=new hS(i);return this.mr.forEachTarget(e,o=>l.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>l.Ar(o))).next(()=>l.maxValue)}removeTargets(e,i,l){return this.mr.removeTargets(e,i,l)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(gt("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(s_)):this.getCacheSize(e).next(l=>l<this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s_):this.yr(e,i))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let l,o,h,d,g,v,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),o=this.params.maximumSequenceNumbersToCollect):o=D,d=Date.now(),this.nthSequenceNumber(e,o))).next(D=>(l=D,g=Date.now(),this.removeTargets(e,l,i))).next(D=>(h=D,v=Date.now(),this.removeOrphanedDocuments(e,l))).next(D=>(_=Date.now(),Il()<=ee.DEBUG&&gt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${D} documents in `+(_-v)+`ms
Total Duration: ${_-S}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:D})))}}function mS(a,e){return new dS(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.changes=new La(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const l=this.changes.get(i);return l!==void 0?W.resolve(l):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,i,l,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=l,this.indexManager=o}getDocument(e,i){let l=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(l=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(l!==null&&no(l.mutation,o,Yn.empty(),Se.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(l=>this.getLocalViewOfDocuments(e,l,Kt()).next(()=>l))}getLocalViewOfDocuments(e,i,l=Kt()){const o=Va();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,l).next(h=>{let d=Kr();return h.forEach((g,v)=>{d=d.insert(g,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const l=Va();return this.populateOverlays(e,l,i).next(()=>this.computeViews(e,i,l,Kt()))}populateOverlays(e,i,l){const o=[];return l.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,l,o){let h=cs();const d=eo(),g=function(){return eo()}();return i.forEach((v,_)=>{const S=l.get(_.key);o.has(_.key)&&(S===void 0||S.mutation instanceof Ws)?h=h.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),no(S.mutation,_,S.mutation.getFieldMask(),Se.now())):d.set(_.key,Yn.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,S)=>d.set(_,S)),i.forEach((_,S)=>g.set(_,new pS(S,d.get(_)??null))),g))}recalculateAndSaveOverlays(e,i){const l=eo();let o=new xe((d,g)=>d-g),h=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let S=l.get(v)||Yn.empty();S=g.applyToLocalView(_,S),l.set(v,S);const D=(o.get(g.batchId)||Kt()).add(v);o=o.insert(g.batchId,D)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,S=v.value,D=fv();S.forEach(V=>{if(!h.has(V)){const j=_v(i.get(V),l.get(V));j!==null&&D.set(V,j),h=h.add(V)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,D))}return W.waitFor(d)}).next(()=>l)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(l=>this.recalculateAndSaveOverlays(e,l))}getDocumentsMatchingQuery(e,i,l,o){return function(d){return Dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):v1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,l,o):this.getDocumentsMatchingCollectionQuery(e,i,l,o)}getNextDocuments(e,i,l,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,l,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,l.largestBatchId,o-h.size):W.resolve(Va());let g=ro,v=h;return d.next(_=>W.forEach(_,(S,D)=>(g<D.largestBatchId&&(g=D.largestBatchId),h.get(S)?W.resolve():this.remoteDocumentCache.getEntry(e,S).next(V=>{v=v.insert(S,V)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,Kt())).next(S=>({batchId:g,changes:hv(S)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Dt(i)).next(l=>{let o=Kr();return l.isFoundDocument()&&(o=o.insert(l.key,l)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,l,o){const h=i.collectionGroup;let d=Kr();return this.indexManager.getCollectionParents(e,h).next(g=>W.forEach(g,v=>{const _=function(D,V){return new _c(V,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,l,o).next(S=>{S.forEach((D,V)=>{d=d.insert(D,V)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,l,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,l.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,l,h,o))).next(d=>{h.forEach((v,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,Rn.newInvalidDocument(S)))});let g=Kr();return d.forEach((v,_)=>{const S=h.get(v);S!==void 0&&no(S.mutation,_,Yn.empty(),Se.now()),Tc(i,_)&&(g=g.insert(v,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return W.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:Mi(o.createTime)}}(i)),W.resolve()}getNamedQuery(e,i){return W.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,function(o){return{name:o.name,query:rS(o.bundledQuery),readTime:Mi(o.readTime)}}(i)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.overlays=new xe(Dt.comparator),this.qr=new Map}getOverlay(e,i){return W.resolve(this.overlays.get(i))}getOverlays(e,i){const l=Va();return W.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&l.set(o,h)})).next(()=>l)}saveOverlays(e,i,l){return l.forEach((o,h)=>{this.St(e,i,h)}),W.resolve()}removeOverlaysForBatchId(e,i,l){const o=this.qr.get(l);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.qr.delete(l)),W.resolve()}getOverlaysForCollection(e,i,l){const o=Va(),h=i.length+1,d=new Dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>l&&o.set(v.getKey(),v)}return W.resolve(o)}getOverlaysForCollectionGroup(e,i,l,o){let h=new xe((_,S)=>_-S);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>l){let S=h.get(_.largestBatchId);S===null&&(S=Va(),h=h.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const g=Va(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,S)=>g.set(_,S)),!(g.size()>=o)););return W.resolve(g)}St(e,i,l){const o=this.overlays.get(l.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(l.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(l.key,new z1(i,l));let h=this.qr.get(i);h===void 0&&(h=Kt(),this.qr.set(i,h)),this.qr.set(i,h.add(l.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(){this.Qr=new nn(cn.$r),this.Ur=new nn(cn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const l=new cn(e,i);this.Qr=this.Qr.add(l),this.Ur=this.Ur.add(l)}Wr(e,i){e.forEach(l=>this.addReference(l,i))}removeReference(e,i){this.Gr(new cn(e,i))}zr(e,i){e.forEach(l=>this.removeReference(l,i))}jr(e){const i=new Dt(new Ae([])),l=new cn(i,e),o=new cn(i,e+1),h=[];return this.Ur.forEachInRange([l,o],d=>{this.Gr(d),h.push(d.key)}),h}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Dt(new Ae([])),l=new cn(i,e),o=new cn(i,e+1);let h=Kt();return this.Ur.forEachInRange([l,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new cn(e,0),l=this.Qr.firstAfterOrEqual(i);return l!==null&&e.isEqual(l.key)}}class cn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Dt.comparator(e.key,i.key)||Xt(e.Yr,i.Yr)}static Kr(e,i){return Xt(e.Yr,i.Yr)||Dt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new nn(cn.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,l,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new U1(h,i,l,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new cn(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,i){return W.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const l=i+1,o=this.ei(l),h=o<0?0:o;return W.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Ed:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const l=new cn(i,0),o=new cn(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([l,o],d=>{const g=this.Xr(d.Yr);h.push(g)}),W.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let l=new nn(Xt);return i.forEach(o=>{const h=new cn(o,0),d=new cn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],g=>{l=l.add(g.Yr)})}),W.resolve(this.ti(l))}getAllMutationBatchesAffectingQuery(e,i){const l=i.path,o=l.length+1;let h=l;Dt.isDocumentKey(h)||(h=h.child(""));const d=new cn(new Dt(h),0);let g=new nn(Xt);return this.Zr.forEachWhile(v=>{const _=v.key.path;return!!l.isPrefixOf(_)&&(_.length===o&&(g=g.add(v.Yr)),!0)},d),W.resolve(this.ti(g))}ti(e){const i=[];return e.forEach(l=>{const o=this.Xr(l);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){ue(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let l=this.Zr;return W.forEach(i.mutations,o=>{const h=new cn(o.key,i.batchId);return l=l.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=l})}ir(e){}containsKey(e,i){const l=new cn(i,0),o=this.Zr.firstAfterOrEqual(l);return W.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.ri=e,this.docs=function(){return new xe(Dt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const l=i.key,o=this.docs.get(l),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(l,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,l.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const l=this.docs.get(i);return W.resolve(l?l.document.mutableCopy():Rn.newInvalidDocument(i))}getEntries(e,i){let l=cs();return i.forEach(o=>{const h=this.docs.get(o);l=l.insert(o,h?h.document.mutableCopy():Rn.newInvalidDocument(o))}),W.resolve(l)}getDocumentsMatchingQuery(e,i,l,o){let h=cs();const d=i.path,g=new Dt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:S}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||ZA(KA(S),l)<=0||(o.has(S.key)||Tc(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return W.resolve(h)}getAllFromCollectionGroup(e,i,l,o){Ot(9500)}ii(e,i){return W.forEach(this.docs,l=>i(l))}newChangeBuffer(e){return new SS(this)}getSize(e){return W.resolve(this.size)}}class SS extends gS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach((l,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(l)}),W.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.persistence=e,this.si=new La(i=>bd(i),Rd),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.oi=0,this._i=new Nd,this.targetCount=0,this.ai=zl.ur()}forEachTarget(e,i){return this.si.forEach((l,o)=>i(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,i,l){return l&&(this.lastRemoteSnapshotVersion=l),i>this.oi&&(this.oi=i),W.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new zl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,W.resolve()}updateTargetData(e,i){return this.Pr(i),W.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,i,l){let o=0;const h=[];return this.si.forEach((d,g)=>{g.sequenceNumber<=i&&l.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),W.waitFor(h).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,i){const l=this.si.get(i)||null;return W.resolve(l)}addMatchingKeys(e,i,l){return this._i.Wr(i,l),W.resolve()}removeMatchingKeys(e,i,l){this._i.zr(i,l);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),W.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),W.resolve()}getMatchingKeysForTargetId(e,i){const l=this._i.Hr(i);return W.resolve(l)}containsKey(e,i){return W.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,i){this.ui={},this.overlays={},this.ci=new gc(0),this.li=!1,this.li=!0,this.hi=new TS,this.referenceDelegate=e(this),this.Pi=new bS(this),this.indexManager=new oS,this.remoteDocumentCache=function(o){return new AS(o)}(l=>this.referenceDelegate.Ti(l)),this.serializer=new lS(i),this.Ii=new _S(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new vS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let l=this.ui[e.toKey()];return l||(l=new ES(i,this.referenceDelegate),this.ui[e.toKey()]=l),l}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,l){gt("MemoryPersistence","Starting transaction:",e);const o=new RS(this.ci.next());return this.referenceDelegate.Ei(),l(o).next(h=>this.referenceDelegate.di(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ai(e,i){return W.or(Object.values(this.ui).map(l=>()=>l.containsKey(e,i)))}}class RS extends $A{constructor(e){super(),this.currentSequenceNumber=e}}class xd{constructor(e){this.persistence=e,this.Ri=new Nd,this.Vi=null}static mi(e){return new xd(e)}get fi(){if(this.Vi)return this.Vi;throw Ot(60996)}addReference(e,i,l){return this.Ri.addReference(l,i),this.fi.delete(l.toString()),W.resolve()}removeReference(e,i,l){return this.Ri.removeReference(l,i),this.fi.add(l.toString()),W.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),W.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach(o=>this.fi.add(o.toString()));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.fi.add(h.toString()))}).next(()=>l.removeTargetData(e,i))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,l=>{const o=Dt.fromPath(l);return this.gi(e,o).next(h=>{h||i.removeEntry(o,Bt.min())})}).next(()=>(this.Vi=null,i.apply(e)))}updateLimboDocument(e,i){return this.gi(e,i).next(l=>{l?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(e){return 0}gi(e,i){return W.or([()=>W.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class hc{constructor(e,i){this.persistence=e,this.pi=new La(l=>e1(l.path),(l,o)=>l.isEqual(o)),this.garbageCollector=mS(this,i)}static mi(e,i){return new hc(e,i)}Ei(){}di(e){return W.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(l=>i.next(o=>l+o))}wr(e){let i=0;return this.pr(e,l=>{i++}).next(()=>i)}pr(e,i){return W.forEach(this.pi,(l,o)=>this.br(e,l,o).next(h=>h?W.resolve():i(o)))}removeTargets(e,i,l){return this.persistence.getTargetCache().removeTargets(e,i,l)}removeOrphanedDocuments(e,i){let l=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,d=>this.br(e,d,i).next(g=>{g||(l++,h.removeEntry(d,Bt.min()))})).next(()=>h.apply(e)).next(()=>l)}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}removeTarget(e,i){const l=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,l)}addReference(e,i,l){return this.pi.set(l,e.currentSequenceNumber),W.resolve()}removeReference(e,i,l){return this.pi.set(l,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Yu(e.data.value)),i}br(e,i,l){return W.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return W.resolve(o!==void 0&&o>l)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,i,l,o){this.targetId=e,this.fromCache=i,this.Es=l,this.ds=o}static As(e,i){let l=Kt(),o=Kt();for(const h of i.docChanges)switch(h.type){case 0:l=l.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Od(e,i.fromCache,l,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return vE()?8:WA(yE())>0?6:4}()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,l,o){const h={result:null};return this.ys(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ws(e,i,o,l).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new wS;return this.Ss(e,i,d).next(g=>{if(h.result=g,this.Vs)return this.bs(e,i,d,g.size)})}).next(()=>h.result)}bs(e,i,l,o){return l.documentReadCount<this.fs?(Il()<=ee.DEBUG&&gt("QueryEngine","SDK will not create cache indexes for query:",Dl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Il()<=ee.DEBUG&&gt("QueryEngine","Query:",Dl(i),"scans",l.documentReadCount,"local documents and returns",o,"documents as results."),l.documentReadCount>this.gs*o?(Il()<=ee.DEBUG&&gt("QueryEngine","The SDK decides to create cache indexes for query:",Dl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xi(i))):W.resolve())}ys(e,i){if(Xy(i))return W.resolve(null);let l=xi(i);return this.indexManager.getIndexType(e,l).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=nd(i,null,"F"),l=xi(i)),this.indexManager.getDocumentsMatchingTarget(e,l).next(h=>{const d=Kt(...h);return this.ps.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,l).next(v=>{const _=this.Ds(i,g);return this.Cs(i,_,d,v.readTime)?this.ys(e,nd(i,null,"F")):this.vs(e,_,i,v)}))})))}ws(e,i,l,o){return Xy(i)||o.isEqual(Bt.min())?W.resolve(null):this.ps.getDocuments(e,l).next(h=>{const d=this.Ds(i,h);return this.Cs(i,d,l,o)?W.resolve(null):(Il()<=ee.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Dl(i)),this.vs(e,d,i,XA(o,ro)).next(g=>g))})}Ds(e,i){let l=new nn(uv(e));return i.forEach((o,h)=>{Tc(e,h)&&(l=l.add(h))}),l}Cs(e,i,l,o){if(e.limit===null)return!1;if(l.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,l){return Il()<=ee.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",Dl(i)),this.ps.getDocumentsMatchingQuery(e,i,Ys.min(),l)}vs(e,i,l,o){return this.ps.getDocumentsMatchingQuery(e,l,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="LocalStore",DS=3e8;class CS{constructor(e,i,l,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new xe(Xt),this.xs=new La(h=>bd(h),Rd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(l)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ms))}}function VS(a,e,i,l){return new CS(a,e,i,l)}async function Ov(a,e){const i=kt(a);return await i.persistence.runTransaction("Handle user change","readonly",l=>{let o;return i.mutationQueue.getAllMutationBatches(l).next(h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(l))).next(h=>{const d=[],g=[];let v=Kt();for(const _ of o){d.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}for(const _ of h){g.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(l,v).next(_=>({Ls:_,removedBatchIds:d,addedBatchIds:g}))})})}function NS(a,e){const i=kt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",l=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return function(g,v,_,S){const D=_.batch,V=D.keys();let j=W.resolve();return V.forEach(X=>{j=j.next(()=>S.getEntry(v,X)).next(tt=>{const H=_.docVersions.get(X);ue(H!==null,48541),tt.version.compareTo(H)<0&&(D.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),S.addEntry(tt)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(v,D))}(i,l,e,h).next(()=>h.apply(l)).next(()=>i.mutationQueue.performConsistencyCheck(l)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(l,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,function(g){let v=Kt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(l,o))})}function Mv(a){const e=kt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Pi.getLastRemoteSnapshotVersion(i))}function xS(a,e){const i=kt(a),l=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach((S,D)=>{const V=o.get(D);if(!V)return;g.push(i.Pi.removeMatchingKeys(h,S.removedDocuments,D).next(()=>i.Pi.addMatchingKeys(h,S.addedDocuments,D)));let j=V.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(D)!==null?j=j.withResumeToken(_n.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):S.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(S.resumeToken,l)),o=o.insert(D,j),function(tt,H,at){return tt.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=DS?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0}(V,j,S)&&g.push(i.Pi.updateTargetData(h,j))});let v=cs(),_=Kt();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))}),g.push(OS(h,d,e.documentUpdates).next(S=>{v=S.ks,_=S.qs})),!l.isEqual(Bt.min())){const S=i.Pi.getLastRemoteSnapshotVersion(h).next(D=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,l));g.push(S)}return W.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.Ms=o,h))}function OS(a,e,i){let l=Kt(),o=Kt();return i.forEach(h=>l=l.add(h)),e.getEntries(a,l).next(h=>{let d=cs();return i.forEach((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(Bt.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):gt(Md,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)}),{ks:d,qs:o}})}function MS(a,e){const i=kt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",l=>(e===void 0&&(e=Ed),i.mutationQueue.getNextMutationBatchAfterBatchId(l,e)))}function LS(a,e){const i=kt(a);return i.persistence.runTransaction("Allocate target","readwrite",l=>{let o;return i.Pi.getTargetData(l,e).next(h=>h?(o=h,W.resolve(o)):i.Pi.allocateTargetId(l).next(d=>(o=new Bs(e,d,"TargetPurposeListen",l.currentSequenceNumber),i.Pi.addTargetData(l,o).next(()=>o))))}).then(l=>{const o=i.Ms.get(l.targetId);return(o===null||l.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(l.targetId,l),i.xs.set(e,l.targetId)),l})}async function rd(a,e,i){const l=kt(a),o=l.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await l.persistence.runTransaction("Release target",h,d=>l.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Hl(d))throw d;gt(Md,`Failed to update sequence numbers for target ${e}: ${d}`)}l.Ms=l.Ms.remove(e),l.xs.delete(o.target)}function r_(a,e,i){const l=kt(a);let o=Bt.min(),h=Kt();return l.persistence.runTransaction("Execute query","readwrite",d=>function(v,_,S){const D=kt(v),V=D.xs.get(S);return V!==void 0?W.resolve(D.Ms.get(V)):D.Pi.getTargetData(_,S)}(l,d,xi(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,l.Pi.getMatchingKeysForTargetId(d,g.targetId).next(v=>{h=v})}).next(()=>l.Fs.getDocumentsMatchingQuery(d,e,i?o:Bt.min(),i?h:Kt())).next(g=>(US(l,E1(e),g),{documents:g,Qs:h})))}function US(a,e,i){let l=a.Os.get(e)||Bt.min();i.forEach((o,h)=>{h.readTime.compareTo(l)>0&&(l=h.readTime)}),a.Os.set(e,l)}class o_{constructor(){this.activeTargetIds=I1()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zS{constructor(){this.Mo=new o_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,l){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,l){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new o_,Promise.resolve()}handleUserChange(e,i,l){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="ConnectivityMonitor";class c_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){gt(u_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){gt(u_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu=null;function od(){return Gu===null?Gu=function(){return 268435456+Math.round(2147483648*Math.random())}():Gu++,"0x"+Gu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="RestConnection",BS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${l}/databases/${o}`,this.Wo=this.databaseId.database===sc?`project_id=${l}`:`project_id=${l}&database_id=${o}`}Go(e,i,l,o,h){const d=od(),g=this.zo(e,i.toUriEncodedString());gt(qf,`Sending RPC '${e}' ${d}:`,g,l);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(g),S=pd(_);return this.Jo(e,g,v,l,S).then(D=>(gt(qf,`Received RPC '${e}' ${d}: `,D),D),D=>{throw Ol(qf,`RPC '${e}' ${d} failed with error: `,D,"url: ",g,"request:",l),D})}Ho(e,i,l,o,h,d){return this.Go(e,i,l,o,h)}jo(e,i,l){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),l&&l.headers.forEach((o,h)=>e[h]=o)}zo(e,i){const l=BS[e];return`${this.Uo}/v1/${i}:${l}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="WebChannelConnection";class qS extends kS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,l,o,h){const d=od();return new Promise((g,v)=>{const _=new z_;_.setWithCredentials(!0),_.listenOnce(P_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Qu.NO_ERROR:const D=_.getResponseJson();gt(Sn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(D)),g(D);break;case Qu.TIMEOUT:gt(Sn,`RPC '${e}' ${d} timed out`),v(new At(nt.DEADLINE_EXCEEDED,"Request time out"));break;case Qu.HTTP_ERROR:const V=_.getStatus();if(gt(Sn,`RPC '${e}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let j=_.getResponseJson();Array.isArray(j)&&(j=j[0]);const X=j?.error;if(X&&X.status&&X.message){const tt=function(at){const lt=at.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(lt)>=0?lt:nt.UNKNOWN}(X.status);v(new At(tt,X.message))}else v(new At(nt.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new At(nt.UNAVAILABLE,"Connection failed."));break;default:Ot(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{gt(Sn,`RPC '${e}' ${d} completed.`)}});const S=JSON.stringify(o);gt(Sn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",S,l,15)})}T_(e,i,l){const o=od(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=j_(),g=k_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,l),v.encodeInitMessageHeaders=!0;const S=h.join("");gt(Sn,`Creating RPC '${e}' stream ${o}: ${S}`,v);const D=d.createWebChannel(S,v);this.I_(D);let V=!1,j=!1;const X=new jS({Yo:H=>{j?gt(Sn,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(V||(gt(Sn,`Opening RPC '${e}' stream ${o} transport.`),D.open(),V=!0),gt(Sn,`RPC '${e}' stream ${o} sending:`,H),D.send(H))},Zo:()=>D.close()}),tt=(H,at,lt)=>{H.listen(at,ct=>{try{lt(ct)}catch(Nt){setTimeout(()=>{throw Nt},0)}})};return tt(D,Xr.EventType.OPEN,()=>{j||(gt(Sn,`RPC '${e}' stream ${o} transport opened.`),X.o_())}),tt(D,Xr.EventType.CLOSE,()=>{j||(j=!0,gt(Sn,`RPC '${e}' stream ${o} transport closed`),X.a_(),this.E_(D))}),tt(D,Xr.EventType.ERROR,H=>{j||(j=!0,Ol(Sn,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),X.a_(new At(nt.UNAVAILABLE,"The operation could not be completed")))}),tt(D,Xr.EventType.MESSAGE,H=>{if(!j){const at=H.data[0];ue(!!at,16349);const lt=at,ct=lt?.error||lt[0]?.error;if(ct){gt(Sn,`RPC '${e}' stream ${o} received error:`,ct);const Nt=ct.status;let vt=function(A){const R=Ye[A];if(R!==void 0)return Ev(R)}(Nt),Et=ct.message;vt===void 0&&(vt=nt.INTERNAL,Et="Unknown error status: "+Nt+" with message "+ct.message),j=!0,X.a_(new At(vt,Et)),D.close()}else gt(Sn,`RPC '${e}' stream ${o} received:`,at),X.u_(at)}}),tt(g,B_.STAT_EVENT,H=>{H.stat===Zf.PROXY?gt(Sn,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===Zf.NOPROXY&&gt(Sn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{X.__()},0),X}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(i=>i===e)}}function Hf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(a){return new Y1(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,i,l=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=l,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),l=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-l);o>0&&gt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${l} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="PersistentStream";class Uv{constructor(e,i,l,o,h,d,g,v){this.Mi=e,this.S_=l,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Lv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===nt.RESOURCE_EXHAUSTED?(us(i.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([l,o])=>{this.D_===i&&this.G_(l,o)},l=>{e(()=>{const o=new At(nt.UNKNOWN,"Fetching auth token failed: "+l.message);return this.z_(o)})})}G_(e,i){const l=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo(()=>{l(()=>this.listener.Xo())}),this.stream.t_(()=>{l(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{l(()=>this.z_(o))}),this.stream.onMessage(o=>{l(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return gt(h_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget(()=>this.D_===e?i():(gt(h_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HS extends Uv{constructor(e,i,l,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,l,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=K1(this.serializer,e),l=function(h){if(!("targetChange"in h))return Bt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Bt.min():d.readTime?Mi(d.readTime):Bt.min()}(e);return this.listener.H_(i,l)}Y_(e){const i={};i.database=ld(this.serializer),i.addTarget=function(h,d){let g;const v=d.target;if(g=ed(v)?{documents:$1(h,v)}:{query:W1(h,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=bv(h,d.resumeToken);const _=id(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Bt.min())>0){g.readTime=cc(h,d.snapshotVersion.toTimestamp());const _=id(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const l=eS(this.serializer,e);l&&(i.labels=l),this.q_(i)}Z_(e){const i={};i.database=ld(this.serializer),i.removeTarget=e,this.q_(i)}}class GS extends Uv{constructor(e,i,l,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,l,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=J1(e.writeResults,e.commitTime),l=Mi(e.commitTime);return this.listener.na(l,i)}ra(){const e={};e.database=ld(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map(l=>Z1(this.serializer,l))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{}class YS extends QS{constructor(e,i,l,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=l,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new At(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,l,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Go(e,sd(i,l),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new At(nt.UNKNOWN,h.toString())})}Ho(e,i,l,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Ho(e,sd(i,l),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new At(nt.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class FS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(us(i),this.aa=!1):gt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="RemoteStore";class XS{constructor(e,i,l,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=l,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo(d=>{l.enqueueAndForget(async()=>{Ua(this)&&(gt(Ma,"Restarting streams for network reachability change."),await async function(v){const _=kt(v);_.Ea.add(4),await yo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Rc(_)}(this))})}),this.Ra=new FS(l,o)}}async function Rc(a){if(Ua(a))for(const e of a.da)await e(!0)}async function yo(a){for(const e of a.da)await e(!1)}function zv(a,e){const i=kt(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Pd(i)?zd(i):Gl(i).O_()&&Ud(i,e))}function Ld(a,e){const i=kt(a),l=Gl(i);i.Ia.delete(e),l.O_()&&Pv(i,e),i.Ia.size===0&&(l.O_()?l.L_():Ua(i)&&i.Ra.set("Unknown"))}function Ud(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Bt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Gl(a).Y_(e)}function Pv(a,e){a.Va.Ue(e),Gl(a).Z_(e)}function zd(a){a.Va=new q1({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Gl(a).start(),a.Ra.ua()}function Pd(a){return Ua(a)&&!Gl(a).x_()&&a.Ia.size>0}function Ua(a){return kt(a).Ea.size===0}function Bv(a){a.Va=void 0}async function KS(a){a.Ra.set("Online")}async function ZS(a){a.Ia.forEach((e,i)=>{Ud(a,e)})}async function JS(a,e){Bv(a),Pd(a)?(a.Ra.ha(e),zd(a)):a.Ra.set("Unknown")}async function $S(a,e,i){if(a.Ra.set("Online"),e instanceof Sv&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))}(a,e)}catch(l){gt(Ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),l),await fc(a,l)}else if(e instanceof Ku?a.Va.Ze(e):e instanceof Av?a.Va.st(e):a.Va.tt(e),!i.isEqual(Bt.min()))try{const l=await Mv(a.localStore);i.compareTo(l)>=0&&await function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const S=h.Ia.get(_);S&&h.Ia.set(_,S.withResumeToken(v.resumeToken,d))}}),g.targetMismatches.forEach((v,_)=>{const S=h.Ia.get(v);if(!S)return;h.Ia.set(v,S.withResumeToken(_n.EMPTY_BYTE_STRING,S.snapshotVersion)),Pv(h,v);const D=new Bs(S.target,v,_,S.sequenceNumber);Ud(h,D)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(l){gt(Ma,"Failed to raise snapshot:",l),await fc(a,l)}}async function fc(a,e,i){if(!Hl(e))throw e;a.Ea.add(1),await yo(a),a.Ra.set("Offline"),i||(i=()=>Mv(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{gt(Ma,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Rc(a)})}function kv(a,e){return e().catch(i=>fc(a,i,e))}async function wc(a){const e=kt(a),i=Zs(e);let l=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ed;for(;WS(e);)try{const o=await MS(e.localStore,l);if(o===null){e.Ta.length===0&&i.L_();break}l=o.batchId,tb(e,o)}catch(o){await fc(e,o)}jv(e)&&qv(e)}function WS(a){return Ua(a)&&a.Ta.length<10}function tb(a,e){a.Ta.push(e);const i=Zs(a);i.O_()&&i.X_&&i.ea(e.mutations)}function jv(a){return Ua(a)&&!Zs(a).x_()&&a.Ta.length>0}function qv(a){Zs(a).start()}async function eb(a){Zs(a).ra()}async function nb(a){const e=Zs(a);for(const i of a.Ta)e.ea(i.mutations)}async function ib(a,e,i){const l=a.Ta.shift(),o=Dd.from(l,e,i);await kv(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await wc(a)}async function sb(a,e){e&&Zs(a).X_&&await async function(l,o){if(function(d){return B1(d)&&d!==nt.ABORTED}(o.code)){const h=l.Ta.shift();Zs(l).B_(),await kv(l,()=>l.remoteSyncer.rejectFailedWrite(h.batchId,o)),await wc(l)}}(a,e),jv(a)&&qv(a)}async function f_(a,e){const i=kt(a);i.asyncQueue.verifyOperationInProgress(),gt(Ma,"RemoteStore received new credentials");const l=Ua(i);i.Ea.add(3),await yo(i),l&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Rc(i)}async function ab(a,e){const i=kt(a);e?(i.Ea.delete(2),await Rc(i)):e||(i.Ea.add(2),await yo(i),i.Ra.set("Unknown"))}function Gl(a){return a.ma||(a.ma=function(i,l,o){const h=kt(i);return h.sa(),new HS(l,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{Xo:KS.bind(null,a),t_:ZS.bind(null,a),r_:JS.bind(null,a),H_:$S.bind(null,a)}),a.da.push(async e=>{e?(a.ma.B_(),Pd(a)?zd(a):a.Ra.set("Unknown")):(await a.ma.stop(),Bv(a))})),a.ma}function Zs(a){return a.fa||(a.fa=function(i,l,o){const h=kt(i);return h.sa(),new GS(l,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:eb.bind(null,a),r_:sb.bind(null,a),ta:nb.bind(null,a),na:ib.bind(null,a)}),a.da.push(async e=>{e?(a.fa.B_(),await wc(a)):(await a.fa.stop(),a.Ta.length>0&&(gt(Ma,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))})),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,i,l,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=l,this.op=o,this.removalCallback=h,this.deferred=new Hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,l,o,h){const d=Date.now()+l,g=new Bd(e,i,d,o,h);return g.start(l),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new At(nt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kd(a,e){if(us("AsyncQueue",`${e}: ${a}`),Hl(a))return new At(nt.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{static emptySet(e){return new xl(e.comparator)}constructor(e){this.comparator=e?(i,l)=>e(i,l)||Dt.comparator(i.key,l.key):(i,l)=>Dt.comparator(i.key,l.key),this.keyedMap=Kr(),this.sortedSet=new xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,l)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof xl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),l=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=l.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const l=new xl;return l.comparator=this.comparator,l.keyedMap=e,l.sortedSet=i,l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(){this.ga=new xe(Dt.comparator)}track(e){const i=e.doc.key,l=this.ga.get(i);l?e.type!==0&&l.type===3?this.ga=this.ga.insert(i,e):e.type===3&&l.type!==1?this.ga=this.ga.insert(i,{type:l.type,doc:e.doc}):e.type===2&&l.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&l.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&l.type===0?this.ga=this.ga.remove(i):e.type===1&&l.type===2?this.ga=this.ga.insert(i,{type:1,doc:l.doc}):e.type===0&&l.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ot(63341,{Rt:e,pa:l}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal((i,l)=>{e.push(l)}),e}}class Pl{constructor(e,i,l,o,h,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=l,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,l,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Pl(e,i,xl.emptySet(i),d,l,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,l=e.docChanges;if(i.length!==l.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==l[o].type||!i[o].doc.isEqual(l[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class rb{constructor(){this.queries=m_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,l){const o=kt(i),h=o.queries;o.queries=m_(),h.forEach((d,g)=>{for(const v of g.Sa)v.onError(l)})})(this,new At(nt.ABORTED,"Firestore shutting down"))}}function m_(){return new La(a=>ov(a),vc)}async function ob(a,e){const i=kt(a);let l=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(l=2):(h=new lb,l=e.Da()?0:1);try{switch(l){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=kd(d,`Initialization of query '${Dl(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&jd(i)}async function ub(a,e){const i=kt(a),l=e.query;let o=3;const h=i.queries.get(l);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(l),i.onUnlisten(l,!0);case 1:return i.queries.delete(l),i.onUnlisten(l,!1);case 2:return i.onLastRemoteStoreUnlisten(l);default:return}}function cb(a,e){const i=kt(a);let l=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(o)&&(l=!0);d.wa=o}}l&&jd(i)}function hb(a,e,i){const l=kt(a),o=l.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);l.queries.delete(e)}function jd(a){a.Ca.forEach(e=>{e.next()})}var ud,g_;(g_=ud||(ud={})).Ma="default",g_.Cache="cache";class fb{constructor(e,i,l){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=l||{}}Fa(e){if(!this.options.includeMetadataChanges){const l=[];for(const o of e.docChanges)o.type!==3&&l.push(o);e=new Pl(e.query,e.docs,e.oldDocs,l,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const l=i!=="Offline";return(!this.options.qa||!l)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ud.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e){this.key=e}}class Gv{constructor(e){this.key=e}}class db{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Kt(),this.mutatedKeys=Kt(),this.eu=uv(e),this.tu=new xl(this.eu)}get nu(){return this.Ya}ru(e,i){const l=i?i.iu:new d_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((S,D)=>{const V=o.get(S),j=Tc(this.query,D)?D:null,X=!!V&&this.mutatedKeys.has(V.key),tt=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let H=!1;V&&j?V.data.isEqual(j.data)?X!==tt&&(l.track({type:3,doc:j}),H=!0):this.su(V,j)||(l.track({type:2,doc:j}),H=!0,(v&&this.eu(j,v)>0||_&&this.eu(j,_)<0)&&(g=!0)):!V&&j?(l.track({type:0,doc:j}),H=!0):V&&!j&&(l.track({type:1,doc:V}),H=!0,(v||_)&&(g=!0)),H&&(j?(d=d.add(j),h=tt?h.add(S):h.delete(S)):(d=d.delete(S),h=h.delete(S)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),h=h.delete(S.key),l.track({type:1,doc:S})}return{tu:d,iu:l,Cs:g,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,l,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((S,D)=>function(j,X){const tt=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ot(20277,{Rt:H})}};return tt(j)-tt(X)}(S.type,D.type)||this.eu(S.doc,D.doc)),this.ou(l),o=o??!1;const g=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Pl(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!l&&l.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new d_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Kt(),this.tu.forEach(l=>{this.uu(l.key)&&(this.Xa=this.Xa.add(l.key))});const i=[];return e.forEach(l=>{this.Xa.has(l)||i.push(new Gv(l))}),this.Xa.forEach(l=>{e.has(l)||i.push(new Hv(l))}),i}cu(e){this.Ya=e.Qs,this.Xa=Kt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Pl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qd="SyncEngine";class mb{constructor(e,i,l){this.query=e,this.targetId=i,this.view=l}}class gb{constructor(e){this.key=e,this.hu=!1}}class pb{constructor(e,i,l,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=l,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new La(g=>ov(g),vc),this.Iu=new Map,this.Eu=new Set,this.du=new xe(Dt.comparator),this.Au=new Map,this.Ru=new Nd,this.Vu={},this.mu=new Map,this.fu=zl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yb(a,e,i=!0){const l=Zv(a);let o;const h=l.Tu.get(e);return h?(l.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await Qv(l,e,i,!0),o}async function _b(a,e){const i=Zv(a);await Qv(i,e,!0,!1)}async function Qv(a,e,i,l){const o=await LS(a.localStore,xi(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return l&&(g=await vb(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&zv(a.remoteStore,o),g}async function vb(a,e,i,l,o){a.pu=(D,V,j)=>async function(tt,H,at,lt){let ct=H.view.ru(at);ct.Cs&&(ct=await r_(tt.localStore,H.query,!1).then(({documents:N})=>H.view.ru(N,ct)));const Nt=lt&&lt.targetChanges.get(H.targetId),vt=lt&&lt.targetMismatches.get(H.targetId)!=null,Et=H.view.applyChanges(ct,tt.isPrimaryClient,Nt,vt);return y_(tt,H.targetId,Et.au),Et.snapshot}(a,D,V,j);const h=await r_(a.localStore,e,!0),d=new db(e,h.Qs),g=d.ru(h.documents),v=po.createSynthesizedTargetChangeForCurrentChange(i,l&&a.onlineState!=="Offline",o),_=d.applyChanges(g,a.isPrimaryClient,v);y_(a,i,_.au);const S=new mb(e,i,d);return a.Tu.set(e,S),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),_.snapshot}async function Tb(a,e,i){const l=kt(a),o=l.Tu.get(e),h=l.Iu.get(o.targetId);if(h.length>1)return l.Iu.set(o.targetId,h.filter(d=>!vc(d,e))),void l.Tu.delete(e);l.isPrimaryClient?(l.sharedClientState.removeLocalQueryTarget(o.targetId),l.sharedClientState.isActiveQueryTarget(o.targetId)||await rd(l.localStore,o.targetId,!1).then(()=>{l.sharedClientState.clearQueryState(o.targetId),i&&Ld(l.remoteStore,o.targetId),cd(l,o.targetId)}).catch(ql)):(cd(l,o.targetId),await rd(l.localStore,o.targetId,!0))}async function Eb(a,e){const i=kt(a),l=i.Tu.get(e),o=i.Iu.get(l.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(l.targetId),Ld(i.remoteStore,l.targetId))}async function Ab(a,e,i){const l=Cb(a);try{const o=await function(d,g){const v=kt(d),_=Se.now(),S=g.reduce((j,X)=>j.add(X.key),Kt());let D,V;return v.persistence.runTransaction("Locally write mutations","readwrite",j=>{let X=cs(),tt=Kt();return v.Ns.getEntries(j,S).next(H=>{X=H,X.forEach((at,lt)=>{lt.isValidDocument()||(tt=tt.add(at))})}).next(()=>v.localDocuments.getOverlayedDocuments(j,X)).next(H=>{D=H;const at=[];for(const lt of g){const ct=M1(lt,D.get(lt.key).overlayedDocument);ct!=null&&at.push(new Ws(lt.key,ct,ev(ct.value.mapValue),Oi.exists(!0)))}return v.mutationQueue.addMutationBatch(j,_,at,g)}).next(H=>{V=H;const at=H.applyToLocalDocumentSet(D,tt);return v.documentOverlayCache.saveOverlays(j,H.batchId,at)})}).then(()=>({batchId:V.batchId,changes:hv(D)}))}(l.localStore,e);l.sharedClientState.addPendingMutation(o.batchId),function(d,g,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new xe(Xt)),_=_.insert(g,v),d.Vu[d.currentUser.toKey()]=_}(l,o.batchId,i),await _o(l,o.changes),await wc(l.remoteStore)}catch(o){const h=kd(o,"Failed to persist write");i.reject(h)}}async function Yv(a,e){const i=kt(a);try{const l=await xS(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Au.get(h);d&&(ue(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?ue(d.hu,14607):o.removedDocuments.size>0&&(ue(d.hu,42227),d.hu=!1))}),await _o(i,l,e)}catch(l){await ql(l)}}function p_(a,e,i){const l=kt(a);if(l.isPrimaryClient&&i===0||!l.isPrimaryClient&&i===1){const o=[];l.Tu.forEach((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const v=kt(d);v.onlineState=g;let _=!1;v.queries.forEach((S,D)=>{for(const V of D.Sa)V.va(g)&&(_=!0)}),_&&jd(v)}(l.eventManager,e),o.length&&l.Pu.H_(o),l.onlineState=e,l.isPrimaryClient&&l.sharedClientState.setOnlineState(e)}}async function Sb(a,e,i){const l=kt(a);l.sharedClientState.updateQueryState(e,"rejected",i);const o=l.Au.get(e),h=o&&o.key;if(h){let d=new xe(Dt.comparator);d=d.insert(h,Rn.newNoDocument(h,Bt.min()));const g=Kt().add(h),v=new Sc(Bt.min(),new Map,new xe(Xt),d,g);await Yv(l,v),l.du=l.du.remove(h),l.Au.delete(e),Hd(l)}else await rd(l.localStore,e,!1).then(()=>cd(l,e,i)).catch(ql)}async function bb(a,e){const i=kt(a),l=e.batch.batchId;try{const o=await NS(i.localStore,e);Xv(i,l,null),Fv(i,l),i.sharedClientState.updateMutationState(l,"acknowledged"),await _o(i,o)}catch(o){await ql(o)}}async function Rb(a,e,i){const l=kt(a);try{const o=await function(d,g){const v=kt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let S;return v.mutationQueue.lookupMutationBatch(_,g).next(D=>(ue(D!==null,37113),S=D.keys(),v.mutationQueue.removeMutationBatch(_,D))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,S,g)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S)).next(()=>v.localDocuments.getDocuments(_,S))})}(l.localStore,e);Xv(l,e,i),Fv(l,e),l.sharedClientState.updateMutationState(e,"rejected",i),await _o(l,o)}catch(o){await ql(o)}}function Fv(a,e){(a.mu.get(e)||[]).forEach(i=>{i.resolve()}),a.mu.delete(e)}function Xv(a,e,i){const l=kt(a);let o=l.Vu[l.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),l.Vu[l.currentUser.toKey()]=o}}function cd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const l of a.Iu.get(e))a.Tu.delete(l),i&&a.Pu.yu(l,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach(l=>{a.Ru.containsKey(l)||Kv(a,l)})}function Kv(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(Ld(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),Hd(a))}function y_(a,e,i){for(const l of i)l instanceof Hv?(a.Ru.addReference(l.key,e),wb(a,l)):l instanceof Gv?(gt(qd,"Document no longer in limbo: "+l.key),a.Ru.removeReference(l.key,e),a.Ru.containsKey(l.key)||Kv(a,l.key)):Ot(19791,{wu:l})}function wb(a,e){const i=e.key,l=i.path.canonicalString();a.du.get(i)||a.Eu.has(l)||(gt(qd,"New document in limbo: "+i),a.Eu.add(l),Hd(a))}function Hd(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new Dt(Ae.fromString(e)),l=a.fu.next();a.Au.set(l,new gb(i)),a.du=a.du.insert(i,l),zv(a.remoteStore,new Bs(xi(wd(i.path)),l,"TargetPurposeLimboResolution",gc.ce))}}async function _o(a,e,i){const l=kt(a),o=[],h=[],d=[];l.Tu.isEmpty()||(l.Tu.forEach((g,v)=>{d.push(l.pu(v,e,i).then(_=>{if((_||i)&&l.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;l.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){o.push(_);const S=Od.As(v.targetId,_);h.push(S)}}))}),await Promise.all(d),l.Pu.H_(o),await async function(v,_){const S=kt(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>W.forEach(_,V=>W.forEach(V.Es,j=>S.persistence.referenceDelegate.addReference(D,V.targetId,j)).next(()=>W.forEach(V.ds,j=>S.persistence.referenceDelegate.removeReference(D,V.targetId,j)))))}catch(D){if(!Hl(D))throw D;gt(Md,"Failed to update sequence numbers: "+D)}for(const D of _){const V=D.targetId;if(!D.fromCache){const j=S.Ms.get(V),X=j.snapshotVersion,tt=j.withLastLimboFreeSnapshotVersion(X);S.Ms=S.Ms.insert(V,tt)}}}(l.localStore,h))}async function Ib(a,e){const i=kt(a);if(!i.currentUser.isEqual(e)){gt(qd,"User change. New user:",e.toKey());const l=await Ov(i.localStore,e);i.currentUser=e,function(h,d){h.mu.forEach(g=>{g.forEach(v=>{v.reject(new At(nt.CANCELLED,d))})}),h.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,l.removedBatchIds,l.addedBatchIds),await _o(i,l.Ls)}}function Db(a,e){const i=kt(a),l=i.Au.get(e);if(l&&l.hu)return Kt().add(l.key);{let o=Kt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function Zv(a){const e=kt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Db.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Sb.bind(null,e),e.Pu.H_=cb.bind(null,e.eventManager),e.Pu.yu=hb.bind(null,e.eventManager),e}function Cb(a){const e=kt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rb.bind(null,e),e}class dc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return VS(this.persistence,new IS,e.initialUser,this.serializer)}Cu(e){return new xv(xd.mi,this.serializer)}Du(e){return new zS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dc.provider={build:()=>new dc};class Vb extends dc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){ue(this.persistence.referenceDelegate instanceof hc,46915);const l=this.persistence.referenceDelegate.garbageCollector;return new fS(l,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new xv(l=>hc.mi(l,i),this.serializer)}}class hd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=l=>p_(this.syncEngine,l,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ib.bind(null,this.syncEngine),await ab(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rb}()}createDatastore(e){const i=bc(e.databaseInfo.databaseId),l=function(h){return new qS(h)}(e.databaseInfo);return function(h,d,g,v){return new YS(h,d,g,v)}(e.authCredentials,e.appCheckCredentials,l,i)}createRemoteStore(e){return function(l,o,h,d,g){return new XS(l,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>p_(this.syncEngine,i,0),function(){return c_.v()?new c_:new PS}())}createSyncEngine(e,i){return function(o,h,d,g,v,_,S){const D=new pb(o,h,d,g,v,_);return S&&(D.gu=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const l=kt(i);gt(Ma,"RemoteStore shutting down."),l.Ea.add(5),await yo(l),l.Aa.shutdown(),l.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hd.provider={build:()=>new hd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):us("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="FirestoreClient";class xb{constructor(e,i,l,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=l,this.databaseInfo=o,this.user=bn.UNAUTHENTICATED,this.clientId=vd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(l,async d=>{gt(Js,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(l,d=>(gt(Js,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const l=kd(i,"Failed to shutdown persistence");e.reject(l)}}),e.promise}}async function Gf(a,e){a.asyncQueue.verifyOperationInProgress(),gt(Js,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let l=i.initialUser;a.setCredentialChangeListener(async o=>{l.isEqual(o)||(await Ov(e.localStore,o),l=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function __(a,e){a.asyncQueue.verifyOperationInProgress();const i=await Ob(a);gt(Js,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(l=>f_(e.remoteStore,l)),a.setAppCheckTokenChangeListener((l,o)=>f_(e.remoteStore,o)),a._onlineComponents=e}async function Ob(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){gt(Js,"Using user provided OfflineComponentProvider");try{await Gf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===nt.FAILED_PRECONDITION||o.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Ol("Error using user provided cache. Falling back to memory cache: "+i),await Gf(a,new dc)}}else gt(Js,"Using default OfflineComponentProvider"),await Gf(a,new Vb(void 0));return a._offlineComponents}async function Jv(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(gt(Js,"Using user provided OnlineComponentProvider"),await __(a,a._uninitializedComponentsProvider._online)):(gt(Js,"Using default OnlineComponentProvider"),await __(a,new hd))),a._onlineComponents}function Mb(a){return Jv(a).then(e=>e.syncEngine)}async function Lb(a){const e=await Jv(a),i=e.eventManager;return i.onListen=yb.bind(null,e.syncEngine),i.onUnlisten=Tb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=_b.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Eb.bind(null,e.syncEngine),i}function Ub(a,e,i={}){const l=new Hs;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,v,_){const S=new Nb({next:V=>{S.Nu(),d.enqueueAndForget(()=>ub(h,D));const j=V.docs.has(g);!j&&V.fromCache?_.reject(new At(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&V.fromCache&&v&&v.source==="server"?_.reject(new At(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(V)},error:V=>_.reject(V)}),D=new fb(wd(g.path),S,{includeMetadataChanges:!0,qa:!0});return ob(h,D)}(await Lb(a),a.asyncQueue,e,i,l)),l.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="firestore.googleapis.com",T_=!0;class E_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new At(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Wv,this.ssl=T_}else this.host=e.host,this.ssl=e.ssl??T_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Nv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cS)throw new At(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$v(e.experimentalLongPollingOptions??{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new At(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new At(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new At(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(l,o){return l.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ic{constructor(e,i,l,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=l,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new At(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new At(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(l){if(!l)return new zA;switch(l.type){case"firstParty":return new jA(l.sessionIndex||"0",l.iamToken||null,l.authTokenFactory||null);case"provider":return l.client;default:throw new At(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const l=v_.get(i);l&&(gt("ComponentProvider","Removing Datastore"),v_.delete(i),l.terminate())}(this),Promise.resolve()}}function zb(a,e,i,l={}){a=Oa(a,Ic);const o=pd(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},g=`${e}:${i}`;o&&(fE(`https://${g}`),pE("Firestore",!0)),h.host!==Wv&&h.host!==g&&Ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:g,ssl:o,emulatorOptions:l};if(!tc(v,d)&&(a._setSettings(v),l.mockUserToken)){let _,S;if(typeof l.mockUserToken=="string")_=l.mockUserToken,S=bn.MOCK_USER;else{_=dE(l.mockUserToken,a._app?.options.projectId);const D=l.mockUserToken.sub||l.mockUserToken.user_id;if(!D)throw new At(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new bn(D)}a._authCredentials=new PA(new H_(_,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,i,l){this.converter=i,this._query=l,this.type="query",this.firestore=e}withConverter(e){return new Gd(this.firestore,e,this._query)}}class Xe{constructor(e,i,l){this.converter=i,this._key=l,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xe(this.firestore,e,this._key)}toJSON(){return{type:Xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,l){if(mo(i,Xe._jsonSchema))return new Xe(e,l||null,new Dt(Ae.fromString(i.referencePath)))}}Xe._jsonSchemaVersion="firestore/documentReference/1.0",Xe._jsonSchema={type:Fe("string",Xe._jsonSchemaVersion),referencePath:Fe("string")};class Gs extends Gd{constructor(e,i,l){super(e,i,wd(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xe(this.firestore,null,new Dt(e))}withConverter(e){return new Gs(this.firestore,e,this._path)}}function Pb(a,e,...i){if(a=Qs(a),G_("collection","path",e),a instanceof Ic){const l=Ae.fromString(e,...i);return Ly(l),new Gs(a,null,l)}{if(!(a instanceof Xe||a instanceof Gs))throw new At(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=a._path.child(Ae.fromString(e,...i));return Ly(l),new Gs(a.firestore,null,l)}}function Bl(a,e,...i){if(a=Qs(a),arguments.length===1&&(e=vd.newId()),G_("doc","path",e),a instanceof Ic){const l=Ae.fromString(e,...i);return My(l),new Xe(a,null,new Dt(l))}{if(!(a instanceof Xe||a instanceof Gs))throw new At(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=a._path.child(Ae.fromString(e,...i));return My(l),new Xe(a.firestore,a instanceof Gs?a.converter:null,new Dt(l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="AsyncQueue";class S_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Lv(this,"async_queue_retry"),this._c=()=>{const l=Hf();l&&gt(A_,"Visibility state changed to "+l.visibilityState),this.M_.w_()},this.ac=e;const i=Hf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Hf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const i=new Hs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Hl(e))throw e;gt(A_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const i=this.ac.then(()=>(this.rc=!0,e().catch(l=>{throw this.nc=l,this.rc=!1,us("INTERNAL UNHANDLED ERROR: ",b_(l)),l}).then(l=>(this.rc=!1,l))));return this.ac=i,i}enqueueAfterDelay(e,i,l){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Bd.createAndSchedule(this,e,i,l,h=>this.hc(h));return this.tc.push(o),o}uc(){this.nc&&Ot(47125,{Pc:b_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((i,l)=>i.targetTimeMs-l.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function b_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class Dc extends Ic{constructor(e,i,l,o){super(e,i,l,o),this.type="firestore",this._queue=new S_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new S_(e),this._firestoreClient=void 0,await e}}}function Bb(a,e){const i=typeof a=="object"?a:wA(),l=typeof a=="string"?a:sc,o=EA(i,"firestore").getImmediate({identifier:l});if(!o._initialized){const h=cE("firestore");h&&zb(o,...h)}return o}function t0(a){if(a._terminated)throw new At(nt.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||kb(a),a._firestoreClient}function kb(a){const e=a._freezeSettings(),i=function(o,h,d,g){return new s1(o,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,$v(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new xb(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ai(_n.fromBase64String(e))}catch(i){throw new At(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ai(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mo(e,ai._jsonSchema))return ai.fromBase64String(e.bytes)}}ai._jsonSchemaVersion="firestore/bytes/1.0",ai._jsonSchema={type:Fe("string",ai._jsonSchemaVersion),bytes:Fe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new At(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new At(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new At(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xt(this._lat,e._lat)||Xt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Li._jsonSchemaVersion}}static fromJSON(e){if(mo(e,Li._jsonSchema))return new Li(e.latitude,e.longitude)}}Li._jsonSchemaVersion="firestore/geoPoint/1.0",Li._jsonSchema={type:Fe("string",Li._jsonSchemaVersion),latitude:Fe("number"),longitude:Fe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(l,o){if(l.length!==o.length)return!1;for(let h=0;h<l.length;++h)if(l[h]!==o[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mo(e,Ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new Ui(e.vectorValues);throw new At(nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:Fe("string",Ui._jsonSchemaVersion),vectorValues:Fe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=/^__.*__$/;class qb{constructor(e,i,l){this.data=e,this.fieldMask=i,this.fieldTransforms=l}toMutation(e,i){return this.fieldMask!==null?new Ws(e,this.data,this.fieldMask,i,this.fieldTransforms):new go(e,this.data,i,this.fieldTransforms)}}class e0{constructor(e,i,l){this.data=e,this.fieldMask=i,this.fieldTransforms=l}toMutation(e,i){return new Ws(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function n0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ot(40011,{Ac:a})}}class Yd{constructor(e,i,l,o,h,d){this.settings=e,this.databaseId=i,this.serializer=l,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Yd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),l=this.Vc({path:i,fc:!1});return l.gc(e),l}yc(e){const i=this.path?.child(e),l=this.Vc({path:i,fc:!1});return l.Rc(),l}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return mc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(n0(this.Ac)&&jb.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Hb{constructor(e,i,l){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=l||bc(e)}Cc(e,i,l,o=!1){return new Yd({Ac:e,methodName:i,Dc:l,path:yn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function i0(a){const e=a._freezeSettings(),i=bc(a._databaseId);return new Hb(a._databaseId,!!e.ignoreUndefinedProperties,i)}function Gb(a,e,i,l,o,h={}){const d=a.Cc(h.merge||h.mergeFields?2:0,e,i,o);Fd("Data must be an object, but it was:",d,l);const g=s0(l,d);let v,_;if(h.merge)v=new Yn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const S=[];for(const D of h.mergeFields){const V=fd(e,D,i);if(!d.contains(V))throw new At(nt.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);l0(S,V)||S.push(V)}v=new Yn(S),_=d.fieldTransforms.filter(D=>v.covers(D.field))}else v=null,_=d.fieldTransforms;return new qb(new Un(g),v,_)}class Vc extends Qd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vc}}function Qb(a,e,i,l){const o=a.Cc(1,e,i);Fd("Data must be an object, but it was:",o,l);const h=[],d=Un.empty();$s(l,(v,_)=>{const S=Xd(e,v,i);_=Qs(_);const D=o.yc(S);if(_ instanceof Vc)h.push(S);else{const V=Nc(_,D);V!=null&&(h.push(S),d.set(S,V))}});const g=new Yn(h);return new e0(d,g,o.fieldTransforms)}function Yb(a,e,i,l,o,h){const d=a.Cc(1,e,i),g=[fd(e,l,i)],v=[o];if(h.length%2!=0)throw new At(nt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<h.length;V+=2)g.push(fd(e,h[V])),v.push(h[V+1]);const _=[],S=Un.empty();for(let V=g.length-1;V>=0;--V)if(!l0(_,g[V])){const j=g[V];let X=v[V];X=Qs(X);const tt=d.yc(j);if(X instanceof Vc)_.push(j);else{const H=Nc(X,tt);H!=null&&(_.push(j),S.set(j,H))}}const D=new Yn(_);return new e0(S,D,d.fieldTransforms)}function Nc(a,e){if(a0(a=Qs(a)))return Fd("Unsupported field value:",e,a),s0(a,e);if(a instanceof Qd)return function(l,o){if(!n0(o.Ac))throw o.Sc(`${l._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${l._methodName}() is not currently supported inside arrays`);const h=l._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(l,o){const h=[];let d=0;for(const g of l){let v=Nc(g,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}}(a,e)}return function(l,o){if((l=Qs(l))===null)return{nullValue:"NULL_VALUE"};if(typeof l=="number")return D1(o.serializer,l);if(typeof l=="boolean")return{booleanValue:l};if(typeof l=="string")return{stringValue:l};if(l instanceof Date){const h=Se.fromDate(l);return{timestampValue:cc(o.serializer,h)}}if(l instanceof Se){const h=new Se(l.seconds,1e3*Math.floor(l.nanoseconds/1e3));return{timestampValue:cc(o.serializer,h)}}if(l instanceof Li)return{geoPointValue:{latitude:l.latitude,longitude:l.longitude}};if(l instanceof ai)return{bytesValue:bv(o.serializer,l._byteString)};if(l instanceof Xe){const h=o.databaseId,d=l.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Vd(l.firestore._databaseId||o.databaseId,l._key.path)}}if(l instanceof Ui)return function(d,g){return{mapValue:{fields:{[W_]:{stringValue:tv},[ac]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Id(g.serializer,_)})}}}}}}(l,o);throw o.Sc(`Unsupported field value: ${Td(l)}`)}(a,e)}function s0(a,e){const i={};return F_(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$s(a,(l,o)=>{const h=Nc(o,e.mc(l));h!=null&&(i[l]=h)}),{mapValue:{fields:i}}}function a0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Se||a instanceof Li||a instanceof ai||a instanceof Xe||a instanceof Qd||a instanceof Ui)}function Fd(a,e,i){if(!a0(i)||!Q_(i)){const l=Td(i);throw l==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+l)}}function fd(a,e,i){if((e=Qs(e))instanceof Cc)return e._internalPath;if(typeof e=="string")return Xd(a,e);throw mc("Field path arguments must be of type string or ",a,!1,void 0,i)}const Fb=new RegExp("[~\\*/\\[\\]]");function Xd(a,e,i){if(e.search(Fb)>=0)throw mc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Cc(...e.split("."))._internalPath}catch{throw mc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function mc(a,e,i,l,o){const h=l&&!l.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${l}`),d&&(v+=` in document ${o}`),v+=")"),new At(nt.INVALID_ARGUMENT,g+a+v)}function l0(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,i,l,o,h){this._firestore=e,this._userDataWriter=i,this._key=l,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Xb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(o0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Xb extends r0{data(){return super.data()}}function o0(a,e){return typeof e=="string"?Xd(a,e):e instanceof Cc?e._internalPath:e._delegate._internalPath}class Kb{convertValue(e,i="none"){switch(Ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ot(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const l={};return $s(e,(o,h)=>{l[o]=this.convertValue(h,i)}),l}convertVectorValue(e){const i=e.fields?.[ac].arrayValue?.values?.map(l=>Be(l.doubleValue));return new Ui(i)}convertGeoPoint(e){return new Li(Be(e.latitude),Be(e.longitude))}convertArray(e,i){return(e.values||[]).map(l=>this.convertValue(l,i))}convertServerTimestamp(e,i){switch(i){case"previous":const l=yc(e);return l==null?null:this.convertValue(l,i);case"estimate":return this.convertTimestamp(oo(e));default:return null}}convertTimestamp(e){const i=Fs(e);return new Se(i.seconds,i.nanos)}convertDocumentKey(e,i){const l=Ae.fromString(e);ue(Vv(l),9688,{name:e});const o=new uo(l.get(1),l.get(3)),h=new Dt(l.popFirst(5));return o.isEqual(i)||us(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(a,e,i){let l;return l=a?a.toFirestore(e):e,l}class Jr{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Na extends r0{constructor(e,i,l,o,h,d){super(e,i,l,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const l=this._document.data.field(o0("DocumentSnapshot.get",e));if(l!==null)return this._userDataWriter.convertValue(l,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new At(nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Na._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Na._jsonSchemaVersion="firestore/documentSnapshot/1.0",Na._jsonSchema={type:Fe("string",Na._jsonSchemaVersion),bundleSource:Fe("string","DocumentSnapshot"),bundleName:Fe("string"),bundle:Fe("string")};class Zu extends Na{data(e={}){return super.data(e)}}class io{constructor(e,i,l,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Jr(o.hasPendingWrites,o.fromCache),this.query=l}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(l=>{e.call(i,new Zu(this._firestore,this._userDataWriter,l.key,l,new Jr(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new At(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const v=new Zu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Jr(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const v=new Zu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Jr(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,S=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:Jb(g.type),doc:v,oldIndex:_,newIndex:S}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new At(nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=io._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],l=[],o=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),l.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Jb(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ot(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(a){a=Oa(a,Xe);const e=Oa(a.firestore,Dc);return Ub(t0(e),a._key).then(i=>n2(e,a,i))}io._jsonSchemaVersion="firestore/querySnapshot/1.0",io._jsonSchema={type:Fe("string",io._jsonSchemaVersion),bundleSource:Fe("string","QuerySnapshot"),bundleName:Fe("string"),bundle:Fe("string")};class Wb extends Kb{constructor(e){super(),this.firestore=e}convertBytes(e){return new ai(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Xe(this.firestore,null,i)}}function t2(a,e,i){a=Oa(a,Xe);const l=Oa(a.firestore,Dc),o=Zb(a.converter,e);return u0(l,[Gb(i0(l),"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,Oi.none())])}function e2(a,e,i,...l){a=Oa(a,Xe);const o=Oa(a.firestore,Dc),h=i0(o);let d;return d=typeof(e=Qs(e))=="string"||e instanceof Cc?Yb(h,"updateDoc",a._key,e,i,l):Qb(h,"updateDoc",a._key,e),u0(o,[d.toMutation(a._key,Oi.exists(!0))])}function u0(a,e){return function(l,o){const h=new Hs;return l.asyncQueue.enqueueAndForget(async()=>Ab(await Mb(l),o,h)),h.promise}(t0(a),e)}function n2(a,e,i){const l=i.docs.get(e._key),o=new Wb(a);return new Na(a,o,e._key,l,new Jr(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){jl=o})(RA),nc(new ao("firestore",(l,{instanceIdentifier:o,options:h})=>{const d=l.getProvider("app").getImmediate(),g=new Dc(new BA(l.getProvider("auth-internal")),new qA(d,l.getProvider("app-check-internal")),function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new At(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uo(_.options.projectId,S)}(d,o),d);return h={useFetchStreams:i,...h},g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),Nl(Vy,Ny,e),Nl(Vy,Ny,"esm2020")})();var i2="firebase",s2="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nl(i2,s2,"app");const a2={apiKey:"AIzaSyDL8XA6JF2L5pyz6hZPkYxCLIdwTJCR4-Y",authDomain:"kazoom-layitout.firebaseapp.com",projectId:"kazoom-layitout",storageBucket:"kazoom-layitout.firebasestorage.app",messagingSenderId:"1054171031364",appId:"1:1054171031364:web:ffc4a80699a6c297aa9911"},l2=O_(a2);function r2(){return[]}function c0(){return new so({name:"Local Area",id:"vY4BHs3ebZZ1MUnqTEi7",templates:r2(),inventoryItems:[new li({quantity:60,item:new ie({id:"1",name:"Chair",cellsLong:2,cellsTall:2,icon:"https://github.com/TrackerJo/LayItOut/blob/main/src/assets/Chair.png?raw=true",displayItem:!0})}),new li({quantity:4,item:new ie({id:"2",name:"Table",cellsLong:8,cellsTall:4,icon:"https://github.com/TrackerJo/LayItOut/blob/main/src/assets/rectangle_Table.png?raw=true",displayItem:!0})}),new li({quantity:8,item:new ie({id:"3",name:"Rounded Table",cellsLong:4,cellsTall:4,icon:"https://github.com/TrackerJo/LayItOut/blob/main/src/assets/rounded_table.png?raw=true",displayItem:!0})})],sections:[new Le({cellId:new Lt({x:0,y:200}),cellsLong:500,cellsTall:300,startingItems:[new Vi({cell:new Lt({x:0,y:0}),item:new ie({id:"Table2",name:"Table",cellsLong:8,cellsTall:4,icon:"https://github.com/TrackerJo/LayItOut/blob/main/src/assets/rectangle_Table.png?raw=true",starterItem:!0,rotation:1})})],name:"Main Area"}),new Le({cellId:new Lt({x:500,y:200}),cellsLong:300,cellsTall:200,startingItems:[],name:"Outdoor Area"}),new Le({cellId:new Lt({x:400,y:0}),cellsLong:100,cellsTall:200,startingItems:[],name:"Hallway"}),new Le({cellId:new Lt({x:500,y:0}),cellsLong:300,cellsTall:200,startingItems:[],name:"Veranda"}),new Le({cellId:new Lt({x:0,y:500}),cellsLong:300,cellsTall:100,startingItems:[],name:"Kitchen"})]})}const o2=Bb(l2),Kd=Pb(o2,"companies");async function u2(a,e){{const i=Bl(Kd,a),l=Bl(i,"areas",e),o=await $b(l);if(o.exists()){const h=o.data();return so.fromDoc(h)}else return console.error("No such area document!"),c0()}}async function c2(a,e){{const i=Bl(Kd,a),l=Bl(i,"areas",e.id);await t2(l,e.toDoc())}}async function h2(a,e,i){{const l=Bl(Kd,a),o=Bl(l,"areas",e);await e2(o,{templates:i.map(h=>h.toDoc())})}}function f2(){const[a,e]=mt.useState(/Mobi|Android/i.test(navigator.userAgent)),[i,l]=mt.useState(0),[o,h]=mt.useState(0),[d,g]=mt.useState([]),[v,_]=mt.useState([]),[S,D]=mt.useState(0),[V,j]=mt.useState(null),[X,tt]=mt.useState([]),H=/Mobi|Android/i.test(navigator.userAgent)?5:10,[at,lt]=mt.useState([]),ct=mt.useRef(null),[Nt,vt]=mt.useState(!1),[Et,N]=mt.useState([]),[A,R]=mt.useState([]),[b,x]=mt.useState([]),[M,I]=mt.useState(!1),be=mt.useRef(null),[_e,Q]=mt.useState([]),[ot,_t]=mt.useState([]),[It,C]=mt.useState(null),[J,dt]=mt.useState(!1),[st,St]=mt.useState(!1),[Ut,wt]=mt.useState(""),[ve,re]=mt.useState(""),[Tt,jt]=mt.useState(""),[zt,qt]=mt.useState(!0),[Ce,Zt]=mt.useState(null),Ve=mt.useRef(null);function ke(L,F){for(const rt of F)if(L.x>=rt.cellId.x&&L.x<rt.cellId.x+rt.cellsLong&&L.y>=rt.cellId.y&&L.y<rt.cellId.y+rt.cellsTall)return rt;return null}function je(L){N([...L.map(it=>new Le({name:it.name,cellId:new Lt({x:it.cellId.x/2,y:it.cellId.y/2}),cellsLong:it.cellsLong/2,cellsTall:it.cellsTall/2,startingItems:[]}))]);let F=i,rt=o;if(a){let it=0;const Rt=[],ht=[];for(const z of L){const ut=[],Pt={width:z.cellsLong*H,height:z.cellsTall*H,sectionName:z.name};Pt.height>it&&(it=Pt.height),Q(we=>[...we,Pt]),z.cellId.x=0,z.cellId.y=0,[...Array(Pt.height/H).keys()].map(we=>{const ne=[];[...Array(Pt.width/H).keys()].map(ce=>{ne.push({id:new Lt({x:ce,y:we}),hasItem:!1,itemId:"",mouseOver:!1,canPlaceItem:!1,mouseOverLocation:"",inSection:!0,size:H})}),ut.push(ne)}),Rt.push({sectionName:z.name,cells:[...ut]}),ht.push(z)}_t(Rt),R(ht),D(it),C(L[0]?L[0].name:null),setTimeout(()=>{qt(!1)},500)}else{const it=[];for(const Rt of L)console.log("Generating cells for section",Rt.name,"at",Rt.cellId,"with size",Rt.cellsLong,"x",Rt.cellsTall),console.log("Needed section Width:",(Rt.cellsLong+Rt.cellId.x)*H,"Current width:",F),(Rt.cellsLong+Rt.cellId.x)*H>F&&(console.log("Added section Width:",Rt.cellsLong*H+Rt.cellId.x),F+=(Rt.cellsLong+Rt.cellId.x)*H-F),console.log("Needed section Height:",(Rt.cellsTall+Rt.cellId.y)*H,"Current height:",rt),(Rt.cellsTall+Rt.cellId.y)*H>rt&&(console.log("Added section Height:",Rt.cellsTall*H+Rt.cellId.y),rt+=(Rt.cellsTall+Rt.cellId.y)*H-rt);l(F),h(rt),[...Array(rt/H).keys()].map(Rt=>{const ht=[];[...Array(F/H).keys()].map(z=>{ht.push({id:new Lt({x:z,y:Rt}),hasItem:!1,itemId:"",mouseOver:!1,canPlaceItem:!1,mouseOverLocation:"",inSection:ke(new Lt({x:z,y:Rt}),L)!=null,size:H})}),it.push(ht)}),g([...it]),setTimeout(()=>{const Rt=[],ht=[...L];for(const z of ht)z.cellElement=document.querySelector(`.App #${z.cellId.toId()}.cell:not(.cell-border)`),Rt.push(...z.startingItems.map(ut=>new Vi({cell:new Lt({x:z.cellId.x+ut.cell.x,y:z.cellId.y+ut.cell.y}),item:new ie({id:ut.item.id,name:ut.item.name,cellsLong:ut.item.cellsLong,cellsTall:ut.item.cellsTall,icon:ut.item.icon,initialElement:document.querySelector(`.App #${ut.cell.toId()}.cell:not(.cell-border)`),starterItem:!0,moveable:ut.item.moveable,rotation:ut.item.rotation||0})})));R([...ht]);for(const z of Rt){const ut=ne=>{const ce=ne%2===1;return{cellsLong:ce?z.item.cellsTall:z.item.cellsLong,cellsTall:ce?z.item.cellsLong:z.item.cellsTall}},Pt=z.item.rotation||0,we=ut(Pt);for(let ne=0;ne<we.cellsTall;ne++)for(let ce=0;ce<we.cellsLong;ce++)it[z.cell.y+ne][z.cell.x+ce].hasItem=!0,it[z.cell.y+ne][z.cell.x+ce].itemId=z.item.id;z.item.initialElement=document.querySelector(`.App #${z.cell.toId()}.cell:not(.cell-border)`),_(ne=>[...ne,z.item])}g([...it]),setTimeout(()=>{qt(!1)},500)},100)}}async function vn(){const L=new URLSearchParams(window.location.search),F=L.get("companyId"),rt=L.get("areaId"),it=L.get("areaId")||"",Rt=L.get("companyId")||"",ht=L.get("templateId")||"",z=await u2(Rt,it),ut=L.get("type")||"";if(ut==="create-template")dt(!0);else if(ut==="edit-template"){St(!0);const pt=z.templates.find(Ct=>Ct.id===ht);pt&&(Zt(pt),wt(pt.name))}F&&re(F),rt&&jt(rt),lt(z.inventoryItems.map(pt=>new li({item:new ie({id:pt.item.id,name:pt.item.name,cellsLong:pt.item.cellsLong,cellsTall:pt.item.cellsTall,icon:pt.item.icon,initialElement:pt.item.initialElement,moveable:pt.item.moveable,starterItem:pt.item.starterItem,displayItem:!0}),quantity:pt.quantity})));const Pt=[],we=[];for(const pt of z.templates){const Ct=[],oi=[];for(const Ke of pt.sections)Ct.push(new Le({name:Ke.name,cellId:new Lt({x:Ke.cellId.x/(a?20:10),y:Ke.cellId.y/(a?20:10)}),cellsLong:Ke.cellsLong/(a?20:10),cellsTall:Ke.cellsTall/(a?20:10),startingItems:Ke.startingItems.map(Te=>new Vi({cell:new Lt({x:Te.cell.x/(a?2:1),y:Te.cell.y/(a?2:1)}),item:new ie({id:Te.item.id,name:Te.item.name,cellsLong:Te.item.cellsLong/2,cellsTall:Te.item.cellsTall/2,icon:Te.item.icon,starterItem:!0,moveable:Te.item.moveable})}))})),oi.push(new Le({name:Ke.name,cellId:new Lt({x:Ke.cellId.x,y:Ke.cellId.y}),cellsLong:Ke.cellsLong,cellsTall:Ke.cellsTall,startingItems:Ke.startingItems.map(Te=>new Vi({cell:new Lt({x:Te.cell.x,y:Te.cell.y}),item:new ie({id:Te.item.id,name:Te.item.name,cellsLong:Te.item.cellsLong,cellsTall:Te.item.cellsTall,icon:Te.item.icon,starterItem:!0,moveable:Te.item.moveable})}))}));Pt.push(new Ni({name:pt.name,sections:Ct,id:pt.id})),we.push(new Ni({name:pt.name,sections:oi,id:pt.id}))}x([...Pt]);const ne=[],ce=ht===""?void 0:we.find(pt=>pt.id===ht);console.log("TEMPLATE",ce,"AREA",z),ce!==void 0?(N([...ce.sections]),R([...ce.sections.map(pt=>new Le({name:pt.name,cellId:new Lt({x:pt.cellId.x/10,y:pt.cellId.y/10}),cellsLong:pt.cellsLong/10,cellsTall:pt.cellsTall/10,startingItems:pt.startingItems,items:pt.startingItems.map(Ct=>new ie({id:Ct.item.id,name:Ct.item.name,sectionCell:Ct.cell,cellsLong:Ct.item.cellsLong,cellsTall:Ct.item.cellsTall,icon:Ct.item.icon,moveable:Ct.item.moveable,starterItem:Ct.item.starterItem,rotation:Ct.item.rotation}))}))]),ne.push(...ce.sections.map(pt=>new Le({name:pt.name,cellId:new Lt({x:pt.cellId.x/10,y:pt.cellId.y/10}),cellsLong:pt.cellsLong/10,cellsTall:pt.cellsTall/10,startingItems:pt.startingItems,items:pt.startingItems.map(Ct=>new ie({id:Ct.item.id,name:Ct.item.name,cellsLong:Ct.item.cellsLong,cellsTall:Ct.item.cellsTall,icon:Ct.item.icon,moveable:Ct.item.moveable,starterItem:Ct.item.starterItem,rotation:Ct.item.rotation,sectionCell:Ct.cell}))})))):(N([...z.sections]),R([...z.sections.map(pt=>new Le({name:pt.name,cellId:new Lt({x:pt.cellId.x/10,y:pt.cellId.y/10}),cellsLong:pt.cellsLong/10,cellsTall:pt.cellsTall/10,startingItems:pt.startingItems,items:pt.startingItems.map(Ct=>new ie({id:Ct.item.id,name:Ct.item.name,sectionCell:Ct.cell,cellsLong:Ct.item.cellsLong,cellsTall:Ct.item.cellsTall,icon:Ct.item.icon,moveable:Ct.item.moveable,starterItem:Ct.item.starterItem,rotation:Ct.item.rotation}))}))]),ne.push(...z.sections.map(pt=>new Le({name:pt.name,cellId:new Lt({x:pt.cellId.x/10,y:pt.cellId.y/10}),cellsLong:pt.cellsLong/10,cellsTall:pt.cellsTall/10,startingItems:pt.startingItems,items:pt.startingItems.map(Ct=>new ie({id:Ct.item.id,name:Ct.item.name,sectionCell:Ct.cell,cellsLong:Ct.item.cellsLong,cellsTall:Ct.item.cellsTall,icon:Ct.item.icon,moveable:Ct.item.moveable,starterItem:Ct.item.starterItem,rotation:Ct.item.rotation}))})))),console.log("SECTIONS TO GENERATE",ne),je(ne)}mt.useEffect(()=>{vn();async function L(){const F=c0();c2("dMjfwNN0XFes0WxUH8h1",F)}L()},[]);function wn(L,F,rt){if(!a||L==null)return;const it=[...rt],Rt=[],ht=rt.find(z=>z.name==L);console.log("NEW SECTION",ht),console.log("Adding section",ht.name,ht.cellId),console.log("MOBILE CELLS",F),ht.cellElement=document.querySelector(`.App #${ht.name.split(" ").join("-")} #${ht.name.split(" ").join("")}${ht.cellId.toId()}.cell:not(.cell-border)`),console.log("Section element found",ht.cellElement);for(const z of ht.startingItems){console.log("Placing starting item",z.item.name,z.cell);const ut=ne=>{const ce=ne%2===1;return{cellsLong:ce?z.item.cellsTall:z.item.cellsLong,cellsTall:ce?z.item.cellsLong:z.item.cellsTall}},Pt=z.item.rotation||0,we=ut(Pt);for(let ne=0;ne<we.cellsTall;ne++)for(let ce=0;ce<we.cellsLong;ce++){const pt=F.find(Ct=>Ct.sectionName===ht.name);pt.cells[z.cell.y+ne][z.cell.x+ce].hasItem=!0,pt.cells[z.cell.y+ne][z.cell.x+ce].itemId=z.item.id}z.item.initialElement=document.querySelector(`.App #${ht.name.split(" ").join("-")} #${ht.name.split(" ").join("")}${z.cell.toId()}.cell:not(.cell-border)`),console.log("Adding item to items",z.item.initialElement),Rt.push(new ie({id:z.item.id,name:z.item.name,cellsLong:z.item.cellsLong,cellsTall:z.item.cellsTall,icon:z.item.icon,initialElement:z.item.initialElement,starterItem:!0,moveable:z.item.moveable,rotation:z.item.rotation}))}console.log("Setting sections",it),R([...it]),console.log("ITEMS",Rt),_(z=>[...z.filter(Pt=>!Rt.some(we=>we.id===Pt.id)),...Rt.map(Pt=>new ie({id:Pt.id,name:Pt.name,cellsLong:Pt.cellsLong,cellsTall:Pt.cellsTall,icon:Pt.icon,initialElement:Pt.initialElement,starterItem:!0,moveable:Pt.moveable,rotation:Pt.rotation}))])}function Nn(L){let F=[];return L.map(rt=>F=[...F,...rt]),F}function zn(L,F){console.log(L);const rt=a?ot.find(z=>z.sectionName===It).cells:d,it=rt[L.y].length,Rt=rt.length;if(console.log(it,Rt),L.x+F.cellsLong>it||L.y+F.cellsTall>Rt)return!1;const ht=ke(L,A);if(!ht&&!a)return console.log("Item is out of bounds of any section"),!1;for(let z=0;z<F.cellsTall;z++)for(let ut=0;ut<F.cellsLong;ut++){if(!a){const Pt=ke(new Lt({x:L.x+ut,y:L.y+z}),A);if(!Pt)return console.log("Item is out of bounds of any section"),!1;if(Pt.name!=ht.name)return console.log("Item is crossing section boundaries"),!1}if(rt[L.y+z][L.x+ut].hasItem&&rt[L.y+z][L.x+ut].itemId!=F.id)return console.log("Something is already here"),!1}return!0}function hs(L,F,rt){const it=Array.from(a?ot.find(z=>z.sectionName===It).cells:d);if(rt!=null){console.log("Removing item");const z=a?A.find(ut=>ut.name===It):ke(rt,A);z.items=z.items.filter(ut=>ut.id!=F.id);for(let ut=0;ut<F.cellsTall;ut++)for(let Pt=0;Pt<F.cellsLong;Pt++)it[rt.y+ut][rt.x+Pt].hasItem=!1,it[rt.y+ut][rt.x+Pt].itemId=""}const Rt=a?A.find(z=>z.name===It):ke(L,A),ht=new Lt({x:L.x-Rt.cellId.x,y:L.y-Rt.cellId.y});F.sectionCell=ht,Rt.items.push(F);for(let z=0;z<F.cellsTall;z++)for(let ut=0;ut<F.cellsLong;ut++)it[L.y+z][L.x+ut].hasItem=!0,it[L.y+z][L.x+ut].itemId=F.id;if(console.log(it),a){const z=ot.find(ut=>ut.sectionName===It);z&&(z.cells=it.map(ut=>ut.map(Pt=>({...Pt}))),_t([...ot]))}else g(it);if(console.log("Removing item from inventory",F.name),!F.hasMoved){const z=at.findIndex(ut=>ut.item.name==F.name&&!ut.item.hasMoved);if(z!==-1){const ut=[...at];ut[z].quantity-=1,ut[z].quantity<=0&&ut.splice(z,1),lt(ut)}else lt(at)}_(z=>(console.log("Placing item",F.id),console.log("Updating item",F.id),z.find(ut=>ut.id==F.id).hasMoved||(z.find(ut=>ut.id==F.id).hasMoved=!0),z))}function ri(L){v.find(F=>F.name==L.name&&!F.hasMoved&&!F.starterItem)||_(F=>[...F,L])}function fs(L){console.log("Removing item",L.id),_(F=>F.filter(rt=>rt.id!=L.id))}function za(L,F){const rt=Array.from(d),it=z=>{const ut=z%2===1;return{cellsWide:ut?L.cellsTall:L.cellsLong,cellsTall:ut?L.cellsLong:L.cellsTall}},Rt=L.rotation||0,ht=it(Rt);for(let z=0;z<ht.cellsTall;z++)for(let ut=0;ut<ht.cellsWide;ut++)rt[F.y+z][F.x+ut].hasItem=!1,rt[F.y+z][F.x+ut].itemId="";g(rt),console.log("DELETING ITEM",L.id),_(z=>(console.log(),z.filter(ut=>ut.id!=L.id))),lt(z=>{const ut=z.findIndex(Pt=>Pt.item.name==L.name&&!Pt.item.hasMoved);if(ut!==-1){const Pt=[...z];return Pt[ut].quantity+=1,Pt}else return[...z,new li({item:new ie({id:L.id,name:L.name,cellsLong:ht.cellsWide,cellsTall:ht.cellsTall,icon:L.icon}),quantity:1})]})}function Re(L,F){const rt=Array.from(a?ot.find(z=>z.sectionName===It).cells:d);console.log("DELETING ITEM ROTATE",L.id,L.rotation);const it=z=>{const ut=z%2===1;return{cellsWide:ut?L.cellsTall:L.cellsLong,cellsTall:ut?L.cellsLong:L.cellsTall}},Rt=L.rotation||0,ht=it(Rt);for(let z=0;z<ht.cellsTall;z++)for(let ut=0;ut<ht.cellsWide;ut++)console.log("Deleting cell",F.y+z,F.x+ut),rt[F.y+z][F.x+ut].hasItem=!1,rt[F.y+z][F.x+ut].itemId="";g([...rt]),console.log("DELETING ITEM",L.id)}function ae(L,F){const rt=a?ot.find(ht=>ht.sectionName===It).cells:d,it=Array.from(rt);if(rt[L.y]==null){Tn();return}const Rt=zn(L,F);it.forEach(ht=>ht.forEach(z=>{z.mouseOver=!1,z.canPlaceItem=!1,z.mouseOverLocation=""}));for(let ht=0;ht<F.cellsTall;ht++)for(let z=0;z<F.cellsLong;z++)L.y+ht<it.length&&L.x+z<it[L.y+ht].length&&(F.cellsLong===1&&F.cellsTall===1?it[L.y+ht][L.x+z].mouseOverLocation="single":F.cellsTall===1?z===0?it[L.y+ht][L.x+z].mouseOverLocation="leftFull":z===F.cellsLong-1?it[L.y+ht][L.x+z].mouseOverLocation="rightFull":it[L.y+ht][L.x+z].mouseOverLocation="middleFull":F.cellsLong===1?ht===0?it[L.y+ht][L.x+z].mouseOverLocation="topFull":ht===F.cellsTall-1?it[L.y+ht][L.x+z].mouseOverLocation="bottomFull":it[L.y+ht][L.x+z].mouseOverLocation="middleVFull":ht===0&&z===0?it[L.y+ht][L.x+z].mouseOverLocation="topLeftCorner":ht===0&&z===F.cellsLong-1?it[L.y+ht][L.x+z].mouseOverLocation="topRightCorner":ht===F.cellsTall-1&&z===0?it[L.y+ht][L.x+z].mouseOverLocation="bottomLeftCorner":ht===F.cellsTall-1&&z===F.cellsLong-1?it[L.y+ht][L.x+z].mouseOverLocation="bottomRightCorner":ht===0?it[L.y+ht][L.x+z].mouseOverLocation="top":ht===F.cellsTall-1?it[L.y+ht][L.x+z].mouseOverLocation="bottom":z===0?it[L.y+ht][L.x+z].mouseOverLocation="left":z===F.cellsLong-1?it[L.y+ht][L.x+z].mouseOverLocation="right":it[L.y+ht][L.x+z].mouseOverLocation="middle",it[L.y+ht][L.x+z].mouseOver=!0,it[L.y+ht][L.x+z].canPlaceItem=Rt);if(a){const ht=ot.find(z=>z.sectionName===It);ht&&(ht.cells=it.map(z=>z.map(ut=>({...ut}))),_t([...ot])),_t(z=>z.map(ut=>ut.sectionName===It?{...ut,cells:it}:ut))}else g(it)}function Tn(){const L=Array.from(a?ot.find(F=>F.sectionName===It).cells:d);L.forEach(F=>F.forEach(rt=>{rt.mouseOver=!1,rt.canPlaceItem=!1,rt.mouseOverLocation=""})),g(L)}mt.useEffect(()=>{wn(It,ot,A)},[It]),mt.useEffect(()=>{const L=()=>{const F=v.find(rt=>rt.id===V);console.log("Unselecting item",V),j(null),F&&(tt(rt=>[...rt,F.id]),console.log("Unselecting item",F.id),setTimeout(()=>{tt(rt=>rt.filter(it=>it!==F.id))},300))};return document.addEventListener("click",L),()=>document.removeEventListener("click",L)},[V,v]);function sn(L){j(null),tt(F=>[...F,L]),console.log("Unselecting item",L),setTimeout(()=>{tt(F=>F.filter(rt=>rt!==L))},300)}function Pa(L){const F=v.find(rt=>rt.id===V);console.log("Unselecting item",V),j(L),F&&(tt(rt=>[...rt,F.id]),console.log("Unselecting item",F.id),setTimeout(()=>{tt(rt=>rt.filter(it=>it!==F.id))},300))}function Ql(L){lt(F=>[...F,L])}return et.jsxs(et.Fragment,{children:[et.jsxs("div",{className:"App",children:[et.jsx("h1",{className:"title",children:"LayItOut"}),et.jsx("br",{}),(J||st)&&et.jsxs("div",{className:"template-name-row",children:[et.jsx("label",{htmlFor:"template-name",children:"Template Name:"}),et.jsx("input",{type:"text",id:"template-name",name:"template-name",onChange:L=>wt(L.target.value),value:Ut})]}),(J||st)&&et.jsxs("div",{className:"template-creation",children:[et.jsxs("button",{className:"action-btn",onClick:()=>{if(Ut.trim()==""){alert("Please enter a template name");return}if(b.some(L=>L.name===Ut&&(st?L.id!==Ce.id:!0))){alert("Template with this name already exists");return}if(st){const L=b.map(F=>F.id===Ce.id?(console.log("SECTION",A),new Ni({name:Ut,sections:A.map(rt=>new Le({name:rt.name,cellId:new Lt({x:F.sections.find(it=>it.name==rt.name).cellId.x*(a?20:10),y:F.sections.find(it=>it.name==rt.name).cellId.y*(a?20:10)}),cellsLong:rt.cellsLong*10,cellsTall:rt.cellsTall*10,startingItems:rt.items.map(it=>new Vi({cell:new Lt({x:it.sectionCell.x,y:it.sectionCell.y}),item:new ie({id:it.id,name:it.name,cellsLong:it.cellsLong,cellsTall:it.cellsTall,icon:it.icon,starterItem:!0,moveable:it.moveable})}))})),id:F.id})):new Ni({name:F.name,sections:F.sections.map(rt=>new Le({name:rt.name,cellId:new Lt({x:rt.cellId.x*(a?20:10),y:rt.cellId.y*(a?20:10)}),cellsLong:rt.cellsLong*(a?20:10),cellsTall:rt.cellsTall*(a?20:10),startingItems:rt.startingItems.map(it=>new Vi({cell:new Lt({x:it.cell.x*(a?2:1),y:it.cell.y*(a?2:1)}),item:new ie({id:it.item.id,name:it.item.name,cellsLong:it.item.cellsLong,cellsTall:it.item.cellsTall,icon:it.item.icon,starterItem:it.item.starterItem,moveable:it.item.moveable})}))})),id:F.id}));qt(!0),h2(ve,Tt,L).then(()=>{console.log("Template updated successfully"),qt(!1)})}},children:[J?"Create":"Save"," Template"]}),et.jsx("button",{className:"action-btn",onClick:()=>{dt(!1),x([]),N([]),R([]),_t([]),Q([]),C(null)},children:"Cancel"})]}),zt&&et.jsxs(et.Fragment,{children:[et.jsx("div",{className:"loader-backdrop"}),et.jsx("div",{className:"loader"})]})," ",et.jsxs("div",{className:"layout",children:[et.jsx(XT,{isEditingTemplate:st,isCreatingTemplate:J,maxHeight:a?200:o,showAddCustomItem:()=>{Ve.current?.showModal()},addDraggingItem:ri,removeItem:fs,inventoryItems:at.map(L=>new li({item:new ie({id:L.item.id,name:L.item.name,cellsLong:L.item.cellsLong,cellsTall:L.item.cellsTall,icon:L.item.icon,displayItem:!0}),quantity:L.quantity}))}),a?et.jsxs("div",{className:"mobile-areas",style:{height:S+"px"},children:[et.jsx("img",{src:$u,onClick:()=>{const L=A.findIndex(rt=>rt.name==It);if(L===-1)return;const F=(L-1+A.length)%A.length;C(A[F].name),console.log("Changing viewing section to",A[F].name)},className:"back-mobile-areas"}),_e.map((L,F)=>et.jsx(Ju,{width:L.width,height:L.height,cells:Nn(ot.find(rt=>rt.sectionName==L.sectionName).cells),id:L.sectionName,visibile:It==null?!0:L.sectionName==It,section:L.sectionName},F)),et.jsx("img",{src:$u,onClick:()=>{const L=A.findIndex(rt=>rt.name==It);if(L===-1)return;const F=(L+1)%A.length;C(A[F].name),console.log("Changing viewing section to",A[F].name)},className:"forward-mobile-areas"})]}):et.jsx(Ju,{width:i,height:o,cells:Nn(d)})]})]}),A.map(L=>et.jsx(md,{section:L,visible:It==null?!0:L.name==It,cellSize:H},L.cellId.toId())),v.map(L=>et.jsx(R_,{removeItem:fs,visible:a?!L.hasMoved&&!L.starterItem?!0:It==null?!1:L.starterItem?A.find(F=>F.name==It)?.startingItems.some(F=>F.item.id===L.id):A.find(F=>F.name==It)?.items.some(F=>F.id===L.id):!0,item:L,canPlaceItem:zn,placeItem:hs,deleteItemRotate:Re,highlightCells:ae,unHighlightCells:Tn,deleteItem:za,isSelected:V===L.id,onSelect:Pa,isUnselecting:X.includes(L.id),onDeselect:()=>sn(L.id)},L.id)),a&&!zt&&et.jsx("div",{className:"layout-icon",onClick:()=>{ct.current?.showModal(),vt(!0),console.log("Showing layout dialog")},children:et.jsx("img",{src:ZT,alt:""})}),!zt&&!(J||st)&&et.jsx("div",{className:"template-icon",onClick:()=>{be.current?.showModal(),I(!0),console.log("Showing template dialog")},children:et.jsx("img",{src:JT,alt:""})}),et.jsx($T,{dialogRef:be,isOpen:M,closeDialog:()=>{be.current?.close(),I(!1)},templates:b}),et.jsx(KT,{dialogRef:ct,isOpen:Nt,closeDialog:()=>{ct.current?.close(),vt(!1)},layoutSections:Et}),et.jsx(WT,{dialogRef:Ve,addInventoryItem:Ql,closeDialog:()=>{Ve.current?.close()}})]})}GT.createRoot(document.getElementById("root")).render(et.jsx(f2,{}));
