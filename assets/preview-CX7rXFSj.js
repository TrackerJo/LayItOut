import{c as He,j as m,r}from"./index-QIV6qY6h.js";import{A as de,S as Be,D as Ve}from"./section-B7tSJiIr.js";import{T as z,S as w,l as f,m as R,I as x,s as ge,D as ze,n as Ge,o as ue}from"./firestore-DkNIo3aX.js";import{T as Ce,F as fe,L as Je,a as Ye,b as Ke,c as Qe,A as Xe}from"./add_custom_item_dialog-C5K1_xfi.js";He.createRoot(document.getElementById("root")).render(m.jsx(Ze,{}));function Ze(){const[i,_e]=r.useState(!1),[ee,Ie]=r.useState(0),[G,ye]=r.useState(0),[S,v]=r.useState([]),[P,E]=r.useState([]),[pe,el]=r.useState(0),[j,C]=r.useState(null),[xe,N]=r.useState([]),p=10,[F,q]=r.useState([]),J=r.useRef(null),[he,le]=r.useState(!1),[M,Y]=r.useState([]),[g,W]=r.useState([]),[H,we]=r.useState([]),[Te,ne]=r.useState(!1),K=r.useRef(null),[Le,Se]=r.useState([]),[h,B]=r.useState([]),[u,Q]=r.useState(null),[k,ve]=r.useState(!1),[D,ll]=r.useState(!1),[O,nl]=r.useState(!1),[be,tl]=r.useState(!1),[ol,sl]=r.useState(!1),[Ee,al]=r.useState(!1),[X,cl]=r.useState(""),[A,je]=r.useState(""),[V,il]=r.useState(""),[$,ml]=r.useState(""),[te,rl]=r.useState(""),[Z,T]=r.useState(!0),[oe,dl]=r.useState(null),[se,L]=r.useState(!1),_=r.useRef(null);function U(e,n){for(const a of n)if(e.x>=a.cellId.x&&e.x<a.cellId.x+a.cellsLong&&e.y>=a.cellId.y&&e.y<a.cellId.y+a.cellsTall)return a;return null}function Ne(e){Y([...e.map(o=>new w({name:o.name,cellId:new f({x:o.cellId.x/2,y:o.cellId.y/2}),cellsLong:o.cellsLong/2,cellsTall:o.cellsTall/2,startingItems:[]}))]);let n=ee,a=G;const s=[];for(const o of e)console.log("Generating cells for section",o.name,"at",o.cellId,"with size",o.cellsLong,"x",o.cellsTall),console.log("Needed section Width:",(o.cellsLong+o.cellId.x)*p,"Current width:",n),(o.cellsLong+o.cellId.x)*p>n&&(console.log("Added section Width:",o.cellsLong*p+o.cellId.x),n+=(o.cellsLong+o.cellId.x)*p-n),console.log("Needed section Height:",(o.cellsTall+o.cellId.y)*p,"Current height:",a),(o.cellsTall+o.cellId.y)*p>a&&(console.log("Added section Height:",o.cellsTall*p+o.cellId.y),a+=(o.cellsTall+o.cellId.y)*p-a);Ie(n),ye(a),[...Array(a/p).keys()].map(o=>{const t=[];[...Array(n/p).keys()].map(l=>{t.push({id:new f({x:l,y:o}),hasItem:!1,itemId:"",mouseOver:!1,canPlaceItem:!1,mouseOverLocation:"",inSection:U(new f({x:l,y:o}),e)!=null,size:p})}),s.push(t)}),v([...s]),setTimeout(()=>{const o=[],t=[...e];for(const l of t)l.cellElement=document.querySelector(`.App #${l.cellId.toId()}.cell:not(.cell-border)`),o.push(...l.startingItems.map(c=>new R({cell:new f({x:l.cellId.x+c.cell.x,y:l.cellId.y+c.cell.y}),item:new x({id:c.item.id,name:c.item.name,cellsLong:c.item.cellsLong,cellsTall:c.item.cellsTall,icon:c.item.icon,initialElement:document.querySelector(`.App #${c.cell.toId()}.cell:not(.cell-border)`),starterItem:!0,moveable:c.item.moveable,rotation:c.item.rotation||0})})));W([...t]);for(const l of o){const c=I=>{const y=I%2===1;return{cellsLong:y?l.item.cellsTall:l.item.cellsLong,cellsTall:y?l.item.cellsLong:l.item.cellsTall}},d=l.item.rotation||0,b=c(d);for(let I=0;I<b.cellsTall;I++)for(let y=0;y<b.cellsLong;y++)s[l.cell.y+I][l.cell.x+y].hasItem=!0,s[l.cell.y+I][l.cell.x+y].itemId=l.item.id;l.item.initialElement=document.querySelector(`.App #${l.cell.toId()}.cell:not(.cell-border)`),E(I=>[...I,l.item])}v([...s]),setTimeout(()=>{T(!1),De()},500)},100)}async function De(e,n){T(!0),L(!0),setTimeout(async()=>{const a=document.getElementById("capture"),s=await domtoimage.toPng(a);L(!1),localStorage.setItem("screenshot",s),window.close()},500)}async function Oe(){new URLSearchParams(window.location.search);const e=[];let n=localStorage.getItem("screenshotSections");console.log("Screenshot sections from localStorage",n),n=n?.split("LAYOUTSEPARATOR")||"";const a=[];for(const s of n)console.log("Section string",s),a.push(w.fromJSON(s));Y([...a]),W([...a.map(s=>new w({name:s.name,cellId:new f({x:s.cellId.x/10,y:s.cellId.y/10}),cellsLong:s.cellsLong/10,cellsTall:s.cellsTall/10,startingItems:s.startingItems,items:s.startingItems.map(o=>new x({id:o.item.id,name:o.item.name,sectionCell:o.cell,cellsLong:o.item.cellsLong,cellsTall:o.item.cellsTall,icon:o.item.icon,moveable:o.item.moveable,starterItem:o.item.starterItem,rotation:o.item.rotation}))}))]),e.push(...a.map(s=>new w({name:s.name,cellId:new f({x:s.cellId.x/10,y:s.cellId.y/10}),cellsLong:s.cellsLong/10,cellsTall:s.cellsTall/10,startingItems:s.startingItems,items:s.startingItems.map(o=>new x({id:o.item.id,name:o.item.name,sectionCell:o.cell,cellsLong:o.item.cellsLong,cellsTall:o.item.cellsTall,icon:o.item.icon,moveable:o.item.moveable,starterItem:o.item.starterItem,rotation:o.item.rotation}))}))),console.log("SECTIONS TO GENERATE",e),Ne(e)}r.useEffect(()=>{Oe()},[]);function Ae(e,n,a){if(!i||e==null)return;const s=[...a],o=[],t=a.find(l=>l.name==e);console.log("NEW SECTION",t),console.log("Adding section",t.name,t.cellId),console.log("MOBILE CELLS",n),t.cellElement=document.querySelector(`.App #${t.name.split(" ").join("-")} #${t.name.split(" ").join("")}${t.cellId.toId()}.cell:not(.cell-border)`),console.log("Section element found",t.cellElement);for(const l of t.startingItems){console.log("Placing starting item",l.item.name,l.cell);const c=I=>{const y=I%2===1;return{cellsLong:y?l.item.cellsTall:l.item.cellsLong,cellsTall:y?l.item.cellsLong:l.item.cellsTall}},d=l.item.rotation||0,b=c(d);for(let I=0;I<b.cellsTall;I++)for(let y=0;y<b.cellsLong;y++){const re=n.find(We=>We.sectionName===t.name);re.cells[l.cell.y+I][l.cell.x+y].hasItem=!0,re.cells[l.cell.y+I][l.cell.x+y].itemId=l.item.id}l.item.initialElement=document.querySelector(`.App #${t.name.split(" ").join("-")} #${t.name.split(" ").join("")}${l.cell.toId()}.cell:not(.cell-border)`),console.log("Adding item to items",l.item.initialElement),o.push(new x({id:l.item.id,name:l.item.name,cellsLong:l.item.cellsLong,cellsTall:l.item.cellsTall,icon:l.item.icon,initialElement:l.item.initialElement,starterItem:!0,moveable:l.item.moveable,rotation:l.item.rotation}))}console.log("Setting sections",s),W([...s]),console.log("ITEMS",o),E(l=>[...l.filter(d=>!o.some(b=>b.id===d.id)),...o.map(d=>new x({id:d.id,name:d.name,cellsLong:d.cellsLong,cellsTall:d.cellsTall,icon:d.icon,initialElement:d.initialElement,starterItem:!0,moveable:d.moveable,rotation:d.rotation}))])}function ae(e){let n=[];return e.map(a=>n=[...n,...a]),n}function ce(e,n){console.log(e);const a=i?h.find(l=>l.sectionName===u).cells:S,s=a[e.y].length,o=a.length;if(console.log(s,o),e.x+n.cellsLong>s||e.y+n.cellsTall>o)return!1;const t=U(e,g);if(!t&&!i)return console.log("Item is out of bounds of any section"),!1;for(let l=0;l<n.cellsTall;l++)for(let c=0;c<n.cellsLong;c++){if(!i){const d=U(new f({x:e.x+c,y:e.y+l}),g);if(!d)return console.log("Item is out of bounds of any section"),!1;if(d.name!=t.name)return console.log("Item is crossing section boundaries"),!1}if(a[e.y+l][e.x+c].hasItem&&a[e.y+l][e.x+c].itemId!=n.id)return console.log("Something is already here"),!1}return!0}function Re(e,n,a){const s=Array.from(i?h.find(l=>l.sectionName===u).cells:S);if(a!=null){console.log("Removing item");const l=i?g.find(c=>c.name===u):U(a,g);l.items=l.items.filter(c=>c.id!=n.id);for(let c=0;c<n.cellsTall;c++)for(let d=0;d<n.cellsLong;d++)s[a.y+c][a.x+d].hasItem=!1,s[a.y+c][a.x+d].itemId=""}const o=i?g.find(l=>l.name===u):U(e,g),t=new f({x:e.x-o.cellId.x,y:e.y-o.cellId.y});n.sectionCell=t,o.items.push(n);for(let l=0;l<n.cellsTall;l++)for(let c=0;c<n.cellsLong;c++)s[e.y+l][e.x+c].hasItem=!0,s[e.y+l][e.x+c].itemId=n.id;if(console.log(s),i){const l=h.find(c=>c.sectionName===u);l&&(l.cells=s.map(c=>c.map(d=>({...d}))),B([...h]))}else v(s);if(console.log("Removing item from inventory",n.name),!n.hasMoved){const l=F.findIndex(c=>c.item.name==n.name&&!c.item.hasMoved);if(l!==-1){const c=[...F];c[l].quantity-=1,c[l].quantity<=0&&c.splice(l,1),q(c)}else q(F)}E(l=>(console.log("Placing item",n.id),console.log("Updating item",n.id),l.find(c=>c.id==n.id).hasMoved||(l.find(c=>c.id==n.id).hasMoved=!0),l))}function Pe(e){P.find(n=>n.name==e.name&&!n.hasMoved&&!n.starterItem)||E(n=>[...n,e])}function ie(e){console.log("Removing item",e.id),E(n=>n.filter(a=>a.id!=e.id))}function Me(e,n){const a=Array.from(S),s=l=>{const c=l%2===1;return{cellsWide:c?e.cellsTall:e.cellsLong,cellsTall:c?e.cellsLong:e.cellsTall}},o=e.rotation||0,t=s(o);for(let l=0;l<t.cellsTall;l++)for(let c=0;c<t.cellsWide;c++)a[n.y+l][n.x+c].hasItem=!1,a[n.y+l][n.x+c].itemId="";v(a),console.log("DELETING ITEM",e.id),E(l=>(console.log(),l.filter(c=>c.id!=e.id))),q(l=>{const c=l.findIndex(d=>d.item.name==e.name&&!d.item.hasMoved);if(c!==-1){const d=[...l];return d[c].quantity+=1,d}else return[...l,new ue({item:new x({id:e.id,name:e.name,cellsLong:t.cellsWide,cellsTall:t.cellsTall,icon:e.icon}),quantity:1})]})}function ke(e,n){const a=Array.from(i?h.find(l=>l.sectionName===u).cells:S);console.log("DELETING ITEM ROTATE",e.id,e.rotation);const s=l=>{const c=l%2===1;return{cellsWide:c?e.cellsTall:e.cellsLong,cellsTall:c?e.cellsLong:e.cellsTall}},o=e.rotation||0,t=s(o);for(let l=0;l<t.cellsTall;l++)for(let c=0;c<t.cellsWide;c++)console.log("Deleting cell",n.y+l,n.x+c),a[n.y+l][n.x+c].hasItem=!1,a[n.y+l][n.x+c].itemId="";v([...a]),console.log("DELETING ITEM",e.id)}function $e(e,n){const a=i?h.find(t=>t.sectionName===u).cells:S,s=Array.from(a);if(a[e.y]==null){me();return}const o=ce(e,n);s.forEach(t=>t.forEach(l=>{l.mouseOver=!1,l.canPlaceItem=!1,l.mouseOverLocation=""}));for(let t=0;t<n.cellsTall;t++)for(let l=0;l<n.cellsLong;l++)e.y+t<s.length&&e.x+l<s[e.y+t].length&&(n.cellsLong===1&&n.cellsTall===1?s[e.y+t][e.x+l].mouseOverLocation="single":n.cellsTall===1?l===0?s[e.y+t][e.x+l].mouseOverLocation="leftFull":l===n.cellsLong-1?s[e.y+t][e.x+l].mouseOverLocation="rightFull":s[e.y+t][e.x+l].mouseOverLocation="middleFull":n.cellsLong===1?t===0?s[e.y+t][e.x+l].mouseOverLocation="topFull":t===n.cellsTall-1?s[e.y+t][e.x+l].mouseOverLocation="bottomFull":s[e.y+t][e.x+l].mouseOverLocation="middleVFull":t===0&&l===0?s[e.y+t][e.x+l].mouseOverLocation="topLeftCorner":t===0&&l===n.cellsLong-1?s[e.y+t][e.x+l].mouseOverLocation="topRightCorner":t===n.cellsTall-1&&l===0?s[e.y+t][e.x+l].mouseOverLocation="bottomLeftCorner":t===n.cellsTall-1&&l===n.cellsLong-1?s[e.y+t][e.x+l].mouseOverLocation="bottomRightCorner":t===0?s[e.y+t][e.x+l].mouseOverLocation="top":t===n.cellsTall-1?s[e.y+t][e.x+l].mouseOverLocation="bottom":l===0?s[e.y+t][e.x+l].mouseOverLocation="left":l===n.cellsLong-1?s[e.y+t][e.x+l].mouseOverLocation="right":s[e.y+t][e.x+l].mouseOverLocation="middle",s[e.y+t][e.x+l].mouseOver=!0,s[e.y+t][e.x+l].canPlaceItem=o);if(i){const t=h.find(l=>l.sectionName===u);t&&(t.cells=s.map(l=>l.map(c=>({...c}))),B([...h])),B(l=>l.map(c=>c.sectionName===u?{...c,cells:s}:c))}else v(s)}function me(){const e=Array.from(i?h.find(n=>n.sectionName===u).cells:S);e.forEach(n=>n.forEach(a=>{a.mouseOver=!1,a.canPlaceItem=!1,a.mouseOverLocation=""})),v(e)}r.useEffect(()=>{Ae(u,h,g)},[u]),r.useEffect(()=>{const e=()=>{const n=P.find(a=>a.id===j);console.log("Unselecting item",j),C(null),n&&(N(a=>[...a,n.id]),console.log("Unselecting item",n.id),setTimeout(()=>{N(a=>a.filter(s=>s!==n.id))},300))};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[j,P]);function Ue(e){C(null),N(n=>[...n,e]),console.log("Unselecting item",e),setTimeout(()=>{N(n=>n.filter(a=>a!==e))},300)}function Fe(e){const n=P.find(a=>a.id===j);console.log("Unselecting item",j),C(e),n&&(N(a=>[...a,n.id]),console.log("Unselecting item",n.id),setTimeout(()=>{N(a=>a.filter(s=>s!==n.id))},300))}function qe(e){q(n=>[...n,e])}return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"App",children:[m.jsx("h1",{className:"title",children:"LayItOut"}),m.jsx("br",{}),(k||D)&&m.jsxs("div",{className:"template-name-row",children:[m.jsx("label",{htmlFor:"template-name",children:"Template Name:"}),m.jsx("input",{type:"text",id:"template-name",name:"template-name",onChange:e=>je(e.target.value),value:A})]}),O&&m.jsx("div",{className:"design-name-row",children:m.jsxs("label",{htmlFor:"design-name",children:["Design Name: ",X]})}),(k||D)&&m.jsxs("div",{className:"template-creation",children:[m.jsxs("button",{className:"action-btn",onClick:()=>{if(A.trim()==""){alert("Please enter a template name");return}if(H.some(e=>e.name===A&&(D?e.id!==oe.id:!0))){alert("Template with this name already exists");return}D?(T(!0),L(!0),setTimeout(async()=>{const e=document.getElementById("capture"),n=await domtoimage.toPng(e);L(!1);const a=H.map(s=>s.id===oe.id?(console.log("SECTION",g),new z({name:A,previewImage:n,sections:g.map(o=>new w({name:o.name,cellId:new f({x:s.sections.find(t=>t.name==o.name).cellId.x*(i?20:10),y:s.sections.find(t=>t.name==o.name).cellId.y*(i?20:10)}),cellsLong:o.cellsLong*10,cellsTall:o.cellsTall*10,startingItems:o.items.map(t=>new R({cell:new f({x:t.sectionCell.x,y:t.sectionCell.y}),item:new x({id:t.id,name:t.name,cellsLong:t.cellsLong,cellsTall:t.cellsTall,icon:t.icon,starterItem:!0,moveable:t.moveable,rotation:t.rotation})}))})),id:s.id})):new z({name:s.name,previewImage:s.previewImage,sections:s.sections.map(o=>new w({name:o.name,cellId:new f({x:o.cellId.x*(i?20:10),y:o.cellId.y*(i?20:10)}),cellsLong:o.cellsLong*(i?20:10),cellsTall:o.cellsTall*(i?20:10),startingItems:o.startingItems.map(t=>new R({cell:new f({x:t.cell.x*(i?2:1),y:t.cell.y*(i?2:1)}),item:new x({id:t.item.id,name:t.item.name,cellsLong:t.item.cellsLong*2,cellsTall:t.item.cellsTall*2,icon:t.item.icon,starterItem:t.item.starterItem,moveable:t.item.moveable,rotation:t.item.rotation})}))})),id:s.id}));ge(V,$,a).then(()=>{console.log("Template updated successfully"),T(!1);const s=new URLSearchParams(window.location.search),o=s.get("companyId"),t=s.get("areaId");window.location.href=`/LayItOut/Layout/?companyId=${o}&areaId=${t}&type=view-area`})})):(T(!0),L(!0),setTimeout(async()=>{const e=document.getElementById("capture"),n=await domtoimage.toPng(e);L(!1);const a=new z({name:A,previewImage:n,sections:g.map(o=>new w({name:o.name,cellId:new f({x:M.find(t=>t.name==o.name).cellId.x*20,y:M.find(t=>t.name==o.name).cellId.y*20}),cellsLong:o.cellsLong*10,cellsTall:o.cellsTall*10,startingItems:o.items.map(t=>new R({cell:new f({x:t.sectionCell.x,y:t.sectionCell.y}),item:new x({id:t.id,name:t.name,cellsLong:t.cellsLong,cellsTall:t.cellsTall,icon:t.icon,starterItem:!0,moveable:t.moveable,rotation:t.rotation})}))})),id:A+(Math.random()*1e4).toString()}),s=[...H.map(o=>new z({name:o.name,previewImage:o.previewImage,sections:o.sections.map(t=>new w({name:t.name,cellId:new f({x:t.cellId.x*(i?20:10),y:t.cellId.y*(i?20:10)}),cellsLong:t.cellsLong*(i?20:10),cellsTall:t.cellsTall*(i?20:10),startingItems:t.startingItems.map(l=>new R({cell:new f({x:l.cell.x*(i?2:1),y:l.cell.y*(i?2:1)}),item:new x({id:l.item.id,name:l.item.name,cellsLong:l.item.cellsLong*2,cellsTall:l.item.cellsTall*2,icon:l.item.icon,starterItem:l.item.starterItem,moveable:l.item.moveable,rotation:l.item.rotation})}))})),id:o.id})),a];ge(V,$,s).then(()=>{console.log("Template updated successfully"),T(!1);const o=new URLSearchParams(window.location.search),t=o.get("companyId"),l=o.get("areaId");window.location.href=`/LayItOut/Layout/?companyId=${t}&areaId=${l}&type=view-area`})},500))},children:[k?"Create":"Save"," Template"]}),m.jsx("button",{className:"action-btn",onClick:()=>{ve(!1),we([]),Y([]),W([]),B([]),Se([]),Q(null)},children:"Cancel"})]}),Ee&&m.jsxs("div",{className:"template-creation",children:[m.jsx("button",{className:"action-btn",onClick:()=>{T(!0),L(!0),setTimeout(async()=>{const e=document.getElementById("capture"),n=await domtoimage.toPng(e);L(!1);const a=new ze({name:X,previewImage:n,areaId:$,sections:g.map(s=>new w({name:s.name,cellId:new f({x:M.find(o=>o.name==s.name).cellId.x*20,y:M.find(o=>o.name==s.name).cellId.y*20}),cellsLong:s.cellsLong*10,cellsTall:s.cellsTall*10,startingItems:s.items.map(o=>new R({cell:new f({x:o.sectionCell.x,y:o.sectionCell.y}),item:new x({id:o.id,name:o.name,cellsLong:o.cellsLong,cellsTall:o.cellsTall,icon:o.icon,starterItem:!0,moveable:o.moveable,rotation:o.rotation})}))})),id:te});Ge(V,$,a).then(()=>{console.log("Design updated successfully"),T(!1)})},500)},children:"Save"}),m.jsx("button",{className:"action-btn",onClick:()=>{},children:"Submit"})]}),Z&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"loader-backdrop"}),m.jsx("div",{className:"loader"})]})," ",m.jsxs("div",{className:"layout",children:[!O&&m.jsx(Ce,{isViewingDesign:O,isEditingTemplate:D,isCreatingTemplate:k,maxHeight:i?200:G,showAddCustomItem:()=>{_.current?.showModal()},addDraggingItem:Pe,removeItem:ie,inventoryItems:F.map(e=>new ue({item:new x({id:e.item.id,name:e.item.name,cellsLong:e.item.cellsLong,cellsTall:e.item.cellsTall,icon:e.item.icon,displayItem:!0}),quantity:e.quantity}))}),i?m.jsxs("div",{className:"mobile-areas",style:{height:pe+"px"},children:[m.jsx("img",{src:fe,onClick:()=>{const e=g.findIndex(a=>a.name==u);if(e===-1)return;const n=(e-1+g.length)%g.length;Q(g[n].name),console.log("Changing viewing section to",g[n].name)},className:"back-mobile-areas"}),Le.map((e,n)=>m.jsx(de,{width:e.width,height:e.height,cells:ae(h.find(a=>a.sectionName==e.sectionName).cells),id:e.sectionName,visibile:u==null?!0:e.sectionName==u,section:e.sectionName},n)),m.jsx("img",{src:fe,onClick:()=>{const e=g.findIndex(a=>a.name==u);if(e===-1)return;const n=(e+1)%g.length;Q(g[n].name),console.log("Changing viewing section to",g[n].name)},className:"forward-mobile-areas"})]}):m.jsx(de,{width:ee,height:G,cells:ae(S)})]}),O&&m.jsx("div",{className:"design-view",children:m.jsx("button",{className:"action-btn",onClick:()=>{window.location.href=`/LayItOut/Print/?companyId=${V}&areaId=${$}&designName=${X}&designId=${te}`},children:"Print"})})]}),m.jsxs("div",{id:se?"capture":"",children:[g.map(e=>m.jsx(Be,{takingPhoto:se,section:e,visible:u==null?!0:e.name==u,cellSize:p},e.cellId.toId())),P.map(e=>m.jsx(Ve,{cellSize:p,isViewingDesign:O,removeItem:ie,visible:i?!e.hasMoved&&!e.starterItem?!0:u==null?!1:e.starterItem?g.find(n=>n.name==u)?.startingItems.some(n=>n.item.id===e.id):g.find(n=>n.name==u)?.items.some(n=>n.id===e.id):!0,item:e,canPlaceItem:ce,placeItem:Re,deleteItemRotate:ke,highlightCells:$e,unHighlightCells:me,deleteItem:Me,isSelected:j===e.id,onSelect:Fe,isUnselecting:xe.includes(e.id),onDeselect:()=>Ue(e.id)},e.id))]}),i&&!Z&&m.jsx("div",{className:"layout-icon",onClick:()=>{J.current?.showModal(),le(!0),console.log("Showing layout dialog")},children:m.jsx("img",{src:Je,alt:""})}),!Z&&!(k||D||O)&&m.jsx("div",{className:"template-icon",onClick:()=>{K.current?.showModal(),ne(!0),console.log("Showing template dialog")},children:m.jsx("img",{src:Ye,alt:""})}),m.jsx(Ke,{isViewingArea:be,dialogRef:K,isOpen:Te,closeDialog:()=>{K.current?.close(),ne(!1)},templates:H}),m.jsx(Qe,{dialogRef:J,isOpen:he,closeDialog:()=>{J.current?.close(),le(!1)},layoutSections:M}),m.jsx(Xe,{dialogRef:_,addInventoryItem:qe,closeDialog:()=>{_.current?.close()}})]})}
