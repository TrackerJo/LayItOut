const ml=()=>{};var Lo={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},pl=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const s=n[e++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[e++];t[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[e++],a=n[e++],l=n[e++],h=((s&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(h>>10)),t[r++]=String.fromCharCode(56320+(h&1023))}else{const o=n[e++],a=n[e++];t[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|a&63)}}return t.join("")},Wa={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],a=s+1<n.length,l=a?n[s+1]:0,h=s+2<n.length,f=h?n[s+2]:0,m=o>>2,v=(o&3)<<4|l>>4;let C=(l&15)<<2|f>>6,Q=f&63;h||(Q=64,a||(C=64)),r.push(e[m],e[v],e[C],e[Q])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(Ya(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):pl(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=e[n.charAt(s++)],l=s<n.length?e[n.charAt(s)]:0;++s;const f=s<n.length?e[n.charAt(s)]:64;++s;const v=s<n.length?e[n.charAt(s)]:64;if(++s,o==null||l==null||f==null||v==null)throw new El;const C=o<<2|l>>4;if(r.push(C),f!==64){const Q=l<<4&240|f>>2;if(r.push(Q),v!==64){const b=f<<6&192|v;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class El extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Il=function(n){const t=Ya(n);return Wa.encodeByteArray(t,!0)},dr=function(n){return Il(n).replace(/\./g,"")},yl=function(n){try{return Wa.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=()=>Cl().__FIREBASE_DEFAULTS__,vl=()=>{if(typeof process>"u"||typeof Lo>"u")return;const n=Lo.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},wl=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&yl(n[1]);return t&&JSON.parse(t)},Dr=()=>{try{return ml()||Tl()||vl()||wl()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},_l=n=>Dr()?.emulatorHosts?.[n],Bl=n=>{const t=_l(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},Ga=()=>Dr()?.config,yd=n=>Dr()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ql(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[dr(JSON.stringify(e)),dr(JSON.stringify(a)),""].join(".")}const In={};function bl(){const n={prod:[],emulator:[]};for(const t of Object.keys(In))In[t]?n.emulator.push(t):n.prod.push(t);return n}function Dl(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Ho=!1;function Sl(n,t){if(typeof window>"u"||typeof document>"u"||!Zs(window.location.host)||In[n]===t||In[n]||Ho)return;In[n]=t;function e(C){return`__firebase__banner__${C}`}const r="__firebase__banner",o=bl().prod.length>0;function a(){const C=document.getElementById(r);C&&C.remove()}function l(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function h(C,Q){C.setAttribute("width","24"),C.setAttribute("id",Q),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function f(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{Ho=!0,a()},C}function m(C,Q){C.setAttribute("id",Q),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function v(){const C=Dl(r),Q=e("text"),b=document.getElementById(Q)||document.createElement("span"),x=e("learnmore"),D=document.getElementById(x)||document.createElement("a"),Y=e("preprendIcon"),j=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const F=C.element;l(F),m(D,x);const ct=f();h(j,Y),F.append(j,b,D,ct),document.body.appendChild(F)}o?(b.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($s())}function Vl(){const n=Dr()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Td(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vd(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function wd(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _d(){const n=$s();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function xl(){return!Vl()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Nl(){try{return typeof indexedDB=="object"}catch{return!1}}function Ml(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol="FirebaseError";class qe extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=Ol,Object.setPrototypeOf(this,qe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xa.prototype.create)}}class Xa{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},s=`${this.service}/${t}`,o=this.errors[t],a=o?kl(o,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new qe(s,l,r)}}function kl(n,t){return n.replace(Ll,(e,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const Ll=/\{\$([^}]+)}/g;function Bd(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function mr(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const s of e){if(!r.includes(s))return!1;const o=n[s],a=t[s];if(jo(o)&&jo(a)){if(!mr(o,a))return!1}else if(o!==a)return!1}for(const s of r)if(!e.includes(s))return!1;return!0}function jo(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Qd(n){const t={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");t[decodeURIComponent(s)]=decodeURIComponent(o)}}),t}function Rd(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function bd(n,t){const e=new Hl(n,t);return e.subscribe.bind(e)}class Hl{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let s;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");jl(t,["next","error","complete"])?s=t:s={next:t,error:e,complete:r},s.next===void 0&&(s.next=ys),s.error===void 0&&(s.error=ys),s.complete===void 0&&(s.complete=ys);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jl(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function ys(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(n){return n&&n._delegate?n._delegate:n}class wn{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new Pl;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(zl(t))try{this.getOrInitializeService({instanceIdentifier:Ie})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(t=Ie){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ie){return this.instances.has(t)}getOptions(t=Ie){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[o,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&a.resolve(s)}return s}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),s=this.onInitCallbacks.get(r)??new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const s of r)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ul(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ie){return this.component?this.component.multipleInstances?t:Ie:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ul(n){return n===Ie?void 0:n}function zl(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Fl(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(z||(z={}));const Yl={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},Wl=z.INFO,Gl={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},Xl=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),s=Gl[t];if(s)console[s](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ja{constructor(t){this.name=t,this._logLevel=Wl,this._logHandler=Xl,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in z))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Yl[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...t),this._logHandler(this,z.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...t),this._logHandler(this,z.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,z.INFO,...t),this._logHandler(this,z.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,z.WARN,...t),this._logHandler(this,z.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...t),this._logHandler(this,z.ERROR,...t)}}const Jl=(n,t)=>t.some(e=>n instanceof e);let Fo,Uo;function Kl(){return Fo||(Fo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zl(){return Uo||(Uo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ka=new WeakMap,bs=new WeakMap,Za=new WeakMap,Cs=new WeakMap,ti=new WeakMap;function $l(n){const t=new Promise((e,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",a)},o=()=>{e(ne(n.result)),s()},a=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",a)});return t.then(e=>{e instanceof IDBCursor&&Ka.set(e,n)}).catch(()=>{}),ti.set(t,n),t}function th(n){if(bs.has(n))return;const t=new Promise((e,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",a),n.removeEventListener("abort",a)},o=()=>{e(),s()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",a),n.addEventListener("abort",a)});bs.set(n,t)}let Ds={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return bs.get(n);if(t==="objectStoreNames")return n.objectStoreNames||Za.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ne(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function eh(n){Ds=n(Ds)}function nh(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(Ts(this),t,...e);return Za.set(r,t.sort?t.sort():[t]),ne(r)}:Zl().includes(n)?function(...t){return n.apply(Ts(this),t),ne(Ka.get(this))}:function(...t){return ne(n.apply(Ts(this),t))}}function rh(n){return typeof n=="function"?nh(n):(n instanceof IDBTransaction&&th(n),Jl(n,Kl())?new Proxy(n,Ds):n)}function ne(n){if(n instanceof IDBRequest)return $l(n);if(Cs.has(n))return Cs.get(n);const t=rh(n);return t!==n&&(Cs.set(n,t),ti.set(t,n)),t}const Ts=n=>ti.get(n);function sh(n,t,{blocked:e,upgrade:r,blocking:s,terminated:o}={}){const a=indexedDB.open(n,t),l=ne(a);return r&&a.addEventListener("upgradeneeded",h=>{r(ne(a.result),h.oldVersion,h.newVersion,ne(a.transaction),h)}),e&&a.addEventListener("blocked",h=>e(h.oldVersion,h.newVersion,h)),l.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const ih=["get","getKey","getAll","getAllKeys","count"],oh=["put","add","delete","clear"],vs=new Map;function zo(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(vs.get(t))return vs.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,s=oh.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(s||ih.includes(e)))return;const o=async function(a,...l){const h=this.transaction(a,s?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[e](...l),s&&h.done]))[0]};return vs.set(t,o),o}eh(n=>({...n,get:(t,e,r)=>zo(t,e)||n.get(t,e,r),has:(t,e)=>!!zo(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(ch(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function ch(n){return n.getComponent()?.type==="VERSION"}const Ss="@firebase/app",qo="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt=new Ja("@firebase/app"),uh="@firebase/app-compat",lh="@firebase/analytics-compat",hh="@firebase/analytics",Ah="@firebase/app-check-compat",fh="@firebase/app-check",gh="@firebase/auth",dh="@firebase/auth-compat",mh="@firebase/database",ph="@firebase/data-connect",Eh="@firebase/database-compat",Ih="@firebase/functions",yh="@firebase/functions-compat",Ch="@firebase/installations",Th="@firebase/installations-compat",vh="@firebase/messaging",wh="@firebase/messaging-compat",_h="@firebase/performance",Bh="@firebase/performance-compat",Ph="@firebase/remote-config",Qh="@firebase/remote-config-compat",Rh="@firebase/storage",bh="@firebase/storage-compat",Dh="@firebase/firestore",Sh="@firebase/ai",Vh="@firebase/firestore-compat",xh="firebase",Nh="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]",Mh={[Ss]:"fire-core",[uh]:"fire-core-compat",[hh]:"fire-analytics",[lh]:"fire-analytics-compat",[fh]:"fire-app-check",[Ah]:"fire-app-check-compat",[gh]:"fire-auth",[dh]:"fire-auth-compat",[mh]:"fire-rtdb",[ph]:"fire-data-connect",[Eh]:"fire-rtdb-compat",[Ih]:"fire-fn",[yh]:"fire-fn-compat",[Ch]:"fire-iid",[Th]:"fire-iid-compat",[vh]:"fire-fcm",[wh]:"fire-fcm-compat",[_h]:"fire-perf",[Bh]:"fire-perf-compat",[Ph]:"fire-rc",[Qh]:"fire-rc-compat",[Rh]:"fire-gcs",[bh]:"fire-gcs-compat",[Dh]:"fire-fst",[Vh]:"fire-fst-compat",[Sh]:"fire-vertex","fire-js":"fire-js",[xh]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new Map,Oh=new Map,xs=new Map;function Yo(n,t){try{n.container.addComponent(t)}catch(e){Gt.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Er(n){const t=n.name;if(xs.has(t))return Gt.debug(`There were multiple attempts to register component ${t}.`),!1;xs.set(t,n);for(const e of pr.values())Yo(e,n);for(const e of Oh.values())Yo(e,n);return!0}function kh(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Lh(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},re=new Xa("app","Firebase",Hh);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw re.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=Nh;function $a(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:Vs,automaticDataCollectionEnabled:!0,...t},s=r.name;if(typeof s!="string"||!s)throw re.create("bad-app-name",{appName:String(s)});if(e||(e=Ga()),!e)throw re.create("no-options");const o=pr.get(s);if(o){if(mr(e,o.options)&&mr(r,o.config))return o;throw re.create("duplicate-app",{appName:s})}const a=new ql(s);for(const h of xs.values())a.addComponent(h);const l=new jh(e,r,a);return pr.set(s,l),l}function Uh(n=Vs){const t=pr.get(n);if(!t&&n===Vs&&Ga())return $a();if(!t)throw re.create("no-app",{appName:n});return t}function Ne(n,t,e){let r=Mh[n]??n;e&&(r+=`-${e}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${t}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gt.warn(a.join(" "));return}Er(new wn(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh="firebase-heartbeat-database",qh=1,_n="firebase-heartbeat-store";let ws=null;function tc(){return ws||(ws=sh(zh,qh,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(_n)}catch(e){console.warn(e)}}}}).catch(n=>{throw re.create("idb-open",{originalErrorMessage:n.message})})),ws}async function Yh(n){try{const e=(await tc()).transaction(_n),r=await e.objectStore(_n).get(ec(n));return await e.done,r}catch(t){if(t instanceof qe)Gt.warn(t.message);else{const e=re.create("idb-get",{originalErrorMessage:t?.message});Gt.warn(e.message)}}}async function Wo(n,t){try{const r=(await tc()).transaction(_n,"readwrite");await r.objectStore(_n).put(t,ec(n)),await r.done}catch(e){if(e instanceof qe)Gt.warn(e.message);else{const r=re.create("idb-set",{originalErrorMessage:e?.message});Gt.warn(r.message)}}}function ec(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=1024,Gh=30;class Xh{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Kh(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Go();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>Gh){const s=Zh(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Gt.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Go(),{heartbeatsToSend:e,unsentEntries:r}=Jh(this._heartbeatsCache.heartbeats),s=dr(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Gt.warn(t),""}}}function Go(){return new Date().toISOString().substring(0,10)}function Jh(n,t=Wh){const e=[];let r=n.slice();for(const s of n){const o=e.find(a=>a.agent===s.agent);if(o){if(o.dates.push(s.date),Xo(e)>t){o.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),Xo(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class Kh{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Nl()?Ml().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await Yh(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Wo(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Wo(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Xo(n){return dr(JSON.stringify({version:2,heartbeats:n})).length}function Zh(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(n){Er(new wn("platform-logger",t=>new ah(t),"PRIVATE")),Er(new wn("heartbeat",t=>new Xh(t),"PRIVATE")),Ne(Ss,qo,n),Ne(Ss,qo,"esm2020"),Ne("fire-js","")}$h("");var tA="firebase",eA="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ne(tA,eA,"app");const nA={apiKey:"AIzaSyDL8XA6JF2L5pyz6hZPkYxCLIdwTJCR4-Y",authDomain:"kazoom-layitout.firebaseapp.com",projectId:"kazoom-layitout",storageBucket:"kazoom-layitout.firebasestorage.app",messagingSenderId:"1054171031364",appId:"1:1054171031364:web:ffc4a80699a6c297aa9911"},rA=$a(nA);var Jo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var se,nc;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(y,g){function p(){}p.prototype=g.prototype,y.D=g.prototype,y.prototype=new p,y.prototype.constructor=y,y.C=function(E,I,w){for(var d=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)d[zt-2]=arguments[zt];return g.prototype[I].apply(E,d)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,e),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(y,g,p){p||(p=0);var E=Array(16);if(typeof g=="string")for(var I=0;16>I;++I)E[I]=g.charCodeAt(p++)|g.charCodeAt(p++)<<8|g.charCodeAt(p++)<<16|g.charCodeAt(p++)<<24;else for(I=0;16>I;++I)E[I]=g[p++]|g[p++]<<8|g[p++]<<16|g[p++]<<24;g=y.g[0],p=y.g[1],I=y.g[2];var w=y.g[3],d=g+(w^p&(I^w))+E[0]+3614090360&4294967295;g=p+(d<<7&4294967295|d>>>25),d=w+(I^g&(p^I))+E[1]+3905402710&4294967295,w=g+(d<<12&4294967295|d>>>20),d=I+(p^w&(g^p))+E[2]+606105819&4294967295,I=w+(d<<17&4294967295|d>>>15),d=p+(g^I&(w^g))+E[3]+3250441966&4294967295,p=I+(d<<22&4294967295|d>>>10),d=g+(w^p&(I^w))+E[4]+4118548399&4294967295,g=p+(d<<7&4294967295|d>>>25),d=w+(I^g&(p^I))+E[5]+1200080426&4294967295,w=g+(d<<12&4294967295|d>>>20),d=I+(p^w&(g^p))+E[6]+2821735955&4294967295,I=w+(d<<17&4294967295|d>>>15),d=p+(g^I&(w^g))+E[7]+4249261313&4294967295,p=I+(d<<22&4294967295|d>>>10),d=g+(w^p&(I^w))+E[8]+1770035416&4294967295,g=p+(d<<7&4294967295|d>>>25),d=w+(I^g&(p^I))+E[9]+2336552879&4294967295,w=g+(d<<12&4294967295|d>>>20),d=I+(p^w&(g^p))+E[10]+4294925233&4294967295,I=w+(d<<17&4294967295|d>>>15),d=p+(g^I&(w^g))+E[11]+2304563134&4294967295,p=I+(d<<22&4294967295|d>>>10),d=g+(w^p&(I^w))+E[12]+1804603682&4294967295,g=p+(d<<7&4294967295|d>>>25),d=w+(I^g&(p^I))+E[13]+4254626195&4294967295,w=g+(d<<12&4294967295|d>>>20),d=I+(p^w&(g^p))+E[14]+2792965006&4294967295,I=w+(d<<17&4294967295|d>>>15),d=p+(g^I&(w^g))+E[15]+1236535329&4294967295,p=I+(d<<22&4294967295|d>>>10),d=g+(I^w&(p^I))+E[1]+4129170786&4294967295,g=p+(d<<5&4294967295|d>>>27),d=w+(p^I&(g^p))+E[6]+3225465664&4294967295,w=g+(d<<9&4294967295|d>>>23),d=I+(g^p&(w^g))+E[11]+643717713&4294967295,I=w+(d<<14&4294967295|d>>>18),d=p+(w^g&(I^w))+E[0]+3921069994&4294967295,p=I+(d<<20&4294967295|d>>>12),d=g+(I^w&(p^I))+E[5]+3593408605&4294967295,g=p+(d<<5&4294967295|d>>>27),d=w+(p^I&(g^p))+E[10]+38016083&4294967295,w=g+(d<<9&4294967295|d>>>23),d=I+(g^p&(w^g))+E[15]+3634488961&4294967295,I=w+(d<<14&4294967295|d>>>18),d=p+(w^g&(I^w))+E[4]+3889429448&4294967295,p=I+(d<<20&4294967295|d>>>12),d=g+(I^w&(p^I))+E[9]+568446438&4294967295,g=p+(d<<5&4294967295|d>>>27),d=w+(p^I&(g^p))+E[14]+3275163606&4294967295,w=g+(d<<9&4294967295|d>>>23),d=I+(g^p&(w^g))+E[3]+4107603335&4294967295,I=w+(d<<14&4294967295|d>>>18),d=p+(w^g&(I^w))+E[8]+1163531501&4294967295,p=I+(d<<20&4294967295|d>>>12),d=g+(I^w&(p^I))+E[13]+2850285829&4294967295,g=p+(d<<5&4294967295|d>>>27),d=w+(p^I&(g^p))+E[2]+4243563512&4294967295,w=g+(d<<9&4294967295|d>>>23),d=I+(g^p&(w^g))+E[7]+1735328473&4294967295,I=w+(d<<14&4294967295|d>>>18),d=p+(w^g&(I^w))+E[12]+2368359562&4294967295,p=I+(d<<20&4294967295|d>>>12),d=g+(p^I^w)+E[5]+4294588738&4294967295,g=p+(d<<4&4294967295|d>>>28),d=w+(g^p^I)+E[8]+2272392833&4294967295,w=g+(d<<11&4294967295|d>>>21),d=I+(w^g^p)+E[11]+1839030562&4294967295,I=w+(d<<16&4294967295|d>>>16),d=p+(I^w^g)+E[14]+4259657740&4294967295,p=I+(d<<23&4294967295|d>>>9),d=g+(p^I^w)+E[1]+2763975236&4294967295,g=p+(d<<4&4294967295|d>>>28),d=w+(g^p^I)+E[4]+1272893353&4294967295,w=g+(d<<11&4294967295|d>>>21),d=I+(w^g^p)+E[7]+4139469664&4294967295,I=w+(d<<16&4294967295|d>>>16),d=p+(I^w^g)+E[10]+3200236656&4294967295,p=I+(d<<23&4294967295|d>>>9),d=g+(p^I^w)+E[13]+681279174&4294967295,g=p+(d<<4&4294967295|d>>>28),d=w+(g^p^I)+E[0]+3936430074&4294967295,w=g+(d<<11&4294967295|d>>>21),d=I+(w^g^p)+E[3]+3572445317&4294967295,I=w+(d<<16&4294967295|d>>>16),d=p+(I^w^g)+E[6]+76029189&4294967295,p=I+(d<<23&4294967295|d>>>9),d=g+(p^I^w)+E[9]+3654602809&4294967295,g=p+(d<<4&4294967295|d>>>28),d=w+(g^p^I)+E[12]+3873151461&4294967295,w=g+(d<<11&4294967295|d>>>21),d=I+(w^g^p)+E[15]+530742520&4294967295,I=w+(d<<16&4294967295|d>>>16),d=p+(I^w^g)+E[2]+3299628645&4294967295,p=I+(d<<23&4294967295|d>>>9),d=g+(I^(p|~w))+E[0]+4096336452&4294967295,g=p+(d<<6&4294967295|d>>>26),d=w+(p^(g|~I))+E[7]+1126891415&4294967295,w=g+(d<<10&4294967295|d>>>22),d=I+(g^(w|~p))+E[14]+2878612391&4294967295,I=w+(d<<15&4294967295|d>>>17),d=p+(w^(I|~g))+E[5]+4237533241&4294967295,p=I+(d<<21&4294967295|d>>>11),d=g+(I^(p|~w))+E[12]+1700485571&4294967295,g=p+(d<<6&4294967295|d>>>26),d=w+(p^(g|~I))+E[3]+2399980690&4294967295,w=g+(d<<10&4294967295|d>>>22),d=I+(g^(w|~p))+E[10]+4293915773&4294967295,I=w+(d<<15&4294967295|d>>>17),d=p+(w^(I|~g))+E[1]+2240044497&4294967295,p=I+(d<<21&4294967295|d>>>11),d=g+(I^(p|~w))+E[8]+1873313359&4294967295,g=p+(d<<6&4294967295|d>>>26),d=w+(p^(g|~I))+E[15]+4264355552&4294967295,w=g+(d<<10&4294967295|d>>>22),d=I+(g^(w|~p))+E[6]+2734768916&4294967295,I=w+(d<<15&4294967295|d>>>17),d=p+(w^(I|~g))+E[13]+1309151649&4294967295,p=I+(d<<21&4294967295|d>>>11),d=g+(I^(p|~w))+E[4]+4149444226&4294967295,g=p+(d<<6&4294967295|d>>>26),d=w+(p^(g|~I))+E[11]+3174756917&4294967295,w=g+(d<<10&4294967295|d>>>22),d=I+(g^(w|~p))+E[2]+718787259&4294967295,I=w+(d<<15&4294967295|d>>>17),d=p+(w^(I|~g))+E[9]+3951481745&4294967295,y.g[0]=y.g[0]+g&4294967295,y.g[1]=y.g[1]+(I+(d<<21&4294967295|d>>>11))&4294967295,y.g[2]=y.g[2]+I&4294967295,y.g[3]=y.g[3]+w&4294967295}r.prototype.u=function(y,g){g===void 0&&(g=y.length);for(var p=g-this.blockSize,E=this.B,I=this.h,w=0;w<g;){if(I==0)for(;w<=p;)s(this,y,w),w+=this.blockSize;if(typeof y=="string"){for(;w<g;)if(E[I++]=y.charCodeAt(w++),I==this.blockSize){s(this,E),I=0;break}}else for(;w<g;)if(E[I++]=y[w++],I==this.blockSize){s(this,E),I=0;break}}this.h=I,this.o+=g},r.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var g=1;g<y.length-8;++g)y[g]=0;var p=8*this.o;for(g=y.length-8;g<y.length;++g)y[g]=p&255,p/=256;for(this.u(y),y=Array(16),g=p=0;4>g;++g)for(var E=0;32>E;E+=8)y[p++]=this.g[g]>>>E&255;return y};function o(y,g){var p=l;return Object.prototype.hasOwnProperty.call(p,y)?p[y]:p[y]=g(y)}function a(y,g){this.h=g;for(var p=[],E=!0,I=y.length-1;0<=I;I--){var w=y[I]|0;E&&w==g||(p[I]=w,E=!1)}this.g=p}var l={};function h(y){return-128<=y&&128>y?o(y,function(g){return new a([g|0],0>g?-1:0)}):new a([y|0],0>y?-1:0)}function f(y){if(isNaN(y)||!isFinite(y))return v;if(0>y)return D(f(-y));for(var g=[],p=1,E=0;y>=p;E++)g[E]=y/p|0,p*=4294967296;return new a(g,0)}function m(y,g){if(y.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(y.charAt(0)=="-")return D(m(y.substring(1),g));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var p=f(Math.pow(g,8)),E=v,I=0;I<y.length;I+=8){var w=Math.min(8,y.length-I),d=parseInt(y.substring(I,I+w),g);8>w?(w=f(Math.pow(g,w)),E=E.j(w).add(f(d))):(E=E.j(p),E=E.add(f(d)))}return E}var v=h(0),C=h(1),Q=h(16777216);n=a.prototype,n.m=function(){if(x(this))return-D(this).m();for(var y=0,g=1,p=0;p<this.g.length;p++){var E=this.i(p);y+=(0<=E?E:4294967296+E)*g,g*=4294967296}return y},n.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(b(this))return"0";if(x(this))return"-"+D(this).toString(y);for(var g=f(Math.pow(y,6)),p=this,E="";;){var I=ct(p,g).g;p=Y(p,I.j(g));var w=((0<p.g.length?p.g[0]:p.h)>>>0).toString(y);if(p=I,b(p))return w+E;for(;6>w.length;)w="0"+w;E=w+E}},n.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function b(y){if(y.h!=0)return!1;for(var g=0;g<y.g.length;g++)if(y.g[g]!=0)return!1;return!0}function x(y){return y.h==-1}n.l=function(y){return y=Y(this,y),x(y)?-1:b(y)?0:1};function D(y){for(var g=y.g.length,p=[],E=0;E<g;E++)p[E]=~y.g[E];return new a(p,~y.h).add(C)}n.abs=function(){return x(this)?D(this):this},n.add=function(y){for(var g=Math.max(this.g.length,y.g.length),p=[],E=0,I=0;I<=g;I++){var w=E+(this.i(I)&65535)+(y.i(I)&65535),d=(w>>>16)+(this.i(I)>>>16)+(y.i(I)>>>16);E=d>>>16,w&=65535,d&=65535,p[I]=d<<16|w}return new a(p,p[p.length-1]&-2147483648?-1:0)};function Y(y,g){return y.add(D(g))}n.j=function(y){if(b(this)||b(y))return v;if(x(this))return x(y)?D(this).j(D(y)):D(D(this).j(y));if(x(y))return D(this.j(D(y)));if(0>this.l(Q)&&0>y.l(Q))return f(this.m()*y.m());for(var g=this.g.length+y.g.length,p=[],E=0;E<2*g;E++)p[E]=0;for(E=0;E<this.g.length;E++)for(var I=0;I<y.g.length;I++){var w=this.i(E)>>>16,d=this.i(E)&65535,zt=y.i(I)>>>16,Ke=y.i(I)&65535;p[2*E+2*I]+=d*Ke,j(p,2*E+2*I),p[2*E+2*I+1]+=w*Ke,j(p,2*E+2*I+1),p[2*E+2*I+1]+=d*zt,j(p,2*E+2*I+1),p[2*E+2*I+2]+=w*zt,j(p,2*E+2*I+2)}for(E=0;E<g;E++)p[E]=p[2*E+1]<<16|p[2*E];for(E=g;E<2*g;E++)p[E]=0;return new a(p,0)};function j(y,g){for(;(y[g]&65535)!=y[g];)y[g+1]+=y[g]>>>16,y[g]&=65535,g++}function F(y,g){this.g=y,this.h=g}function ct(y,g){if(b(g))throw Error("division by zero");if(b(y))return new F(v,v);if(x(y))return g=ct(D(y),g),new F(D(g.g),D(g.h));if(x(g))return g=ct(y,D(g)),new F(D(g.g),g.h);if(30<y.g.length){if(x(y)||x(g))throw Error("slowDivide_ only works with positive integers.");for(var p=C,E=g;0>=E.l(y);)p=Nt(p),E=Nt(E);var I=gt(p,1),w=gt(E,1);for(E=gt(E,2),p=gt(p,2);!b(E);){var d=w.add(E);0>=d.l(y)&&(I=I.add(p),w=d),E=gt(E,1),p=gt(p,1)}return g=Y(y,I.j(g)),new F(I,g)}for(I=v;0<=y.l(g);){for(p=Math.max(1,Math.floor(y.m()/g.m())),E=Math.ceil(Math.log(p)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),w=f(p),d=w.j(g);x(d)||0<d.l(y);)p-=E,w=f(p),d=w.j(g);b(w)&&(w=C),I=I.add(w),y=Y(y,d)}return new F(I,y)}n.A=function(y){return ct(this,y).h},n.and=function(y){for(var g=Math.max(this.g.length,y.g.length),p=[],E=0;E<g;E++)p[E]=this.i(E)&y.i(E);return new a(p,this.h&y.h)},n.or=function(y){for(var g=Math.max(this.g.length,y.g.length),p=[],E=0;E<g;E++)p[E]=this.i(E)|y.i(E);return new a(p,this.h|y.h)},n.xor=function(y){for(var g=Math.max(this.g.length,y.g.length),p=[],E=0;E<g;E++)p[E]=this.i(E)^y.i(E);return new a(p,this.h^y.h)};function Nt(y){for(var g=y.g.length+1,p=[],E=0;E<g;E++)p[E]=y.i(E)<<1|y.i(E-1)>>>31;return new a(p,y.h)}function gt(y,g){var p=g>>5;g%=32;for(var E=y.g.length-p,I=[],w=0;w<E;w++)I[w]=0<g?y.i(w+p)>>>g|y.i(w+p+1)<<32-g:y.i(w+p);return new a(I,y.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,nc=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=m,se=a}).apply(typeof Jo<"u"?Jo:typeof self<"u"?self:typeof window<"u"?window:{});var sr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rc,dn,sc,ur,Ns,ic,oc,ac;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,c,u){return i==Array.prototype||i==Object.prototype||(i[c]=u.value),i};function e(i){i=[typeof globalThis=="object"&&globalThis,i,typeof window=="object"&&window,typeof self=="object"&&self,typeof sr=="object"&&sr];for(var c=0;c<i.length;++c){var u=i[c];if(u&&u.Math==Math)return u}throw Error("Cannot find global object")}var r=e(this);function s(i,c){if(c)t:{var u=r;i=i.split(".");for(var A=0;A<i.length-1;A++){var T=i[A];if(!(T in u))break t;u=u[T]}i=i[i.length-1],A=u[i],c=c(A),c!=A&&c!=null&&t(u,i,{configurable:!0,writable:!0,value:c})}}function o(i,c){i instanceof String&&(i+="");var u=0,A=!1,T={next:function(){if(!A&&u<i.length){var _=u++;return{value:c(_,i[_]),done:!1}}return A=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}s("Array.prototype.values",function(i){return i||function(){return o(this,function(c,u){return u})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function h(i){var c=typeof i;return c=c!="object"?c:i?Array.isArray(i)?"array":c:"null",c=="array"||c=="object"&&typeof i.length=="number"}function f(i){var c=typeof i;return c=="object"&&i!=null||c=="function"}function m(i,c,u){return i.call.apply(i.bind,arguments)}function v(i,c,u){if(!i)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,A),i.apply(c,T)}}return function(){return i.apply(c,arguments)}}function C(i,c,u){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,C.apply(null,arguments)}function Q(i,c){var u=Array.prototype.slice.call(arguments,1);return function(){var A=u.slice();return A.push.apply(A,arguments),i.apply(this,A)}}function b(i,c){function u(){}u.prototype=c.prototype,i.aa=c.prototype,i.prototype=new u,i.prototype.constructor=i,i.Qb=function(A,T,_){for(var R=Array(arguments.length-2),X=2;X<arguments.length;X++)R[X-2]=arguments[X];return c.prototype[T].apply(A,R)}}function x(i){const c=i.length;if(0<c){const u=Array(c);for(let A=0;A<c;A++)u[A]=i[A];return u}return[]}function D(i,c){for(let u=1;u<arguments.length;u++){const A=arguments[u];if(h(A)){const T=i.length||0,_=A.length||0;i.length=T+_;for(let R=0;R<_;R++)i[T+R]=A[R]}else i.push(A)}}class Y{constructor(c,u){this.i=c,this.j=u,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function j(i){return/^[\s\xa0]*$/.test(i)}function F(){var i=l.navigator;return i&&(i=i.userAgent)?i:""}function ct(i){return ct[" "](i),i}ct[" "]=function(){};var Nt=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function gt(i,c,u){for(const A in i)c.call(u,i[A],A,i)}function y(i,c){for(const u in i)c.call(void 0,i[u],u,i)}function g(i){const c={};for(const u in i)c[u]=i[u];return c}const p="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(i,c){let u,A;for(let T=1;T<arguments.length;T++){A=arguments[T];for(u in A)i[u]=A[u];for(let _=0;_<p.length;_++)u=p[_],Object.prototype.hasOwnProperty.call(A,u)&&(i[u]=A[u])}}function I(i){var c=1;i=i.split(":");const u=[];for(;0<c&&i.length;)u.push(i.shift()),c--;return i.length&&u.push(i.join(":")),u}function w(i){l.setTimeout(()=>{throw i},0)}function d(){var i=Jr;let c=null;return i.g&&(c=i.g,i.g=i.g.next,i.g||(i.h=null),c.next=null),c}class zt{constructor(){this.h=this.g=null}add(c,u){const A=Ke.get();A.set(c,u),this.h?this.h.next=A:this.g=A,this.h=A}}var Ke=new Y(()=>new Nu,i=>i.reset());class Nu{constructor(){this.next=this.g=this.h=null}set(c,u){this.h=c,this.g=u,this.next=null}reset(){this.next=this.g=this.h=null}}let Ze,$e=!1,Jr=new zt,ki=()=>{const i=l.Promise.resolve(void 0);Ze=()=>{i.then(Mu)}};var Mu=()=>{for(var i;i=d();){try{i.h.call(i.g)}catch(u){w(u)}var c=Ke;c.j(i),100>c.h&&(c.h++,i.next=c.g,c.g=i)}$e=!1};function Kt(){this.s=this.s,this.C=this.C}Kt.prototype.s=!1,Kt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Kt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function dt(i,c){this.type=i,this.g=this.target=c,this.defaultPrevented=!1}dt.prototype.h=function(){this.defaultPrevented=!0};var Ou=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var i=!1,c=Object.defineProperty({},"passive",{get:function(){i=!0}});try{const u=()=>{};l.addEventListener("test",u,c),l.removeEventListener("test",u,c)}catch{}return i}();function tn(i,c){if(dt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var u=this.type=i.type,A=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=c,c=i.relatedTarget){if(Nt){t:{try{ct(c.nodeName);var T=!0;break t}catch{}T=!1}T||(c=null)}}else u=="mouseover"?c=i.fromElement:u=="mouseout"&&(c=i.toElement);this.relatedTarget=c,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:ku[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&tn.aa.h.call(this)}}b(tn,dt);var ku={2:"touch",3:"pen",4:"mouse"};tn.prototype.h=function(){tn.aa.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Ln="closure_listenable_"+(1e6*Math.random()|0),Lu=0;function Hu(i,c,u,A,T){this.listener=i,this.proxy=null,this.src=c,this.type=u,this.capture=!!A,this.ha=T,this.key=++Lu,this.da=this.fa=!1}function Hn(i){i.da=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function jn(i){this.src=i,this.g={},this.h=0}jn.prototype.add=function(i,c,u,A,T){var _=i.toString();i=this.g[_],i||(i=this.g[_]=[],this.h++);var R=Zr(i,c,A,T);return-1<R?(c=i[R],u||(c.fa=!1)):(c=new Hu(c,this.src,_,!!A,T),c.fa=u,i.push(c)),c};function Kr(i,c){var u=c.type;if(u in i.g){var A=i.g[u],T=Array.prototype.indexOf.call(A,c,void 0),_;(_=0<=T)&&Array.prototype.splice.call(A,T,1),_&&(Hn(c),i.g[u].length==0&&(delete i.g[u],i.h--))}}function Zr(i,c,u,A){for(var T=0;T<i.length;++T){var _=i[T];if(!_.da&&_.listener==c&&_.capture==!!u&&_.ha==A)return T}return-1}var $r="closure_lm_"+(1e6*Math.random()|0),ts={};function Li(i,c,u,A,T){if(Array.isArray(c)){for(var _=0;_<c.length;_++)Li(i,c[_],u,A,T);return null}return u=Fi(u),i&&i[Ln]?i.K(c,u,f(A)?!!A.capture:!1,T):ju(i,c,u,!1,A,T)}function ju(i,c,u,A,T,_){if(!c)throw Error("Invalid event type");var R=f(T)?!!T.capture:!!T,X=ns(i);if(X||(i[$r]=X=new jn(i)),u=X.add(c,u,A,R,_),u.proxy)return u;if(A=Fu(),u.proxy=A,A.src=i,A.listener=u,i.addEventListener)Ou||(T=R),T===void 0&&(T=!1),i.addEventListener(c.toString(),A,T);else if(i.attachEvent)i.attachEvent(ji(c.toString()),A);else if(i.addListener&&i.removeListener)i.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return u}function Fu(){function i(u){return c.call(i.src,i.listener,u)}const c=Uu;return i}function Hi(i,c,u,A,T){if(Array.isArray(c))for(var _=0;_<c.length;_++)Hi(i,c[_],u,A,T);else A=f(A)?!!A.capture:!!A,u=Fi(u),i&&i[Ln]?(i=i.i,c=String(c).toString(),c in i.g&&(_=i.g[c],u=Zr(_,u,A,T),-1<u&&(Hn(_[u]),Array.prototype.splice.call(_,u,1),_.length==0&&(delete i.g[c],i.h--)))):i&&(i=ns(i))&&(c=i.g[c.toString()],i=-1,c&&(i=Zr(c,u,A,T)),(u=-1<i?c[i]:null)&&es(u))}function es(i){if(typeof i!="number"&&i&&!i.da){var c=i.src;if(c&&c[Ln])Kr(c.i,i);else{var u=i.type,A=i.proxy;c.removeEventListener?c.removeEventListener(u,A,i.capture):c.detachEvent?c.detachEvent(ji(u),A):c.addListener&&c.removeListener&&c.removeListener(A),(u=ns(c))?(Kr(u,i),u.h==0&&(u.src=null,c[$r]=null)):Hn(i)}}}function ji(i){return i in ts?ts[i]:ts[i]="on"+i}function Uu(i,c){if(i.da)i=!0;else{c=new tn(c,this);var u=i.listener,A=i.ha||i.src;i.fa&&es(i),i=u.call(A,c)}return i}function ns(i){return i=i[$r],i instanceof jn?i:null}var rs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fi(i){return typeof i=="function"?i:(i[rs]||(i[rs]=function(c){return i.handleEvent(c)}),i[rs])}function mt(){Kt.call(this),this.i=new jn(this),this.M=this,this.F=null}b(mt,Kt),mt.prototype[Ln]=!0,mt.prototype.removeEventListener=function(i,c,u,A){Hi(this,i,c,u,A)};function Tt(i,c){var u,A=i.F;if(A)for(u=[];A;A=A.F)u.push(A);if(i=i.M,A=c.type||c,typeof c=="string")c=new dt(c,i);else if(c instanceof dt)c.target=c.target||i;else{var T=c;c=new dt(A,i),E(c,T)}if(T=!0,u)for(var _=u.length-1;0<=_;_--){var R=c.g=u[_];T=Fn(R,A,!0,c)&&T}if(R=c.g=i,T=Fn(R,A,!0,c)&&T,T=Fn(R,A,!1,c)&&T,u)for(_=0;_<u.length;_++)R=c.g=u[_],T=Fn(R,A,!1,c)&&T}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var i=this.i,c;for(c in i.g){for(var u=i.g[c],A=0;A<u.length;A++)Hn(u[A]);delete i.g[c],i.h--}}this.F=null},mt.prototype.K=function(i,c,u,A){return this.i.add(String(i),c,!1,u,A)},mt.prototype.L=function(i,c,u,A){return this.i.add(String(i),c,!0,u,A)};function Fn(i,c,u,A){if(c=i.i.g[String(c)],!c)return!0;c=c.concat();for(var T=!0,_=0;_<c.length;++_){var R=c[_];if(R&&!R.da&&R.capture==u){var X=R.listener,ut=R.ha||R.src;R.fa&&Kr(i.i,R),T=X.call(ut,A)!==!1&&T}}return T&&!A.defaultPrevented}function Ui(i,c,u){if(typeof i=="function")u&&(i=C(i,u));else if(i&&typeof i.handleEvent=="function")i=C(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(i,c||0)}function zi(i){i.g=Ui(()=>{i.g=null,i.i&&(i.i=!1,zi(i))},i.l);const c=i.h;i.h=null,i.m.apply(null,c)}class zu extends Kt{constructor(c,u){super(),this.m=c,this.l=u,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:zi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function en(i){Kt.call(this),this.h=i,this.g={}}b(en,Kt);var qi=[];function Yi(i){gt(i.g,function(c,u){this.g.hasOwnProperty(u)&&es(c)},i),i.g={}}en.prototype.N=function(){en.aa.N.call(this),Yi(this)},en.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ss=l.JSON.stringify,qu=l.JSON.parse,Yu=class{stringify(i){return l.JSON.stringify(i,void 0)}parse(i){return l.JSON.parse(i,void 0)}};function is(){}is.prototype.h=null;function Wi(i){return i.h||(i.h=i.i())}function Gi(){}var nn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function os(){dt.call(this,"d")}b(os,dt);function as(){dt.call(this,"c")}b(as,dt);var de={},Xi=null;function Un(){return Xi=Xi||new mt}de.La="serverreachability";function Ji(i){dt.call(this,de.La,i)}b(Ji,dt);function rn(i){const c=Un();Tt(c,new Ji(c))}de.STAT_EVENT="statevent";function Ki(i,c){dt.call(this,de.STAT_EVENT,i),this.stat=c}b(Ki,dt);function vt(i){const c=Un();Tt(c,new Ki(c,i))}de.Ma="timingevent";function Zi(i,c){dt.call(this,de.Ma,i),this.size=c}b(Zi,dt);function sn(i,c){if(typeof i!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){i()},c)}function on(){this.g=!0}on.prototype.xa=function(){this.g=!1};function Wu(i,c,u,A,T,_){i.info(function(){if(i.g)if(_)for(var R="",X=_.split("&"),ut=0;ut<X.length;ut++){var q=X[ut].split("=");if(1<q.length){var pt=q[0];q=q[1];var Et=pt.split("_");R=2<=Et.length&&Et[1]=="type"?R+(pt+"="+q+"&"):R+(pt+"=redacted&")}}else R=null;else R=_;return"XMLHTTP REQ ("+A+") [attempt "+T+"]: "+c+`
`+u+`
`+R})}function Gu(i,c,u,A,T,_,R){i.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+T+"]: "+c+`
`+u+`
`+_+" "+R})}function Pe(i,c,u,A){i.info(function(){return"XMLHTTP TEXT ("+c+"): "+Ju(i,u)+(A?" "+A:"")})}function Xu(i,c){i.info(function(){return"TIMEOUT: "+c})}on.prototype.info=function(){};function Ju(i,c){if(!i.g)return c;if(!c)return null;try{var u=JSON.parse(c);if(u){for(i=0;i<u.length;i++)if(Array.isArray(u[i])){var A=u[i];if(!(2>A.length)){var T=A[1];if(Array.isArray(T)&&!(1>T.length)){var _=T[0];if(_!="noop"&&_!="stop"&&_!="close")for(var R=1;R<T.length;R++)T[R]=""}}}}return ss(u)}catch{return c}}var zn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$i={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cs;function qn(){}b(qn,is),qn.prototype.g=function(){return new XMLHttpRequest},qn.prototype.i=function(){return{}},cs=new qn;function Zt(i,c,u,A){this.j=i,this.i=c,this.l=u,this.R=A||1,this.U=new en(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new to}function to(){this.i=null,this.g="",this.h=!1}var eo={},us={};function ls(i,c,u){i.L=1,i.v=Xn(qt(c)),i.m=u,i.P=!0,no(i,null)}function no(i,c){i.F=Date.now(),Yn(i),i.A=qt(i.v);var u=i.A,A=i.R;Array.isArray(A)||(A=[String(A)]),po(u.i,"t",A),i.C=0,u=i.j.J,i.h=new to,i.g=No(i.j,u?c:null,!i.m),0<i.O&&(i.M=new zu(C(i.Y,i,i.g),i.O)),c=i.U,u=i.g,A=i.ca;var T="readystatechange";Array.isArray(T)||(T&&(qi[0]=T.toString()),T=qi);for(var _=0;_<T.length;_++){var R=Li(u,T[_],A||c.handleEvent,!1,c.h||c);if(!R)break;c.g[R.key]=R}c=i.H?g(i.H):{},i.m?(i.u||(i.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.m,c)):(i.u="GET",i.g.ea(i.A,i.u,null,c)),rn(),Wu(i.i,i.u,i.A,i.l,i.R,i.m)}Zt.prototype.ca=function(i){i=i.target;const c=this.M;c&&Yt(i)==3?c.j():this.Y(i)},Zt.prototype.Y=function(i){try{if(i==this.g)t:{const Et=Yt(this.g);var c=this.g.Ba();const be=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||wo(this.g)))){this.J||Et!=4||c==7||(c==8||0>=be?rn(3):rn(2)),hs(this);var u=this.g.Z();this.X=u;e:if(ro(this)){var A=wo(this.g);i="";var T=A.length,_=Yt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){me(this),an(this);var R="";break e}this.h.i=new l.TextDecoder}for(c=0;c<T;c++)this.h.h=!0,i+=this.h.i.decode(A[c],{stream:!(_&&c==T-1)});A.length=0,this.h.g+=i,this.C=0,R=this.h.g}else R=this.g.oa();if(this.o=u==200,Gu(this.i,this.u,this.A,this.l,this.R,Et,u),this.o){if(this.T&&!this.K){e:{if(this.g){var X,ut=this.g;if((X=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(X)){var q=X;break e}}q=null}if(u=q)Pe(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,As(this,u);else{this.o=!1,this.s=3,vt(12),me(this),an(this);break t}}if(this.P){u=!0;let St;for(;!this.J&&this.C<R.length;)if(St=Ku(this,R),St==us){Et==4&&(this.s=4,vt(14),u=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}else if(St==eo){this.s=4,vt(15),Pe(this.i,this.l,R,"[Invalid Chunk]"),u=!1;break}else Pe(this.i,this.l,St,null),As(this,St);if(ro(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||R.length!=0||this.h.h||(this.s=1,vt(16),u=!1),this.o=this.o&&u,!u)Pe(this.i,this.l,R,"[Invalid Chunked Response]"),me(this),an(this);else if(0<R.length&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.ba&&!pt.M&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+R.length),Es(pt),pt.M=!0,vt(11))}}else Pe(this.i,this.l,R,null),As(this,R);Et==4&&me(this),this.o&&!this.J&&(Et==4?Do(this.j,this):(this.o=!1,Yn(this)))}else gl(this.g),u==400&&0<R.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),me(this),an(this)}}}catch{}finally{}};function ro(i){return i.g?i.u=="GET"&&i.L!=2&&i.j.Ca:!1}function Ku(i,c){var u=i.C,A=c.indexOf(`
`,u);return A==-1?us:(u=Number(c.substring(u,A)),isNaN(u)?eo:(A+=1,A+u>c.length?us:(c=c.slice(A,A+u),i.C=A+u,c)))}Zt.prototype.cancel=function(){this.J=!0,me(this)};function Yn(i){i.S=Date.now()+i.I,so(i,i.I)}function so(i,c){if(i.B!=null)throw Error("WatchDog timer not null");i.B=sn(C(i.ba,i),c)}function hs(i){i.B&&(l.clearTimeout(i.B),i.B=null)}Zt.prototype.ba=function(){this.B=null;const i=Date.now();0<=i-this.S?(Xu(this.i,this.A),this.L!=2&&(rn(),vt(17)),me(this),this.s=2,an(this)):so(this,this.S-i)};function an(i){i.j.G==0||i.J||Do(i.j,i)}function me(i){hs(i);var c=i.M;c&&typeof c.ma=="function"&&c.ma(),i.M=null,Yi(i.U),i.g&&(c=i.g,i.g=null,c.abort(),c.ma())}function As(i,c){try{var u=i.j;if(u.G!=0&&(u.g==i||fs(u.h,i))){if(!i.K&&fs(u.h,i)&&u.G==3){try{var A=u.Da.g.parse(c)}catch{A=null}if(Array.isArray(A)&&A.length==3){var T=A;if(T[0]==0){t:if(!u.u){if(u.g)if(u.g.F+3e3<i.F)er(u),$n(u);else break t;ps(u),vt(18)}}else u.za=T[1],0<u.za-u.T&&37500>T[2]&&u.F&&u.v==0&&!u.C&&(u.C=sn(C(u.Za,u),6e3));if(1>=ao(u.h)&&u.ca){try{u.ca()}catch{}u.ca=void 0}}else Ee(u,11)}else if((i.K||u.g==i)&&er(u),!j(c))for(T=u.Da.g.parse(c),c=0;c<T.length;c++){let q=T[c];if(u.T=q[0],q=q[1],u.G==2)if(q[0]=="c"){u.K=q[1],u.ia=q[2];const pt=q[3];pt!=null&&(u.la=pt,u.j.info("VER="+u.la));const Et=q[4];Et!=null&&(u.Aa=Et,u.j.info("SVER="+u.Aa));const be=q[5];be!=null&&typeof be=="number"&&0<be&&(A=1.5*be,u.L=A,u.j.info("backChannelRequestTimeoutMs_="+A)),A=u;const St=i.g;if(St){const rr=St.g?St.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rr){var _=A.h;_.g||rr.indexOf("spdy")==-1&&rr.indexOf("quic")==-1&&rr.indexOf("h2")==-1||(_.j=_.l,_.g=new Set,_.h&&(gs(_,_.h),_.h=null))}if(A.D){const Is=St.g?St.g.getResponseHeader("X-HTTP-Session-Id"):null;Is&&(A.ya=Is,J(A.I,A.D,Is))}}u.G=3,u.l&&u.l.ua(),u.ba&&(u.R=Date.now()-i.F,u.j.info("Handshake RTT: "+u.R+"ms")),A=u;var R=i;if(A.qa=xo(A,A.J?A.ia:null,A.W),R.K){co(A.h,R);var X=R,ut=A.L;ut&&(X.I=ut),X.B&&(hs(X),Yn(X)),A.g=R}else Ro(A);0<u.i.length&&tr(u)}else q[0]!="stop"&&q[0]!="close"||Ee(u,7);else u.G==3&&(q[0]=="stop"||q[0]=="close"?q[0]=="stop"?Ee(u,7):ms(u):q[0]!="noop"&&u.l&&u.l.ta(q),u.v=0)}}rn(4)}catch{}}var Zu=class{constructor(i,c){this.g=i,this.map=c}};function io(i){this.l=i||10,l.PerformanceNavigationTiming?(i=l.performance.getEntriesByType("navigation"),i=0<i.length&&(i[0].nextHopProtocol=="hq"||i[0].nextHopProtocol=="h2")):i=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oo(i){return i.h?!0:i.g?i.g.size>=i.j:!1}function ao(i){return i.h?1:i.g?i.g.size:0}function fs(i,c){return i.h?i.h==c:i.g?i.g.has(c):!1}function gs(i,c){i.g?i.g.add(c):i.h=c}function co(i,c){i.h&&i.h==c?i.h=null:i.g&&i.g.has(c)&&i.g.delete(c)}io.prototype.cancel=function(){if(this.i=uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const i of this.g.values())i.cancel();this.g.clear()}};function uo(i){if(i.h!=null)return i.i.concat(i.h.D);if(i.g!=null&&i.g.size!==0){let c=i.i;for(const u of i.g.values())c=c.concat(u.D);return c}return x(i.i)}function $u(i){if(i.V&&typeof i.V=="function")return i.V();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if(typeof i=="string")return i.split("");if(h(i)){for(var c=[],u=i.length,A=0;A<u;A++)c.push(i[A]);return c}c=[],u=0;for(A in i)c[u++]=i[A];return c}function tl(i){if(i.na&&typeof i.na=="function")return i.na();if(!i.V||typeof i.V!="function"){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(h(i)||typeof i=="string"){var c=[];i=i.length;for(var u=0;u<i;u++)c.push(u);return c}c=[],u=0;for(const A in i)c[u++]=A;return c}}}function lo(i,c){if(i.forEach&&typeof i.forEach=="function")i.forEach(c,void 0);else if(h(i)||typeof i=="string")Array.prototype.forEach.call(i,c,void 0);else for(var u=tl(i),A=$u(i),T=A.length,_=0;_<T;_++)c.call(void 0,A[_],u&&u[_],i)}var ho=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function el(i,c){if(i){i=i.split("&");for(var u=0;u<i.length;u++){var A=i[u].indexOf("="),T=null;if(0<=A){var _=i[u].substring(0,A);T=i[u].substring(A+1)}else _=i[u];c(_,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function pe(i){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,i instanceof pe){this.h=i.h,Wn(this,i.j),this.o=i.o,this.g=i.g,Gn(this,i.s),this.l=i.l;var c=i.i,u=new ln;u.i=c.i,c.g&&(u.g=new Map(c.g),u.h=c.h),Ao(this,u),this.m=i.m}else i&&(c=String(i).match(ho))?(this.h=!1,Wn(this,c[1]||"",!0),this.o=cn(c[2]||""),this.g=cn(c[3]||"",!0),Gn(this,c[4]),this.l=cn(c[5]||"",!0),Ao(this,c[6]||"",!0),this.m=cn(c[7]||"")):(this.h=!1,this.i=new ln(null,this.h))}pe.prototype.toString=function(){var i=[],c=this.j;c&&i.push(un(c,fo,!0),":");var u=this.g;return(u||c=="file")&&(i.push("//"),(c=this.o)&&i.push(un(c,fo,!0),"@"),i.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.s,u!=null&&i.push(":",String(u))),(u=this.l)&&(this.g&&u.charAt(0)!="/"&&i.push("/"),i.push(un(u,u.charAt(0)=="/"?sl:rl,!0))),(u=this.i.toString())&&i.push("?",u),(u=this.m)&&i.push("#",un(u,ol)),i.join("")};function qt(i){return new pe(i)}function Wn(i,c,u){i.j=u?cn(c,!0):c,i.j&&(i.j=i.j.replace(/:$/,""))}function Gn(i,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);i.s=c}else i.s=null}function Ao(i,c,u){c instanceof ln?(i.i=c,al(i.i,i.h)):(u||(c=un(c,il)),i.i=new ln(c,i.h))}function J(i,c,u){i.i.set(c,u)}function Xn(i){return J(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function cn(i,c){return i?c?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function un(i,c,u){return typeof i=="string"?(i=encodeURI(i).replace(c,nl),u&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function nl(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var fo=/[#\/\?@]/g,rl=/[#\?:]/g,sl=/[#\?]/g,il=/[#\?@]/g,ol=/#/g;function ln(i,c){this.h=this.g=null,this.i=i||null,this.j=!!c}function $t(i){i.g||(i.g=new Map,i.h=0,i.i&&el(i.i,function(c,u){i.add(decodeURIComponent(c.replace(/\+/g," ")),u)}))}n=ln.prototype,n.add=function(i,c){$t(this),this.i=null,i=Qe(this,i);var u=this.g.get(i);return u||this.g.set(i,u=[]),u.push(c),this.h+=1,this};function go(i,c){$t(i),c=Qe(i,c),i.g.has(c)&&(i.i=null,i.h-=i.g.get(c).length,i.g.delete(c))}function mo(i,c){return $t(i),c=Qe(i,c),i.g.has(c)}n.forEach=function(i,c){$t(this),this.g.forEach(function(u,A){u.forEach(function(T){i.call(c,T,A,this)},this)},this)},n.na=function(){$t(this);const i=Array.from(this.g.values()),c=Array.from(this.g.keys()),u=[];for(let A=0;A<c.length;A++){const T=i[A];for(let _=0;_<T.length;_++)u.push(c[A])}return u},n.V=function(i){$t(this);let c=[];if(typeof i=="string")mo(this,i)&&(c=c.concat(this.g.get(Qe(this,i))));else{i=Array.from(this.g.values());for(let u=0;u<i.length;u++)c=c.concat(i[u])}return c},n.set=function(i,c){return $t(this),this.i=null,i=Qe(this,i),mo(this,i)&&(this.h-=this.g.get(i).length),this.g.set(i,[c]),this.h+=1,this},n.get=function(i,c){return i?(i=this.V(i),0<i.length?String(i[0]):c):c};function po(i,c,u){go(i,c),0<u.length&&(i.i=null,i.g.set(Qe(i,c),x(u)),i.h+=u.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],c=Array.from(this.g.keys());for(var u=0;u<c.length;u++){var A=c[u];const _=encodeURIComponent(String(A)),R=this.V(A);for(A=0;A<R.length;A++){var T=_;R[A]!==""&&(T+="="+encodeURIComponent(String(R[A]))),i.push(T)}}return this.i=i.join("&")};function Qe(i,c){return c=String(c),i.j&&(c=c.toLowerCase()),c}function al(i,c){c&&!i.j&&($t(i),i.i=null,i.g.forEach(function(u,A){var T=A.toLowerCase();A!=T&&(go(this,A),po(this,T,u))},i)),i.j=c}function cl(i,c){const u=new on;if(l.Image){const A=new Image;A.onload=Q(te,u,"TestLoadImage: loaded",!0,c,A),A.onerror=Q(te,u,"TestLoadImage: error",!1,c,A),A.onabort=Q(te,u,"TestLoadImage: abort",!1,c,A),A.ontimeout=Q(te,u,"TestLoadImage: timeout",!1,c,A),l.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=i}else c(!1)}function ul(i,c){const u=new on,A=new AbortController,T=setTimeout(()=>{A.abort(),te(u,"TestPingServer: timeout",!1,c)},1e4);fetch(i,{signal:A.signal}).then(_=>{clearTimeout(T),_.ok?te(u,"TestPingServer: ok",!0,c):te(u,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(T),te(u,"TestPingServer: error",!1,c)})}function te(i,c,u,A,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),A(u)}catch{}}function ll(){this.g=new Yu}function hl(i,c,u){const A=u||"";try{lo(i,function(T,_){let R=T;f(T)&&(R=ss(T)),c.push(A+_+"="+encodeURIComponent(R))})}catch(T){throw c.push(A+"type="+encodeURIComponent("_badmap")),T}}function Jn(i){this.l=i.Ub||null,this.j=i.eb||!1}b(Jn,is),Jn.prototype.g=function(){return new Kn(this.l,this.j)},Jn.prototype.i=function(i){return function(){return i}}({});function Kn(i,c){mt.call(this),this.D=i,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Kn,mt),n=Kn.prototype,n.open=function(i,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=i,this.A=c,this.readyState=1,An(this)},n.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};i&&(c.body=i),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hn(this)),this.readyState=0},n.Sa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,An(this)),this.g&&(this.readyState=3,An(this),this.g)))if(this.responseType==="arraybuffer")i.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eo(this)}else i.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eo(i){i.j.read().then(i.Pa.bind(i)).catch(i.ga.bind(i))}n.Pa=function(i){if(this.g){if(this.o&&i.value)this.response.push(i.value);else if(!this.o){var c=i.value?i.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!i.done}))&&(this.response=this.responseText+=c)}i.done?hn(this):An(this),this.readyState==3&&Eo(this)}},n.Ra=function(i){this.g&&(this.response=this.responseText=i,hn(this))},n.Qa=function(i){this.g&&(this.response=i,hn(this))},n.ga=function(){this.g&&hn(this)};function hn(i){i.readyState=4,i.l=null,i.j=null,i.v=null,An(i)}n.setRequestHeader=function(i,c){this.u.append(i,c)},n.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],c=this.h.entries();for(var u=c.next();!u.done;)u=u.value,i.push(u[0]+": "+u[1]),u=c.next();return i.join(`\r
`)};function An(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty(Kn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(i){this.m=i?"include":"same-origin"}});function Io(i){let c="";return gt(i,function(u,A){c+=A,c+=":",c+=u,c+=`\r
`}),c}function ds(i,c,u){t:{for(A in u){var A=!1;break t}A=!0}A||(u=Io(u),typeof i=="string"?u!=null&&encodeURIComponent(String(u)):J(i,c,u))}function tt(i){mt.call(this),this.headers=new Map,this.o=i||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(tt,mt);var Al=/^https?$/i,fl=["POST","PUT"];n=tt.prototype,n.Ha=function(i){this.J=i},n.ea=function(i,c,u,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+i);c=c?c.toUpperCase():"GET",this.D=i,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cs.g(),this.v=this.o?Wi(this.o):Wi(cs),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(c,String(i),!0),this.B=!1}catch(_){yo(this,_);return}if(i=u||"",u=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var T in A)u.set(T,A[T]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const _ of A.keys())u.set(_,A.get(_));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(u.keys()).find(_=>_.toLowerCase()=="content-type"),T=l.FormData&&i instanceof l.FormData,!(0<=Array.prototype.indexOf.call(fl,c,void 0))||A||T||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_,R]of u)this.g.setRequestHeader(_,R);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vo(this),this.u=!0,this.g.send(i),this.u=!1}catch(_){yo(this,_)}};function yo(i,c){i.h=!1,i.g&&(i.j=!0,i.g.abort(),i.j=!1),i.l=c,i.m=5,Co(i),Zn(i)}function Co(i){i.A||(i.A=!0,Tt(i,"complete"),Tt(i,"error"))}n.abort=function(i){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=i||7,Tt(this,"complete"),Tt(this,"abort"),Zn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zn(this,!0)),tt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?To(this):this.bb())},n.bb=function(){To(this)};function To(i){if(i.h&&typeof a<"u"&&(!i.v[1]||Yt(i)!=4||i.Z()!=2)){if(i.u&&Yt(i)==4)Ui(i.Ea,0,i);else if(Tt(i,"readystatechange"),Yt(i)==4){i.h=!1;try{const R=i.Z();t:switch(R){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var u;if(!(u=c)){var A;if(A=R===0){var T=String(i.D).match(ho)[1]||null;!T&&l.self&&l.self.location&&(T=l.self.location.protocol.slice(0,-1)),A=!Al.test(T?T.toLowerCase():"")}u=A}if(u)Tt(i,"complete"),Tt(i,"success");else{i.m=6;try{var _=2<Yt(i)?i.g.statusText:""}catch{_=""}i.l=_+" ["+i.Z()+"]",Co(i)}}finally{Zn(i)}}}}function Zn(i,c){if(i.g){vo(i);const u=i.g,A=i.v[0]?()=>{}:null;i.g=null,i.v=null,c||Tt(i,"ready");try{u.onreadystatechange=A}catch{}}}function vo(i){i.I&&(l.clearTimeout(i.I),i.I=null)}n.isActive=function(){return!!this.g};function Yt(i){return i.g?i.g.readyState:0}n.Z=function(){try{return 2<Yt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(i){if(this.g){var c=this.g.responseText;return i&&c.indexOf(i)==0&&(c=c.substring(i.length)),qu(c)}};function wo(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.H){case"":case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function gl(i){const c={};i=(i.g&&2<=Yt(i)&&i.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<i.length;A++){if(j(i[A]))continue;var u=I(i[A]);const T=u[0];if(u=u[1],typeof u!="string")continue;u=u.trim();const _=c[T]||[];c[T]=_,_.push(u)}y(c,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fn(i,c,u){return u&&u.internalChannelParams&&u.internalChannelParams[i]||c}function _o(i){this.Aa=0,this.i=[],this.j=new on,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fn("failFast",!1,i),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fn("baseRetryDelayMs",5e3,i),this.cb=fn("retryDelaySeedMs",1e4,i),this.Wa=fn("forwardChannelMaxRetries",2,i),this.wa=fn("forwardChannelRequestTimeoutMs",2e4,i),this.pa=i&&i.xmlHttpFactory||void 0,this.Xa=i&&i.Tb||void 0,this.Ca=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.h=new io(i&&i.concurrentRequestLimit),this.Da=new ll,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=i&&i.Rb||!1,i&&i.xa&&this.j.xa(),i&&i.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&i&&i.detectBufferingProxy||!1,this.ja=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.ja=i.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=_o.prototype,n.la=8,n.G=1,n.connect=function(i,c,u,A){vt(0),this.W=i,this.H=c||{},u&&A!==void 0&&(this.H.OSID=u,this.H.OAID=A),this.F=this.X,this.I=xo(this,null,this.W),tr(this)};function ms(i){if(Bo(i),i.G==3){var c=i.U++,u=qt(i.I);if(J(u,"SID",i.K),J(u,"RID",c),J(u,"TYPE","terminate"),gn(i,u),c=new Zt(i,i.j,c),c.L=2,c.v=Xn(qt(u)),u=!1,l.navigator&&l.navigator.sendBeacon)try{u=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!u&&l.Image&&(new Image().src=c.v,u=!0),u||(c.g=No(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Yn(c)}Vo(i)}function $n(i){i.g&&(Es(i),i.g.cancel(),i.g=null)}function Bo(i){$n(i),i.u&&(l.clearTimeout(i.u),i.u=null),er(i),i.h.cancel(),i.s&&(typeof i.s=="number"&&l.clearTimeout(i.s),i.s=null)}function tr(i){if(!oo(i.h)&&!i.s){i.s=!0;var c=i.Ga;Ze||ki(),$e||(Ze(),$e=!0),Jr.add(c,i),i.B=0}}function dl(i,c){return ao(i.h)>=i.h.j-(i.s?1:0)?!1:i.s?(i.i=c.D.concat(i.i),!0):i.G==1||i.G==2||i.B>=(i.Va?0:i.Wa)?!1:(i.s=sn(C(i.Ga,i,c),So(i,i.B)),i.B++,!0)}n.Ga=function(i){if(this.s)if(this.s=null,this.G==1){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const T=new Zt(this,this.j,i);let _=this.o;if(this.S&&(_?(_=g(_),E(_,this.S)):_=this.S),this.m!==null||this.O||(T.H=_,_=null),this.P)t:{for(var c=0,u=0;u<this.i.length;u++){e:{var A=this.i[u];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(c+=A,4096<c){c=u;break t}if(c===4096||u===this.i.length-1){c=u+1;break t}}c=1e3}else c=1e3;c=Qo(this,T,c),u=qt(this.I),J(u,"RID",i),J(u,"CVER",22),this.D&&J(u,"X-HTTP-Session-Id",this.D),gn(this,u),_&&(this.O?c="headers="+encodeURIComponent(String(Io(_)))+"&"+c:this.m&&ds(u,this.m,_)),gs(this.h,T),this.Ua&&J(u,"TYPE","init"),this.P?(J(u,"$req",c),J(u,"SID","null"),T.T=!0,ls(T,u,null)):ls(T,u,c),this.G=2}}else this.G==3&&(i?Po(this,i):this.i.length==0||oo(this.h)||Po(this))};function Po(i,c){var u;c?u=c.l:u=i.U++;const A=qt(i.I);J(A,"SID",i.K),J(A,"RID",u),J(A,"AID",i.T),gn(i,A),i.m&&i.o&&ds(A,i.m,i.o),u=new Zt(i,i.j,u,i.B+1),i.m===null&&(u.H=i.o),c&&(i.i=c.D.concat(i.i)),c=Qo(i,u,1e3),u.I=Math.round(.5*i.wa)+Math.round(.5*i.wa*Math.random()),gs(i.h,u),ls(u,A,c)}function gn(i,c){i.H&&gt(i.H,function(u,A){J(c,A,u)}),i.l&&lo({},function(u,A){J(c,A,u)})}function Qo(i,c,u){u=Math.min(i.i.length,u);var A=i.l?C(i.l.Na,i.l,i):null;t:{var T=i.i;let _=-1;for(;;){const R=["count="+u];_==-1?0<u?(_=T[0].g,R.push("ofs="+_)):_=0:R.push("ofs="+_);let X=!0;for(let ut=0;ut<u;ut++){let q=T[ut].g;const pt=T[ut].map;if(q-=_,0>q)_=Math.max(0,T[ut].g-100),X=!1;else try{hl(pt,R,"req"+q+"_")}catch{A&&A(pt)}}if(X){A=R.join("&");break t}}}return i=i.i.splice(0,u),c.D=i,A}function Ro(i){if(!i.g&&!i.u){i.Y=1;var c=i.Fa;Ze||ki(),$e||(Ze(),$e=!0),Jr.add(c,i),i.v=0}}function ps(i){return i.g||i.u||3<=i.v?!1:(i.Y++,i.u=sn(C(i.Fa,i),So(i,i.v)),i.v++,!0)}n.Fa=function(){if(this.u=null,bo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var i=2*this.R;this.j.info("BP detection timer enabled: "+i),this.A=sn(C(this.ab,this),i)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),$n(this),bo(this))};function Es(i){i.A!=null&&(l.clearTimeout(i.A),i.A=null)}function bo(i){i.g=new Zt(i,i.j,"rpc",i.Y),i.m===null&&(i.g.H=i.o),i.g.O=0;var c=qt(i.qa);J(c,"RID","rpc"),J(c,"SID",i.K),J(c,"AID",i.T),J(c,"CI",i.F?"0":"1"),!i.F&&i.ja&&J(c,"TO",i.ja),J(c,"TYPE","xmlhttp"),gn(i,c),i.m&&i.o&&ds(c,i.m,i.o),i.L&&(i.g.I=i.L);var u=i.g;i=i.ia,u.L=1,u.v=Xn(qt(c)),u.m=null,u.P=!0,no(u,i)}n.Za=function(){this.C!=null&&(this.C=null,$n(this),ps(this),vt(19))};function er(i){i.C!=null&&(l.clearTimeout(i.C),i.C=null)}function Do(i,c){var u=null;if(i.g==c){er(i),Es(i),i.g=null;var A=2}else if(fs(i.h,c))u=c.D,co(i.h,c),A=1;else return;if(i.G!=0){if(c.o)if(A==1){u=c.m?c.m.length:0,c=Date.now()-c.F;var T=i.B;A=Un(),Tt(A,new Zi(A,u)),tr(i)}else Ro(i);else if(T=c.s,T==3||T==0&&0<c.X||!(A==1&&dl(i,c)||A==2&&ps(i)))switch(u&&0<u.length&&(c=i.h,c.i=c.i.concat(u)),T){case 1:Ee(i,5);break;case 4:Ee(i,10);break;case 3:Ee(i,6);break;default:Ee(i,2)}}}function So(i,c){let u=i.Ta+Math.floor(Math.random()*i.cb);return i.isActive()||(u*=2),u*c}function Ee(i,c){if(i.j.info("Error code "+c),c==2){var u=C(i.fb,i),A=i.Xa;const T=!A;A=new pe(A||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Wn(A,"https"),Xn(A),T?cl(A.toString(),u):ul(A.toString(),u)}else vt(2);i.G=0,i.l&&i.l.sa(c),Vo(i),Bo(i)}n.fb=function(i){i?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Vo(i){if(i.G=0,i.ka=[],i.l){const c=uo(i.h);(c.length!=0||i.i.length!=0)&&(D(i.ka,c),D(i.ka,i.i),i.h.i.length=0,x(i.i),i.i.length=0),i.l.ra()}}function xo(i,c,u){var A=u instanceof pe?qt(u):new pe(u);if(A.g!="")c&&(A.g=c+"."+A.g),Gn(A,A.s);else{var T=l.location;A=T.protocol,c=c?c+"."+T.hostname:T.hostname,T=+T.port;var _=new pe(null);A&&Wn(_,A),c&&(_.g=c),T&&Gn(_,T),u&&(_.l=u),A=_}return u=i.D,c=i.ya,u&&c&&J(A,u,c),J(A,"VER",i.la),gn(i,A),A}function No(i,c,u){if(c&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=i.Ca&&!i.pa?new tt(new Jn({eb:u})):new tt(i.pa),c.Ha(i.J),c}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mo(){}n=Mo.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function nr(){}nr.prototype.g=function(i,c){return new Pt(i,c)};function Pt(i,c){mt.call(this),this.g=new _o(c),this.l=i,this.h=c&&c.messageUrlParams||null,i=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.o=i,i=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(i?i["X-WebChannel-Content-Type"]=c.messageContentType:i={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(i?i["X-WebChannel-Client-Profile"]=c.va:i={"X-WebChannel-Client-Profile":c.va}),this.g.S=i,(i=c&&c.Sb)&&!j(i)&&(this.g.m=i),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!j(c)&&(this.g.D=c,i=this.h,i!==null&&c in i&&(i=this.h,c in i&&delete i[c])),this.j=new Re(this)}b(Pt,mt),Pt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pt.prototype.close=function(){ms(this.g)},Pt.prototype.o=function(i){var c=this.g;if(typeof i=="string"){var u={};u.__data__=i,i=u}else this.u&&(u={},u.__data__=ss(i),i=u);c.i.push(new Zu(c.Ya++,i)),c.G==3&&tr(c)},Pt.prototype.N=function(){this.g.l=null,delete this.j,ms(this.g),delete this.g,Pt.aa.N.call(this)};function Oo(i){os.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var c=i.__sm__;if(c){t:{for(const u in c){i=u;break t}i=void 0}(this.i=i)&&(i=this.i,c=c!==null&&i in c?c[i]:void 0),this.data=c}else this.data=i}b(Oo,os);function ko(){as.call(this),this.status=1}b(ko,as);function Re(i){this.g=i}b(Re,Mo),Re.prototype.ua=function(){Tt(this.g,"a")},Re.prototype.ta=function(i){Tt(this.g,new Oo(i))},Re.prototype.sa=function(i){Tt(this.g,new ko)},Re.prototype.ra=function(){Tt(this.g,"b")},nr.prototype.createWebChannel=nr.prototype.g,Pt.prototype.send=Pt.prototype.o,Pt.prototype.open=Pt.prototype.m,Pt.prototype.close=Pt.prototype.close,ac=function(){return new nr},oc=function(){return Un()},ic=de,Ns={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zn.NO_ERROR=0,zn.TIMEOUT=8,zn.HTTP_ERROR=6,ur=zn,$i.COMPLETE="complete",sc=$i,Gi.EventType=nn,nn.OPEN="a",nn.CLOSE="b",nn.ERROR="c",nn.MESSAGE="d",mt.prototype.listen=mt.prototype.K,dn=Gi,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,rc=tt}).apply(typeof sr<"u"?sr:typeof self<"u"?self:typeof window<"u"?window:{});const Ko="@firebase/firestore",Zo="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ye="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve=new Ja("@firebase/firestore");function De(){return ve.logLevel}function S(n,...t){if(ve.logLevel<=z.DEBUG){const e=t.map(ei);ve.debug(`Firestore (${Ye}): ${n}`,...e)}}function Xt(n,...t){if(ve.logLevel<=z.ERROR){const e=t.map(ei);ve.error(`Firestore (${Ye}): ${n}`,...e)}}function ke(n,...t){if(ve.logLevel<=z.WARN){const e=t.map(ei);ve.warn(`Firestore (${Ye}): ${n}`,...e)}}function ei(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,cc(n,r,e)}function cc(n,t,e){let r=`FIRESTORE (${Ye}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Xt(r),new Error(r)}function W(n,t,e,r){let s="Unexpected state";typeof e=="string"?s=e:r=e,n||cc(t,s,r)}function k(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class V extends qe{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class sA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(yt.UNAUTHENTICATED))}shutdown(){}}class iA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class oA{constructor(t){this.t=t,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){W(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,e(h)):Promise.resolve();let o=new Wt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Wt,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const h=o;t.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},l=h=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(h=>l(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?l(h):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Wt)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(W(typeof r.accessToken=="string",31837,{l:r}),new uc(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return W(t===null||typeof t=="string",2055,{h:t}),new yt(t)}}class aA{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cA{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new aA(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $o{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uA{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Lh(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){W(this.o===void 0,3512);const r=o=>{o.error!=null&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,S("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const s=o=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $o(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(W(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new $o(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=lA(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<e&&(r+=t.charAt(s[o]%62))}return r}}function L(n,t){return n<t?-1:n>t?1:0}function Ms(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const s=n.charAt(r),o=t.charAt(r);if(s!==o)return _s(s)===_s(o)?L(s,o):_s(s)?1:-1}return L(n.length,t.length)}const hA=55296,AA=57343;function _s(n){const t=n.charCodeAt(0);return t>=hA&&t<=AA}function Le(n,t,e){return n.length===t.length&&n.every((r,s)=>e(r,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="__name__";class Mt{constructor(t,e,r){e===void 0?e=0:e>t.length&&M(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&M(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return Mt.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Mt?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let s=0;s<r;s++){const o=Mt.compareSegments(t.get(s),e.get(s));if(o!==0)return o}return L(t.length,e.length)}static compareSegments(t,e){const r=Mt.isNumericId(t),s=Mt.isNumericId(e);return r&&!s?-1:!r&&s?1:r&&s?Mt.extractNumericId(t).compare(Mt.extractNumericId(e)):Ms(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return se.fromString(t.substring(4,t.length-2))}}class K extends Mt{construct(t,e,r){return new K(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new V(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(s=>s.length>0))}return new K(e)}static emptyPath(){return new K([])}}const fA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends Mt{construct(t,e,r){return new ht(t,e,r)}static isValidIdentifier(t){return fA.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ta}static keyField(){return new ht([ta])}static fromServerFormat(t){const e=[];let r="",s=0;const o=()=>{if(r.length===0)throw new V(P.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let a=!1;for(;s<t.length;){const l=t[s];if(l==="\\"){if(s+1===t.length)throw new V(P.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new V(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=h,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(o(),s++)}if(o(),a)throw new V(P.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ht(e)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(t){this.path=t}static fromPath(t){return new N(K.fromString(t))}static fromName(t){return new N(K.fromString(t).popFirst(5))}static empty(){return new N(K.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&K.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return K.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new N(new K(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(n,t,e){if(!e)throw new V(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function gA(n,t,e,r){if(t===!0&&r===!0)throw new V(P.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function ea(n){if(!N.isDocumentKey(n))throw new V(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function na(n){if(N.isDocumentKey(n))throw new V(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function hc(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ri(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":M(12329,{type:typeof n})}function jt(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new V(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=ri(n);throw new V(P.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(n,t){const e={typeString:n};return t&&(e.value=t),e}function Vn(n,t){if(!hc(n))throw new V(P.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const s=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const a=n[r];if(s&&typeof a!==s){e=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&a!==o.value){e=`Expected '${r}' field to equal '${o.value}'`;break}}if(e)throw new V(P.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=-62135596800,sa=1e6;class Z{static now(){return Z.fromMillis(Date.now())}static fromDate(t){return Z.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*sa);return new Z(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new V(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new V(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<ra)throw new V(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new V(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sa}_compareTo(t){return this.seconds===t.seconds?L(this.nanoseconds,t.nanoseconds):L(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Z._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Vn(t,Z._jsonSchema))return new Z(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-ra;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Z._jsonSchemaVersion="firestore/timestamp/1.0",Z._jsonSchema={type:rt("string",Z._jsonSchemaVersion),seconds:rt("number"),nanoseconds:rt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{static fromTimestamp(t){return new O(t)}static min(){return new O(new Z(0,0))}static max(){return new O(new Z(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn=-1;function dA(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=O.fromTimestamp(r===1e9?new Z(e+1,0):new Z(e,r));return new ae(s,N.empty(),t)}function mA(n){return new ae(n.readTime,n.key,Bn)}class ae{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new ae(O.min(),N.empty(),Bn)}static max(){return new ae(O.max(),N.empty(),Bn)}}function pA(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=N.comparator(n.documentKey,t.documentKey),e!==0?e:L(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function We(n){if(n.code!==P.FAILED_PRECONDITION||n.message!==EA)throw n;S("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&M(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new B((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(e,o).next(r,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof B?e:B.resolve(e)}catch(e){return B.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):B.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):B.reject(e)}static resolve(t){return new B((e,r)=>{e(t)})}static reject(t){return new B((e,r)=>{r(t)})}static waitFor(t){return new B((e,r)=>{let s=0,o=0,a=!1;t.forEach(l=>{++s,l.next(()=>{++o,a&&o===s&&e()},h=>r(h))}),a=!0,o===s&&e()})}static or(t){let e=B.resolve(!1);for(const r of t)e=e.next(s=>s?B.resolve(s):r());return e}static forEach(t,e){const r=[];return t.forEach((s,o)=>{r.push(e.call(this,s,o))}),this.waitFor(r)}static mapArray(t,e){return new B((r,s)=>{const o=t.length,a=new Array(o);let l=0;for(let h=0;h<o;h++){const f=h;e(t[f]).next(m=>{a[f]=m,++l,l===o&&r(a)},m=>s(m))}})}static doWhile(t,e){return new B((r,s)=>{const o=()=>{t()===!0?e().next(()=>{o()},s):r()};o()})}}function yA(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Ge(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Sr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=-1;function Vr(n){return n==null}function Ir(n){return n===0&&1/n==-1/0}function CA(n){return typeof n=="number"&&Number.isInteger(n)&&!Ir(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac="";function TA(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=ia(t)),t=vA(n.get(e),t);return ia(t)}function vA(n,t){let e=t;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":e+="";break;case Ac:e+="";break;default:e+=o}}return e}function ia(n){return n+Ac+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function fe(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function fc(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t,e){this.comparator=t,this.root=e||lt.EMPTY}insert(t,e){return new $(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,lt.BLACK,null,null))}remove(t){return new $(this.comparator,this.root.remove(t,this.comparator).copy(null,null,lt.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return e+r.left.size;s<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ir(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ir(this.root,t,this.comparator,!1)}getReverseIterator(){return new ir(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ir(this.root,t,this.comparator,!0)}}class ir{constructor(t,e,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?r(t.key,e):1,e&&s&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class lt{constructor(t,e,r,s,o){this.key=t,this.value=e,this.color=r??lt.RED,this.left=s??lt.EMPTY,this.right=o??lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,s,o){return new lt(t??this.key,e??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let s=this;const o=r(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,e,r),null):o===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return lt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return lt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw M(43730,{key:this.key,value:this.value});if(this.right.isRed())throw M(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw M(27949);return t+(this.isRed()?0:1)}}lt.EMPTY=null,lt.RED=!0,lt.BLACK=!1;lt.EMPTY=new class{constructor(){this.size=0}get key(){throw M(57766)}get value(){throw M(16141)}get color(){throw M(16727)}get left(){throw M(29726)}get right(){throw M(36894)}copy(t,e,r,s,o){return this}insert(t,e,r){return new lt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(t){this.comparator=t,this.data=new $(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new aa(this.data.getIterator())}getIteratorFrom(t){return new aa(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof ot)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new ot(this.comparator);return e.data=t,e}}class aa{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t){this.fields=t,t.sort(ht.comparator)}static empty(){return new bt([])}unionWith(t){let e=new ot(ht.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new bt(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Le(this.fields,t.fields,(e,r)=>e.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new gc("Invalid base64 string: "+o):o}}(t);return new ft(e)}static fromUint8Array(t){const e=function(s){let o="";for(let a=0;a<s.length;++a)o+=String.fromCharCode(s[a]);return o}(t);return new ft(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let s=0;s<e.length;s++)r[s]=e.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return L(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ft.EMPTY_BYTE_STRING=new ft("");const wA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ce(n){if(W(!!n,39018),typeof n=="string"){let t=0;const e=wA.exec(n);if(W(!!e,46558,{timestamp:n}),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:et(n.seconds),nanos:et(n.nanos)}}function et(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ue(n){return typeof n=="string"?ft.fromBase64String(n):ft.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc="server_timestamp",mc="__type__",pc="__previous_value__",Ec="__local_write_time__";function ii(n){return(n?.mapValue?.fields||{})[mc]?.stringValue===dc}function xr(n){const t=n.mapValue.fields[pc];return ii(t)?xr(t):t}function Pn(n){const t=ce(n.mapValue.fields[Ec].timestampValue);return new Z(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(t,e,r,s,o,a,l,h,f,m){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=m}}const yr="(default)";class Qn{constructor(t,e){this.projectId=t,this.database=e||yr}static empty(){return new Qn("","")}get isDefaultDatabase(){return this.database===yr}isEqual(t){return t instanceof Qn&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic="__type__",BA="__max__",or={mapValue:{}},yc="__vector__",Cr="value";function le(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ii(n)?4:QA(n)?9007199254740991:PA(n)?10:11:M(28295,{value:n})}function Ft(n,t){if(n===t)return!0;const e=le(n);if(e!==le(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Pn(n).isEqual(Pn(t));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const a=ce(s.timestampValue),l=ce(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(s,o){return ue(s.bytesValue).isEqual(ue(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(s,o){return et(s.geoPointValue.latitude)===et(o.geoPointValue.latitude)&&et(s.geoPointValue.longitude)===et(o.geoPointValue.longitude)}(n,t);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return et(s.integerValue)===et(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const a=et(s.doubleValue),l=et(o.doubleValue);return a===l?Ir(a)===Ir(l):isNaN(a)&&isNaN(l)}return!1}(n,t);case 9:return Le(n.arrayValue.values||[],t.arrayValue.values||[],Ft);case 10:case 11:return function(s,o){const a=s.mapValue.fields||{},l=o.mapValue.fields||{};if(oa(a)!==oa(l))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(l[h]===void 0||!Ft(a[h],l[h])))return!1;return!0}(n,t);default:return M(52216,{left:n})}}function Rn(n,t){return(n.values||[]).find(e=>Ft(e,t))!==void 0}function He(n,t){if(n===t)return 0;const e=le(n),r=le(t);if(e!==r)return L(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return L(n.booleanValue,t.booleanValue);case 2:return function(o,a){const l=et(o.integerValue||o.doubleValue),h=et(a.integerValue||a.doubleValue);return l<h?-1:l>h?1:l===h?0:isNaN(l)?isNaN(h)?0:-1:1}(n,t);case 3:return ca(n.timestampValue,t.timestampValue);case 4:return ca(Pn(n),Pn(t));case 5:return Ms(n.stringValue,t.stringValue);case 6:return function(o,a){const l=ue(o),h=ue(a);return l.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(o,a){const l=o.split("/"),h=a.split("/");for(let f=0;f<l.length&&f<h.length;f++){const m=L(l[f],h[f]);if(m!==0)return m}return L(l.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,a){const l=L(et(o.latitude),et(a.latitude));return l!==0?l:L(et(o.longitude),et(a.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return ua(n.arrayValue,t.arrayValue);case 10:return function(o,a){const l=o.fields||{},h=a.fields||{},f=l[Cr]?.arrayValue,m=h[Cr]?.arrayValue,v=L(f?.values?.length||0,m?.values?.length||0);return v!==0?v:ua(f,m)}(n.mapValue,t.mapValue);case 11:return function(o,a){if(o===or.mapValue&&a===or.mapValue)return 0;if(o===or.mapValue)return 1;if(a===or.mapValue)return-1;const l=o.fields||{},h=Object.keys(l),f=a.fields||{},m=Object.keys(f);h.sort(),m.sort();for(let v=0;v<h.length&&v<m.length;++v){const C=Ms(h[v],m[v]);if(C!==0)return C;const Q=He(l[h[v]],f[m[v]]);if(Q!==0)return Q}return L(h.length,m.length)}(n.mapValue,t.mapValue);default:throw M(23264,{he:e})}}function ca(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return L(n,t);const e=ce(n),r=ce(t),s=L(e.seconds,r.seconds);return s!==0?s:L(e.nanos,r.nanos)}function ua(n,t){const e=n.values||[],r=t.values||[];for(let s=0;s<e.length&&s<r.length;++s){const o=He(e[s],r[s]);if(o)return o}return L(e.length,r.length)}function je(n){return Os(n)}function Os(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const r=ce(e);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return ue(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return N.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let r="[",s=!0;for(const o of e.values||[])s?s=!1:r+=",",r+=Os(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(e){const r=Object.keys(e.fields||{}).sort();let s="{",o=!0;for(const a of r)o?o=!1:s+=",",s+=`${a}:${Os(e.fields[a])}`;return s+"}"}(n.mapValue):M(61005,{value:n})}function lr(n){switch(le(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=xr(n);return t?16+lr(t):16;case 5:return 2*n.stringValue.length;case 6:return ue(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+lr(o),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return fe(r.fields,(o,a)=>{s+=o.length+lr(a)}),s}(n.mapValue);default:throw M(13486,{value:n})}}function ks(n){return!!n&&"integerValue"in n}function oi(n){return!!n&&"arrayValue"in n}function la(n){return!!n&&"nullValue"in n}function ha(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hr(n){return!!n&&"mapValue"in n}function PA(n){return(n?.mapValue?.fields||{})[Ic]?.stringValue===yc}function yn(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return fe(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=yn(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=yn(n.arrayValue.values[e]);return t}return{...n}}function QA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===BA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(t){this.value=t}static empty(){return new Bt({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!hr(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=yn(e)}setAll(t){let e=ht.emptyPath(),r={},s=[];t.forEach((a,l)=>{if(!e.isImmediateParentOf(l)){const h=this.getFieldsMap(e);this.applyChanges(h,r,s),r={},s=[],e=l.popLast()}a?r[l.lastSegment()]=yn(a):s.push(l.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,r,s)}delete(t){const e=this.field(t.popLast());hr(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ft(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=e.mapValue.fields[t.get(r)];hr(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,r){fe(e,(s,o)=>t[s]=o);for(const s of r)delete t[s]}clone(){return new Bt(yn(this.value))}}function Cc(n){const t=[];return fe(n.fields,(e,r)=>{const s=new ht([e]);if(hr(r)){const o=Cc(r.mapValue).fields;if(o.length===0)t.push(s);else for(const a of o)t.push(s.child(a))}else t.push(s)}),new bt(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(t,e,r,s,o,a,l){this.key=t,this.documentType=e,this.version=r,this.readTime=s,this.createTime=o,this.data=a,this.documentState=l}static newInvalidDocument(t){return new Ct(t,0,O.min(),O.min(),O.min(),Bt.empty(),0)}static newFoundDocument(t,e,r,s){return new Ct(t,1,e,O.min(),r,s,0)}static newNoDocument(t,e){return new Ct(t,2,e,O.min(),O.min(),Bt.empty(),0)}static newUnknownDocument(t,e){return new Ct(t,3,e,O.min(),O.min(),Bt.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(O.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=O.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ct&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(t,e){this.position=t,this.inclusive=e}}function Aa(n,t,e){let r=0;for(let s=0;s<n.position.length;s++){const o=t[s],a=n.position[s];if(o.field.isKeyField()?r=N.comparator(N.fromName(a.referenceValue),e.key):r=He(a,e.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function fa(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ft(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(t,e="asc"){this.field=t,this.dir=e}}function RA(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{}class it extends Tc{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new DA(t,e,r):e==="array-contains"?new xA(t,r):e==="in"?new NA(t,r):e==="not-in"?new MA(t,r):e==="array-contains-any"?new OA(t,r):new it(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new SA(t,r):new VA(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(He(e,this.value)):e!==null&&le(this.value)===le(e)&&this.matchesComparison(He(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return M(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ut extends Tc{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Ut(t,e)}matches(t){return vc(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vc(n){return n.op==="and"}function wc(n){return bA(n)&&vc(n)}function bA(n){for(const t of n.filters)if(t instanceof Ut)return!1;return!0}function Ls(n){if(n instanceof it)return n.field.canonicalString()+n.op.toString()+je(n.value);if(wc(n))return n.filters.map(t=>Ls(t)).join(",");{const t=n.filters.map(e=>Ls(e)).join(",");return`${n.op}(${t})`}}function _c(n,t){return n instanceof it?function(r,s){return s instanceof it&&r.op===s.op&&r.field.isEqual(s.field)&&Ft(r.value,s.value)}(n,t):n instanceof Ut?function(r,s){return s instanceof Ut&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,a,l)=>o&&_c(a,s.filters[l]),!0):!1}(n,t):void M(19439)}function Bc(n){return n instanceof it?function(e){return`${e.field.canonicalString()} ${e.op} ${je(e.value)}`}(n):n instanceof Ut?function(e){return e.op.toString()+" {"+e.getFilters().map(Bc).join(" ,")+"}"}(n):"Filter"}class DA extends it{constructor(t,e,r){super(t,e,r),this.key=N.fromName(r.referenceValue)}matches(t){const e=N.comparator(t.key,this.key);return this.matchesComparison(e)}}class SA extends it{constructor(t,e){super(t,"in",e),this.keys=Pc("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class VA extends it{constructor(t,e){super(t,"not-in",e),this.keys=Pc("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Pc(n,t){return(t.arrayValue?.values||[]).map(e=>N.fromName(e.referenceValue))}class xA extends it{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return oi(e)&&Rn(e.arrayValue,this.value)}}class NA extends it{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Rn(this.value.arrayValue,e)}}class MA extends it{constructor(t,e){super(t,"not-in",e)}matches(t){if(Rn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Rn(this.value.arrayValue,e)}}class OA extends it{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!oi(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>Rn(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(t,e=null,r=[],s=[],o=null,a=null,l=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=a,this.endAt=l,this.Te=null}}function ga(n,t=null,e=[],r=[],s=null,o=null,a=null){return new kA(n,t,e,r,s,o,a)}function ai(n){const t=k(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>Ls(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Vr(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>je(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>je(r)).join(",")),t.Te=e}return t.Te}function ci(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!RA(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!_c(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!fa(n.startAt,t.startAt)&&fa(n.endAt,t.endAt)}function Hs(n){return N.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(t,e=null,r=[],s=[],o=null,a="F",l=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=a,this.startAt=l,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function LA(n,t,e,r,s,o,a,l){return new Nr(n,t,e,r,s,o,a,l)}function ui(n){return new Nr(n)}function da(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function HA(n){return n.collectionGroup!==null}function Cn(n){const t=k(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new ot(ht.comparator);return a.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new vr(o,r))}),e.has(ht.keyField().canonicalString())||t.Ie.push(new vr(ht.keyField(),r))}return t.Ie}function Ot(n){const t=k(n);return t.Ee||(t.Ee=jA(t,Cn(n))),t.Ee}function jA(n,t){if(n.limitType==="F")return ga(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new vr(s.field,o)});const e=n.endAt?new Tr(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Tr(n.startAt.position,n.startAt.inclusive):null;return ga(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function js(n,t,e){return new Nr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Mr(n,t){return ci(Ot(n),Ot(t))&&n.limitType===t.limitType}function Qc(n){return`${ai(Ot(n))}|lt:${n.limitType}`}function Se(n){return`Query(target=${function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(s=>Bc(s)).join(", ")}]`),Vr(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>je(s)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>je(s)).join(",")),`Target(${r})`}(Ot(n))}; limitType=${n.limitType})`}function Or(n,t){return t.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):N.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,t)&&function(r,s){for(const o of Cn(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,t)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(n,t)&&function(r,s){return!(r.startAt&&!function(a,l,h){const f=Aa(a,l,h);return a.inclusive?f<=0:f<0}(r.startAt,Cn(r),s)||r.endAt&&!function(a,l,h){const f=Aa(a,l,h);return a.inclusive?f>=0:f>0}(r.endAt,Cn(r),s))}(n,t)}function FA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Rc(n){return(t,e)=>{let r=!1;for(const s of Cn(n)){const o=UA(s,t,e);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function UA(n,t,e){const r=n.field.isKeyField()?N.comparator(t.key,e.key):function(o,a,l){const h=a.data.field(o),f=l.data.field(o);return h!==null&&f!==null?He(h,f):M(42886)}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return M(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return void(s[o]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[e]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){fe(this.inner,(e,r)=>{for(const[s,o]of r)t(s,o)})}isEmpty(){return fc(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=new $(N.comparator);function Jt(){return zA}const bc=new $(N.comparator);function mn(...n){let t=bc;for(const e of n)t=t.insert(e.key,e);return t}function Dc(n){let t=bc;return n.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function ye(){return Tn()}function Sc(){return Tn()}function Tn(){return new _e(n=>n.toString(),(n,t)=>n.isEqual(t))}const qA=new $(N.comparator),YA=new ot(N.comparator);function H(...n){let t=YA;for(const e of n)t=t.add(e);return t}const WA=new ot(L);function GA(){return WA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ir(t)?"-0":t}}function Vc(n){return{integerValue:""+n}}function XA(n,t){return CA(t)?Vc(t):li(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(){this._=void 0}}function JA(n,t,e){return n instanceof wr?function(s,o){const a={fields:{[mc]:{stringValue:dc},[Ec]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&ii(o)&&(o=xr(o)),o&&(a.fields[pc]=o),{mapValue:a}}(e,t):n instanceof bn?Nc(n,t):n instanceof Dn?Mc(n,t):function(s,o){const a=xc(s,o),l=ma(a)+ma(s.Ae);return ks(a)&&ks(s.Ae)?Vc(l):li(s.serializer,l)}(n,t)}function KA(n,t,e){return n instanceof bn?Nc(n,t):n instanceof Dn?Mc(n,t):e}function xc(n,t){return n instanceof _r?function(r){return ks(r)||function(o){return!!o&&"doubleValue"in o}(r)}(t)?t:{integerValue:0}:null}class wr extends kr{}class bn extends kr{constructor(t){super(),this.elements=t}}function Nc(n,t){const e=Oc(t);for(const r of n.elements)e.some(s=>Ft(s,r))||e.push(r);return{arrayValue:{values:e}}}class Dn extends kr{constructor(t){super(),this.elements=t}}function Mc(n,t){let e=Oc(t);for(const r of n.elements)e=e.filter(s=>!Ft(s,r));return{arrayValue:{values:e}}}class _r extends kr{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function ma(n){return et(n.integerValue||n.doubleValue)}function Oc(n){return oi(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function ZA(n,t){return n.field.isEqual(t.field)&&function(r,s){return r instanceof bn&&s instanceof bn||r instanceof Dn&&s instanceof Dn?Le(r.elements,s.elements,Ft):r instanceof _r&&s instanceof _r?Ft(r.Ae,s.Ae):r instanceof wr&&s instanceof wr}(n.transform,t.transform)}class $A{constructor(t,e){this.version=t,this.transformResults=e}}class Vt{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Vt}static exists(t){return new Vt(void 0,t)}static updateTime(t){return new Vt(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ar(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Lr{}function kc(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new hi(n.key,Vt.none()):new xn(n.key,n.data,Vt.none());{const e=n.data,r=Bt.empty();let s=new ot(ht.comparator);for(let o of t.fields)if(!s.has(o)){let a=e.field(o);a===null&&o.length>1&&(o=o.popLast(),a=e.field(o)),a===null?r.delete(o):r.set(o,a),s=s.add(o)}return new ge(n.key,r,new bt(s.toArray()),Vt.none())}}function tf(n,t,e){n instanceof xn?function(s,o,a){const l=s.value.clone(),h=Ea(s.fieldTransforms,o,a.transformResults);l.setAll(h),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,t,e):n instanceof ge?function(s,o,a){if(!Ar(s.precondition,o))return void o.convertToUnknownDocument(a.version);const l=Ea(s.fieldTransforms,o,a.transformResults),h=o.data;h.setAll(Lc(s)),h.setAll(l),o.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(n,t,e):function(s,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,e)}function vn(n,t,e,r){return n instanceof xn?function(o,a,l,h){if(!Ar(o.precondition,a))return l;const f=o.value.clone(),m=Ia(o.fieldTransforms,h,a);return f.setAll(m),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(n,t,e,r):n instanceof ge?function(o,a,l,h){if(!Ar(o.precondition,a))return l;const f=Ia(o.fieldTransforms,h,a),m=a.data;return m.setAll(Lc(o)),m.setAll(f),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,t,e,r):function(o,a,l){return Ar(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(n,t,e)}function ef(n,t){let e=null;for(const r of n.fieldTransforms){const s=t.data.field(r.field),o=xc(r.transform,s||null);o!=null&&(e===null&&(e=Bt.empty()),e.set(r.field,o))}return e||null}function pa(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Le(r,s,(o,a)=>ZA(o,a))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class xn extends Lr{constructor(t,e,r,s=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ge extends Lr{constructor(t,e,r,s,o=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Lc(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function Ea(n,t,e){const r=new Map;W(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let s=0;s<e.length;s++){const o=n[s],a=o.transform,l=t.data.field(o.field);r.set(o.field,KA(a,l,e[s]))}return r}function Ia(n,t,e){const r=new Map;for(const s of n){const o=s.transform,a=e.data.field(s.field);r.set(s.field,JA(o,a,t))}return r}class hi extends Lr{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nf extends Lr{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(t,e,r,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(t.key)&&tf(o,t,r[s])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=vn(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=vn(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=Sc();return this.mutations.forEach(s=>{const o=t.get(s.key),a=o.overlayedDocument;let l=this.applyToLocalView(a,o.mutatedFields);l=e.has(s.key)?null:l;const h=kc(a,l);h!==null&&r.set(s.key,h),a.isValidDocument()||a.convertToNoDocument(O.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),H())}isEqual(t){return this.batchId===t.batchId&&Le(this.mutations,t.mutations,(e,r)=>pa(e,r))&&Le(this.baseMutations,t.baseMutations,(e,r)=>pa(e,r))}}class Ai{constructor(t,e,r,s){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=s}static from(t,e,r){W(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let s=function(){return qA}();const o=t.mutations;for(let a=0;a<o.length;a++)s=s.insert(o[a].key,r[a].version);return new Ai(t,e,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt,U;function af(n){switch(n){case P.OK:return M(64938);case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return M(15467,{code:n})}}function Hc(n){if(n===void 0)return Xt("GRPC error has no .code"),P.UNKNOWN;switch(n){case nt.OK:return P.OK;case nt.CANCELLED:return P.CANCELLED;case nt.UNKNOWN:return P.UNKNOWN;case nt.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case nt.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case nt.INTERNAL:return P.INTERNAL;case nt.UNAVAILABLE:return P.UNAVAILABLE;case nt.UNAUTHENTICATED:return P.UNAUTHENTICATED;case nt.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case nt.NOT_FOUND:return P.NOT_FOUND;case nt.ALREADY_EXISTS:return P.ALREADY_EXISTS;case nt.PERMISSION_DENIED:return P.PERMISSION_DENIED;case nt.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case nt.ABORTED:return P.ABORTED;case nt.OUT_OF_RANGE:return P.OUT_OF_RANGE;case nt.UNIMPLEMENTED:return P.UNIMPLEMENTED;case nt.DATA_LOSS:return P.DATA_LOSS;default:return M(39323,{code:n})}}(U=nt||(nt={}))[U.OK=0]="OK",U[U.CANCELLED=1]="CANCELLED",U[U.UNKNOWN=2]="UNKNOWN",U[U.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",U[U.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",U[U.NOT_FOUND=5]="NOT_FOUND",U[U.ALREADY_EXISTS=6]="ALREADY_EXISTS",U[U.PERMISSION_DENIED=7]="PERMISSION_DENIED",U[U.UNAUTHENTICATED=16]="UNAUTHENTICATED",U[U.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",U[U.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",U[U.ABORTED=10]="ABORTED",U[U.OUT_OF_RANGE=11]="OUT_OF_RANGE",U[U.UNIMPLEMENTED=12]="UNIMPLEMENTED",U[U.INTERNAL=13]="INTERNAL",U[U.UNAVAILABLE=14]="UNAVAILABLE",U[U.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new se([4294967295,4294967295],0);function ya(n){const t=cf().encode(n),e=new nc;return e.update(t),new Uint8Array(e.digest())}function Ca(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new se([e,r],0),new se([s,o],0)]}class fi{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new pn(`Invalid padding: ${e}`);if(r<0)throw new pn(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new pn(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new pn(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=se.fromNumber(this.ge)}ye(t,e,r){let s=t.add(e.multiply(se.fromNumber(r)));return s.compare(uf)===1&&(s=new se([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=ya(t),[r,s]=Ca(e);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,s,o);if(!this.we(a))return!1}return!0}static create(t,e,r){const s=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),a=new fi(o,s,e);return r.forEach(l=>a.insert(l)),a}insert(t){if(this.ge===0)return;const e=ya(t),[r,s]=Ca(e);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,s,o);this.Se(a)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class pn extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(t,e,r,s,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const s=new Map;return s.set(t,Nn.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Hr(O.min(),s,new $(L),Jt(),H())}}class Nn{constructor(t,e,r,s,o){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Nn(r,e,H(),H(),H())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(t,e,r,s){this.be=t,this.removedTargetIds=e,this.key=r,this.De=s}}class jc{constructor(t,e){this.targetId=t,this.Ce=e}}class Fc{constructor(t,e,r=ft.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=s}}class Ta{constructor(){this.ve=0,this.Fe=va(),this.Me=ft.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=H(),e=H(),r=H();return this.Fe.forEach((s,o)=>{switch(o){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:r=r.add(s);break;default:M(38017,{changeType:o})}}),new Nn(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=va()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,W(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lf{constructor(t){this.Ge=t,this.ze=new Map,this.je=Jt(),this.Je=ar(),this.He=ar(),this.Ye=new $(L)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:M(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach((r,s)=>{this.rt(s)&&e(s)})}st(t){const e=t.targetId,r=t.Ce.count,s=this.ot(e);if(s){const o=s.target;if(Hs(o))if(r===0){const a=new N(o.path);this.et(e,a,Ct.newNoDocument(a,O.min()))}else W(r===1,20013,{expectedCount:r});else{const a=this._t(e);if(a!==r){const l=this.ut(t),h=l?this.ct(l,t,a):1;if(h!==0){this.it(e);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,f)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=e;let a,l;try{a=ue(r).toUint8Array()}catch(h){if(h instanceof gc)return ke("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{l=new fi(a,s,o)}catch(h){return ke(h instanceof pn?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return l.ge===0?null:l}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let s=0;return r.forEach(o=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;t.mightContain(l)||(this.et(e,o,null),s++)}),s}Tt(t){const e=new Map;this.ze.forEach((o,a)=>{const l=this.ot(a);if(l){if(o.current&&Hs(l.target)){const h=new N(l.target.path);this.It(h).has(a)||this.Et(a,h)||this.et(a,h,Ct.newNoDocument(h,t))}o.Be&&(e.set(a,o.ke()),o.qe())}});let r=H();this.He.forEach((o,a)=>{let l=!0;a.forEachWhile(h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.je.forEach((o,a)=>a.setReadTime(t));const s=new Hr(t,e,this.Ye,this.je,r);return this.je=Jt(),this.Je=ar(),this.He=ar(),this.Ye=new $(L),s}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,e)?s.Qe(e,1):s.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new Ta,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new ot(L),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new ot(L),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||S("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Ta),this.Ge.getRemoteKeysForTarget(t).forEach(e=>{this.et(t,e,null)})}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function ar(){return new $(N.comparator)}function va(){return new $(N.comparator)}const hf={asc:"ASCENDING",desc:"DESCENDING"},Af={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ff={and:"AND",or:"OR"};class gf{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Fs(n,t){return n.useProto3Json||Vr(t)?t:{value:t}}function Br(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Uc(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function df(n,t){return Br(n,t.toTimestamp())}function kt(n){return W(!!n,49232),O.fromTimestamp(function(e){const r=ce(e);return new Z(r.seconds,r.nanos)}(n))}function gi(n,t){return Us(n,t).canonicalString()}function Us(n,t){const e=function(s){return new K(["projects",s.projectId,"databases",s.database])}(n).child("documents");return t===void 0?e:e.child(t)}function zc(n){const t=K.fromString(n);return W(Xc(t),10190,{key:t.toString()}),t}function zs(n,t){return gi(n.databaseId,t.path)}function Bs(n,t){const e=zc(t);if(e.get(1)!==n.databaseId.projectId)throw new V(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new V(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new N(Yc(e))}function qc(n,t){return gi(n.databaseId,t)}function mf(n){const t=zc(n);return t.length===4?K.emptyPath():Yc(t)}function qs(n){return new K(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Yc(n){return W(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function wa(n,t,e){return{name:zs(n,t),fields:e.value.mapValue.fields}}function pf(n,t){let e;if("targetChange"in t){t.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:M(39313,{state:f})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],o=function(f,m){return f.useProto3Json?(W(m===void 0||typeof m=="string",58123),ft.fromBase64String(m||"")):(W(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),ft.fromUint8Array(m||new Uint8Array))}(n,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(f){const m=f.code===void 0?P.UNKNOWN:Hc(f.code);return new V(m,f.message||"")}(a);e=new Fc(r,s,o,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=Bs(n,r.document.name),o=kt(r.document.updateTime),a=r.document.createTime?kt(r.document.createTime):O.min(),l=new Bt({mapValue:{fields:r.document.fields}}),h=Ct.newFoundDocument(s,o,a,l),f=r.targetIds||[],m=r.removedTargetIds||[];e=new fr(f,m,h.key,h)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=Bs(n,r.document),o=r.readTime?kt(r.readTime):O.min(),a=Ct.newNoDocument(s,o),l=r.removedTargetIds||[];e=new fr([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=Bs(n,r.document),o=r.removedTargetIds||[];e=new fr([],o,s,null)}else{if(!("filter"in t))return M(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,a=new of(s,o),l=r.targetId;e=new jc(l,a)}}return e}function Ef(n,t){let e;if(t instanceof xn)e={update:wa(n,t.key,t.value)};else if(t instanceof hi)e={delete:zs(n,t.key)};else if(t instanceof ge)e={update:wa(n,t.key,t.data),updateMask:Pf(t.fieldMask)};else{if(!(t instanceof nf))return M(16599,{Vt:t.type});e={verify:zs(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(o,a){const l=a.transform;if(l instanceof wr)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof bn)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Dn)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof _r)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw M(20930,{transform:a.transform})}(0,r))),t.precondition.isNone||(e.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:df(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:M(27497)}(n,t.precondition)),e}function If(n,t){return n&&n.length>0?(W(t!==void 0,14353),n.map(e=>function(s,o){let a=s.updateTime?kt(s.updateTime):kt(o);return a.isEqual(O.min())&&(a=kt(o)),new $A(a,s.transformResults||[])}(e,t))):[]}function yf(n,t){return{documents:[qc(n,t.path)]}}function Cf(n,t){const e={structuredQuery:{}},r=t.path;let s;t.collectionGroup!==null?(s=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=qc(n,s);const o=function(f){if(f.length!==0)return Gc(Ut.create(f,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const a=function(f){if(f.length!==0)return f.map(m=>function(C){return{field:Ve(C.field),direction:wf(C.dir)}}(m))}(t.orderBy);a&&(e.structuredQuery.orderBy=a);const l=Fs(n,t.limit);return l!==null&&(e.structuredQuery.limit=l),t.startAt&&(e.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{ft:e,parent:s}}function Tf(n){let t=mf(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let s=null;if(r>0){W(r===1,65062);const m=e.from[0];m.allDescendants?s=m.collectionId:t=t.child(m.collectionId)}let o=[];e.where&&(o=function(v){const C=Wc(v);return C instanceof Ut&&wc(C)?C.getFilters():[C]}(e.where));let a=[];e.orderBy&&(a=function(v){return v.map(C=>function(b){return new vr(xe(b.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(C))}(e.orderBy));let l=null;e.limit&&(l=function(v){let C;return C=typeof v=="object"?v.value:v,Vr(C)?null:C}(e.limit));let h=null;e.startAt&&(h=function(v){const C=!!v.before,Q=v.values||[];return new Tr(Q,C)}(e.startAt));let f=null;return e.endAt&&(f=function(v){const C=!v.before,Q=v.values||[];return new Tr(Q,C)}(e.endAt)),LA(t,s,a,o,l,"F",h,f)}function vf(n,t){const e=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return M(28987,{purpose:s})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Wc(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=xe(e.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=xe(e.unaryFilter.field);return it.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=xe(e.unaryFilter.field);return it.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=xe(e.unaryFilter.field);return it.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return M(61313);default:return M(60726)}}(n):n.fieldFilter!==void 0?function(e){return it.create(xe(e.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return M(58110);default:return M(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return Ut.create(e.compositeFilter.filters.map(r=>Wc(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return M(1026)}}(e.compositeFilter.op))}(n):M(30097,{filter:n})}function wf(n){return hf[n]}function _f(n){return Af[n]}function Bf(n){return ff[n]}function Ve(n){return{fieldPath:n.canonicalString()}}function xe(n){return ht.fromServerFormat(n.fieldPath)}function Gc(n){return n instanceof it?function(e){if(e.op==="=="){if(ha(e.value))return{unaryFilter:{field:Ve(e.field),op:"IS_NAN"}};if(la(e.value))return{unaryFilter:{field:Ve(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(ha(e.value))return{unaryFilter:{field:Ve(e.field),op:"IS_NOT_NAN"}};if(la(e.value))return{unaryFilter:{field:Ve(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ve(e.field),op:_f(e.op),value:e.value}}}(n):n instanceof Ut?function(e){const r=e.getFilters().map(s=>Gc(s));return r.length===1?r[0]:{compositeFilter:{op:Bf(e.op),filters:r}}}(n):M(54877,{filter:n})}function Pf(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Xc(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(t,e,r,s,o=O.min(),a=O.min(),l=ft.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=h}withSequenceNumber(t){return new ee(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ee(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ee(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ee(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(t){this.yt=t}}function Rf(n){const t=Tf({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?js(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(){this.Cn=new Df}addToCollectionParentIndex(t,e){return this.Cn.add(e),B.resolve()}getCollectionParents(t,e){return B.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return B.resolve()}deleteFieldIndex(t,e){return B.resolve()}deleteAllFieldIndexes(t){return B.resolve()}createTargetIndexes(t,e){return B.resolve()}getDocumentsMatchingTarget(t,e){return B.resolve(null)}getIndexType(t,e){return B.resolve(0)}getFieldIndexes(t,e){return B.resolve([])}getNextCollectionGroupToUpdate(t){return B.resolve(null)}getMinOffset(t,e){return B.resolve(ae.min())}getMinOffsetFromCollectionGroup(t,e){return B.resolve(ae.min())}updateCollectionGroup(t,e,r){return B.resolve()}updateIndexEntries(t,e){return B.resolve()}}class Df{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),s=this.index[e]||new ot(K.comparator),o=!s.has(r);return this.index[e]=s.add(r),o}has(t){const e=t.lastSegment(),r=t.popLast(),s=this.index[e];return s&&s.has(r)}getEntries(t){return(this.index[t]||new ot(K.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jc=41943040;class _t{static withCacheSize(t){return new _t(t,_t.DEFAULT_COLLECTION_PERCENTILE,_t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_t.DEFAULT_COLLECTION_PERCENTILE=10,_t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_t.DEFAULT=new _t(Jc,_t.DEFAULT_COLLECTION_PERCENTILE,_t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_t.DISABLED=new _t(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Fe(0)}static cr(){return new Fe(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="LruGarbageCollector",Sf=1048576;function Pa([n,t],[e,r]){const s=L(n,e);return s===0?L(t,r):s}class Vf{constructor(t){this.Ir=t,this.buffer=new ot(Pa),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();Pa(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class xf{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){S(Ba,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ge(e)?S(Ba,"Ignoring IndexedDB error during garbage collection: ",e):await We(e)}await this.Vr(3e5)})}}class Nf{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(e===0)return B.resolve(Sr.ce);const r=new Vf(e);return this.mr.forEachTarget(t,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(t,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(S("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(_a)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(S("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_a):this.yr(t,e))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,s,o,a,l,h,f;const m=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(S("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,a=Date.now(),this.nthSequenceNumber(t,s))).next(v=>(r=v,l=Date.now(),this.removeTargets(t,r,e))).next(v=>(o=v,h=Date.now(),this.removeOrphanedDocuments(t,r))).next(v=>(f=Date.now(),De()<=z.DEBUG&&S("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-m}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${o} targets in `+(h-l)+`ms
	Removed ${v} documents in `+(f-h)+`ms
Total Duration: ${f-m}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:v})))}}function Mf(n,t){return new Nf(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(){this.changes=new _e(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ct.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?B.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(t,e,r,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(s=>(r=s,this.remoteDocumentCache.getEntry(t,e))).next(s=>(r!==null&&vn(r.mutation,s,bt.empty(),Z.now()),s))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,H()).next(()=>r))}getLocalViewOfDocuments(t,e,r=H()){const s=ye();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,r).next(o=>{let a=mn();return o.forEach((l,h)=>{a=a.insert(l,h.overlayedDocument)}),a}))}getOverlayedDocuments(t,e){const r=ye();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,H()))}populateOverlays(t,e,r){const s=[];return r.forEach(o=>{e.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(t,s).next(o=>{o.forEach((a,l)=>{e.set(a,l)})})}computeViews(t,e,r,s){let o=Jt();const a=Tn(),l=function(){return Tn()}();return e.forEach((h,f)=>{const m=r.get(f.key);s.has(f.key)&&(m===void 0||m.mutation instanceof ge)?o=o.insert(f.key,f):m!==void 0?(a.set(f.key,m.mutation.getFieldMask()),vn(m.mutation,f,m.mutation.getFieldMask(),Z.now())):a.set(f.key,bt.empty())}),this.recalculateAndSaveOverlays(t,o).next(h=>(h.forEach((f,m)=>a.set(f,m)),e.forEach((f,m)=>l.set(f,new kf(m,a.get(f)??null))),l))}recalculateAndSaveOverlays(t,e){const r=Tn();let s=new $((a,l)=>a-l),o=H();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(a=>{for(const l of a)l.keys().forEach(h=>{const f=e.get(h);if(f===null)return;let m=r.get(h)||bt.empty();m=l.applyToLocalView(f,m),r.set(h,m);const v=(s.get(l.batchId)||H()).add(h);s=s.insert(l.batchId,v)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const h=l.getNext(),f=h.key,m=h.value,v=Sc();m.forEach(C=>{if(!o.has(C)){const Q=kc(e.get(C),r.get(C));Q!==null&&v.set(C,Q),o=o.add(C)}}),a.push(this.documentOverlayCache.saveOverlays(t,f,v))}return B.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r,s){return function(a){return N.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):HA(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,s):this.getDocumentsMatchingCollectionQuery(t,e,r,s)}getNextDocuments(t,e,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,s).next(o=>{const a=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,s-o.size):B.resolve(ye());let l=Bn,h=o;return a.next(f=>B.forEach(f,(m,v)=>(l<v.largestBatchId&&(l=v.largestBatchId),o.get(m)?B.resolve():this.remoteDocumentCache.getEntry(t,m).next(C=>{h=h.insert(m,C)}))).next(()=>this.populateOverlays(t,f,o)).next(()=>this.computeViews(t,h,f,H())).next(m=>({batchId:l,changes:Dc(m)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new N(e)).next(r=>{let s=mn();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(t,e,r,s){const o=e.collectionGroup;let a=mn();return this.indexManager.getCollectionParents(t,o).next(l=>B.forEach(l,h=>{const f=function(v,C){return new Nr(C,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(e,h.child(o));return this.getDocumentsMatchingCollectionQuery(t,f,r,s).next(m=>{m.forEach((v,C)=>{a=a.insert(v,C)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,e,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,o,s))).next(a=>{o.forEach((h,f)=>{const m=f.getKey();a.get(m)===null&&(a=a.insert(m,Ct.newInvalidDocument(m)))});let l=mn();return a.forEach((h,f)=>{const m=o.get(h);m!==void 0&&vn(m.mutation,f,bt.empty(),Z.now()),Or(e,f)&&(l=l.insert(h,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return B.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,function(s){return{id:s.id,version:s.version,createTime:kt(s.createTime)}}(e)),B.resolve()}getNamedQuery(t,e){return B.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,function(s){return{name:s.name,query:Rf(s.bundledQuery),readTime:kt(s.readTime)}}(e)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(){this.overlays=new $(N.comparator),this.qr=new Map}getOverlay(t,e){return B.resolve(this.overlays.get(e))}getOverlays(t,e){const r=ye();return B.forEach(e,s=>this.getOverlay(t,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((s,o)=>{this.St(t,e,o)}),B.resolve()}removeOverlaysForBatchId(t,e,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(t,e,r){const s=ye(),o=e.length+1,a=new N(e.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const h=l.getNext().value,f=h.getKey();if(!e.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>r&&s.set(h.getKey(),h)}return B.resolve(s)}getOverlaysForCollectionGroup(t,e,r,s){let o=new $((f,m)=>f-m);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===e&&f.largestBatchId>r){let m=o.get(f.largestBatchId);m===null&&(m=ye(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const l=ye(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,m)=>l.set(f,m)),!(l.size()>=s)););return B.resolve(l)}St(t,e,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new sf(e,r));let o=this.qr.get(e);o===void 0&&(o=H(),this.qr.set(e,o)),this.qr.set(e,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(){this.sessionToken=ft.EMPTY_BYTE_STRING}getSessionToken(t){return B.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(){this.Qr=new ot(at.$r),this.Ur=new ot(at.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new at(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.Gr(new at(t,e))}zr(t,e){t.forEach(r=>this.removeReference(r,e))}jr(t){const e=new N(new K([])),r=new at(e,t),s=new at(e,t+1),o=[];return this.Ur.forEachInRange([r,s],a=>{this.Gr(a),o.push(a.key)}),o}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new N(new K([])),r=new at(e,t),s=new at(e,t+1);let o=H();return this.Ur.forEachInRange([r,s],a=>{o=o.add(a.key)}),o}containsKey(t){const e=new at(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class at{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return N.comparator(t.key,e.key)||L(t.Yr,e.Yr)}static Kr(t,e){return L(t.Yr,e.Yr)||N.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new ot(at.$r)}checkEmpty(t){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new rf(o,e,r,s);this.mutationQueue.push(a);for(const l of s)this.Zr=this.Zr.add(new at(l.key,o)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return B.resolve(a)}lookupMutationBatch(t,e){return B.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,s=this.ei(r),o=s<0?0:s;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?si:this.tr-1)}getAllMutationBatches(t){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new at(e,0),s=new at(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],a=>{const l=this.Xr(a.Yr);o.push(l)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new ot(L);return e.forEach(s=>{const o=new at(s,0),a=new at(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,a],l=>{r=r.add(l.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,s=r.length+1;let o=r;N.isDocumentKey(o)||(o=o.child(""));const a=new at(new N(o),0);let l=new ot(L);return this.Zr.forEachWhile(h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(l=l.add(h.Yr)),!0)},a),B.resolve(this.ti(l))}ti(t){const e=[];return t.forEach(r=>{const s=this.Xr(r);s!==null&&e.push(s)}),e}removeMutationBatch(t,e){W(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(e.mutations,s=>{const o=new at(s.key,e.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Zr=r})}ir(t){}containsKey(t,e){const r=new at(e,0),s=this.Zr.firstAfterOrEqual(r);return B.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,B.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(t){this.ri=t,this.docs=function(){return new $(N.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,s=this.docs.get(r),o=s?s.size:0,a=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return B.resolve(r?r.document.mutableCopy():Ct.newInvalidDocument(e))}getEntries(t,e){let r=Jt();return e.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Ct.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(t,e,r,s){let o=Jt();const a=e.path,l=new N(a.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:f,value:{document:m}}=h.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||pA(mA(m),r)<=0||(s.has(m.key)||Or(e,m))&&(o=o.insert(m.key,m.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(t,e,r,s){M(9500)}ii(t,e){return B.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new qf(this)}getSize(t){return B.resolve(this.size)}}class qf extends Of{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?e.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(r)}),B.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(t){this.persistence=t,this.si=new _e(e=>ai(e),ci),this.lastRemoteSnapshotVersion=O.min(),this.highestTargetId=0,this.oi=0,this._i=new di,this.targetCount=0,this.ai=Fe.ur()}forEachTarget(t,e){return this.si.forEach((r,s)=>e(s)),B.resolve()}getLastRemoteSnapshotVersion(t){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return B.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),B.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Fe(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,B.resolve()}updateTargetData(t,e){return this.Pr(e),B.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,B.resolve()}removeTargets(t,e,r){let s=0;const o=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=e&&r.get(l.targetId)===null&&(this.si.delete(a),o.push(this.removeMatchingKeysForTargetId(t,l.targetId)),s++)}),B.waitFor(o).next(()=>s)}getTargetCount(t){return B.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return B.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),B.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const s=this.persistence.referenceDelegate,o=[];return s&&e.forEach(a=>{o.push(s.markPotentiallyOrphaned(t,a))}),B.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),B.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return B.resolve(r)}containsKey(t,e){return B.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,e){this.ui={},this.overlays={},this.ci=new Sr(0),this.li=!1,this.li=!0,this.hi=new Ff,this.referenceDelegate=t(this),this.Pi=new Yf(this),this.indexManager=new bf,this.remoteDocumentCache=function(s){return new zf(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Qf(e),this.Ii=new Hf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new jf,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new Uf(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){S("MemoryPersistence","Starting transaction:",t);const s=new Wf(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(o=>this.referenceDelegate.di(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ai(t,e){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(t,e)))}}class Wf extends IA{constructor(t){super(),this.currentSequenceNumber=t}}class mi{constructor(t){this.persistence=t,this.Ri=new di,this.Vi=null}static mi(t){return new mi(t)}get fi(){if(this.Vi)return this.Vi;throw M(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),B.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),B.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(t,e))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const s=N.fromPath(r);return this.gi(t,s).next(o=>{o||e.removeEntry(s,O.min())})}).next(()=>(this.Vi=null,e.apply(t)))}updateLimboDocument(t,e){return this.gi(t,e).next(r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())})}Ti(t){return 0}gi(t,e){return B.or([()=>B.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Pr{constructor(t,e){this.persistence=t,this.pi=new _e(r=>TA(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Mf(this,e)}static mi(t,e){return new Pr(t,e)}Ei(){}di(t){return B.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>e.next(s=>r+s))}wr(t){let e=0;return this.pr(t,r=>{e++}).next(()=>e)}pr(t,e){return B.forEach(this.pi,(r,s)=>this.br(t,r,s).next(o=>o?B.resolve():e(s)))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(t,a=>this.br(t,a,e).next(l=>{l||(r++,o.removeEntry(a,O.min()))})).next(()=>o.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),B.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),B.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),B.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),B.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=lr(t.data.value)),e}br(t,e,r){return B.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.pi.get(e);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(t,e,r,s){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=s}static As(t,e){let r=H(),s=H();for(const o of e.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new pi(t,e.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return xl()?8:yA($s())>0?6:4}()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,s){const o={result:null};return this.ys(t,e).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.ws(t,e,s,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new Gf;return this.Ss(t,e,a).next(l=>{if(o.result=l,this.Vs)return this.bs(t,e,a,l.size)})}).next(()=>o.result)}bs(t,e,r,s){return r.documentReadCount<this.fs?(De()<=z.DEBUG&&S("QueryEngine","SDK will not create cache indexes for query:",Se(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(De()<=z.DEBUG&&S("QueryEngine","Query:",Se(e),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(De()<=z.DEBUG&&S("QueryEngine","The SDK decides to create cache indexes for query:",Se(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ot(e))):B.resolve())}ys(t,e){if(da(e))return B.resolve(null);let r=Ot(e);return this.indexManager.getIndexType(t,r).next(s=>s===0?null:(e.limit!==null&&s===1&&(e=js(e,null,"F"),r=Ot(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const a=H(...o);return this.ps.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,r).next(h=>{const f=this.Ds(e,l);return this.Cs(e,f,a,h.readTime)?this.ys(t,js(e,null,"F")):this.vs(t,f,e,h)}))})))}ws(t,e,r,s){return da(e)||s.isEqual(O.min())?B.resolve(null):this.ps.getDocuments(t,r).next(o=>{const a=this.Ds(e,o);return this.Cs(e,a,r,s)?B.resolve(null):(De()<=z.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Se(e)),this.vs(t,a,e,dA(s,Bn)).next(l=>l))})}Ds(t,e){let r=new ot(Rc(t));return e.forEach((s,o)=>{Or(t,o)&&(r=r.add(o))}),r}Cs(t,e,r,s){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(t,e,r){return De()<=z.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",Se(e)),this.ps.getDocumentsMatchingQuery(t,e,ae.min(),r)}vs(t,e,r,s){return this.ps.getDocumentsMatchingQuery(t,r,s).next(o=>(e.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei="LocalStore",Jf=3e8;class Kf{constructor(t,e,r,s){this.persistence=t,this.Fs=e,this.serializer=s,this.Ms=new $(L),this.xs=new _e(o=>ai(o),ci),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Lf(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ms))}}function Zf(n,t,e,r){return new Kf(n,t,e,r)}async function Zc(n,t){const e=k(n);return await e.persistence.runTransaction("Handle user change","readonly",r=>{let s;return e.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],l=[];let h=H();for(const f of s){a.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}for(const f of o){l.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}return e.localDocuments.getDocuments(r,h).next(f=>({Ls:f,removedBatchIds:a,addedBatchIds:l}))})})}function $f(n,t){const e=k(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return function(l,h,f,m){const v=f.batch,C=v.keys();let Q=B.resolve();return C.forEach(b=>{Q=Q.next(()=>m.getEntry(h,b)).next(x=>{const D=f.docVersions.get(b);W(D!==null,48541),x.version.compareTo(D)<0&&(v.applyToRemoteDocument(x,f),x.isValidDocument()&&(x.setReadTime(f.commitVersion),m.addEntry(x)))})}),Q.next(()=>l.mutationQueue.removeMutationBatch(h,v))}(e,r,t,o).next(()=>o.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,s,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let h=H();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(h=h.add(l.batch.mutations[f].key));return h}(t))).next(()=>e.localDocuments.getDocuments(r,s))})}function $c(n){const t=k(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function tg(n,t){const e=k(n),r=t.snapshotVersion;let s=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=e.Ns.newChangeBuffer({trackRemovals:!0});s=e.Ms;const l=[];t.targetChanges.forEach((m,v)=>{const C=s.get(v);if(!C)return;l.push(e.Pi.removeMatchingKeys(o,m.removedDocuments,v).next(()=>e.Pi.addMatchingKeys(o,m.addedDocuments,v)));let Q=C.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(v)!==null?Q=Q.withResumeToken(ft.EMPTY_BYTE_STRING,O.min()).withLastLimboFreeSnapshotVersion(O.min()):m.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(m.resumeToken,r)),s=s.insert(v,Q),function(x,D,Y){return x.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=Jf?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(C,Q,m)&&l.push(e.Pi.updateTargetData(o,Q))});let h=Jt(),f=H();if(t.documentUpdates.forEach(m=>{t.resolvedLimboDocuments.has(m)&&l.push(e.persistence.referenceDelegate.updateLimboDocument(o,m))}),l.push(eg(o,a,t.documentUpdates).next(m=>{h=m.ks,f=m.qs})),!r.isEqual(O.min())){const m=e.Pi.getLastRemoteSnapshotVersion(o).next(v=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(m)}return B.waitFor(l).next(()=>a.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(e.Ms=s,o))}function eg(n,t,e){let r=H(),s=H();return e.forEach(o=>r=r.add(o)),t.getEntries(n,r).next(o=>{let a=Jt();return e.forEach((l,h)=>{const f=o.get(l);h.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(l)),h.isNoDocument()&&h.version.isEqual(O.min())?(t.removeEntry(l,h.readTime),a=a.insert(l,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(h),a=a.insert(l,h)):S(Ei,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",h.version)}),{ks:a,qs:s}})}function ng(n,t){const e=k(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=si),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function rg(n,t){const e=k(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return e.Pi.getTargetData(r,t).next(o=>o?(s=o,B.resolve(s)):e.Pi.allocateTargetId(r).next(a=>(s=new ee(t,a,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=e.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r})}async function Ys(n,t,e){const r=k(n),s=r.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Ge(a))throw a;S(Ei,`Failed to update sequence numbers for target ${t}: ${a}`)}r.Ms=r.Ms.remove(t),r.xs.delete(s.target)}function Qa(n,t,e){const r=k(n);let s=O.min(),o=H();return r.persistence.runTransaction("Execute query","readwrite",a=>function(h,f,m){const v=k(h),C=v.xs.get(m);return C!==void 0?B.resolve(v.Ms.get(C)):v.Pi.getTargetData(f,m)}(r,a,Ot(t)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,l.targetId).next(h=>{o=h})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,t,e?s:O.min(),e?o:H())).next(l=>(sg(r,FA(t),l),{documents:l,Qs:o})))}function sg(n,t,e){let r=n.Os.get(t)||O.min();e.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Os.set(t,r)}class Ra{constructor(){this.activeTargetIds=GA()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ig{constructor(){this.Mo=new Ra,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Ra,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="ConnectivityMonitor";class Da{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){S(ba,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){S(ba,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cr=null;function Ws(){return cr===null?cr=function(){return 268435456+Math.round(2147483648*Math.random())}():cr++,"0x"+cr.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="RestConnection",ag={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cg{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===yr?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(t,e,r,s,o){const a=Ws(),l=this.zo(t,e.toUriEncodedString());S(Ps,`Sending RPC '${t}' ${a}:`,l,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,o);const{host:f}=new URL(l),m=Zs(f);return this.Jo(t,l,h,r,m).then(v=>(S(Ps,`Received RPC '${t}' ${a}: `,v),v),v=>{throw ke(Ps,`RPC '${t}' ${a} failed with error: `,v,"url: ",l,"request:",r),v})}Ho(t,e,r,s,o,a){return this.Go(t,e,r,s,o)}jo(t,e,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ye}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((s,o)=>t[o]=s),r&&r.headers.forEach((s,o)=>t[o]=s)}zo(t,e){const r=ag[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const It="WebChannelConnection";class lg extends cg{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,s,o){const a=Ws();return new Promise((l,h)=>{const f=new rc;f.setWithCredentials(!0),f.listenOnce(sc.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case ur.NO_ERROR:const v=f.getResponseJson();S(It,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(v)),l(v);break;case ur.TIMEOUT:S(It,`RPC '${t}' ${a} timed out`),h(new V(P.DEADLINE_EXCEEDED,"Request time out"));break;case ur.HTTP_ERROR:const C=f.getStatus();if(S(It,`RPC '${t}' ${a} failed with status:`,C,"response text:",f.getResponseText()),C>0){let Q=f.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const b=Q?.error;if(b&&b.status&&b.message){const x=function(Y){const j=Y.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(j)>=0?j:P.UNKNOWN}(b.status);h(new V(x,b.message))}else h(new V(P.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new V(P.UNAVAILABLE,"Connection failed."));break;default:M(9055,{l_:t,streamId:a,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{S(It,`RPC '${t}' ${a} completed.`)}});const m=JSON.stringify(s);S(It,`RPC '${t}' ${a} sending request:`,s),f.send(e,"POST",m,r,15)})}T_(t,e,r){const s=Ws(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=ac(),l=oc(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,e,r),h.encodeInitMessageHeaders=!0;const m=o.join("");S(It,`Creating RPC '${t}' stream ${s}: ${m}`,h);const v=a.createWebChannel(m,h);this.I_(v);let C=!1,Q=!1;const b=new ug({Yo:D=>{Q?S(It,`Not sending because RPC '${t}' stream ${s} is closed:`,D):(C||(S(It,`Opening RPC '${t}' stream ${s} transport.`),v.open(),C=!0),S(It,`RPC '${t}' stream ${s} sending:`,D),v.send(D))},Zo:()=>v.close()}),x=(D,Y,j)=>{D.listen(Y,F=>{try{j(F)}catch(ct){setTimeout(()=>{throw ct},0)}})};return x(v,dn.EventType.OPEN,()=>{Q||(S(It,`RPC '${t}' stream ${s} transport opened.`),b.o_())}),x(v,dn.EventType.CLOSE,()=>{Q||(Q=!0,S(It,`RPC '${t}' stream ${s} transport closed`),b.a_(),this.E_(v))}),x(v,dn.EventType.ERROR,D=>{Q||(Q=!0,ke(It,`RPC '${t}' stream ${s} transport errored. Name:`,D.name,"Message:",D.message),b.a_(new V(P.UNAVAILABLE,"The operation could not be completed")))}),x(v,dn.EventType.MESSAGE,D=>{if(!Q){const Y=D.data[0];W(!!Y,16349);const j=Y,F=j?.error||j[0]?.error;if(F){S(It,`RPC '${t}' stream ${s} received error:`,F);const ct=F.status;let Nt=function(g){const p=nt[g];if(p!==void 0)return Hc(p)}(ct),gt=F.message;Nt===void 0&&(Nt=P.INTERNAL,gt="Unknown error status: "+ct+" with message "+F.message),Q=!0,b.a_(new V(Nt,gt)),v.close()}else S(It,`RPC '${t}' stream ${s} received:`,Y),b.u_(Y)}}),x(l,ic.STAT_EVENT,D=>{D.stat===Ns.PROXY?S(It,`RPC '${t}' stream ${s} detected buffering proxy`):D.stat===Ns.NOPROXY&&S(It,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(e=>e===t)}}function Qs(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(n){return new gf(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(t,e,r=1e3,s=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,e-r);s>0&&S("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="PersistentStream";class eu{constructor(t,e,r,s,o,a,l,h){this.Mi=t,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tu(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===P.RESOURCE_EXHAUSTED?(Xt(e.toString()),Xt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===e&&this.G_(r,s)},r=>{t(()=>{const s=new V(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return S(Sa,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget(()=>this.D_===t?e():(S(Sa,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hg extends eu{constructor(t,e,r,s,o,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,s,a),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=pf(this.serializer,t),r=function(o){if(!("targetChange"in o))return O.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?O.min():a.readTime?kt(a.readTime):O.min()}(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=qs(this.serializer),e.addTarget=function(o,a){let l;const h=a.target;if(l=Hs(h)?{documents:yf(o,h)}:{query:Cf(o,h).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=Uc(o,a.resumeToken);const f=Fs(o,a.expectedCount);f!==null&&(l.expectedCount=f)}else if(a.snapshotVersion.compareTo(O.min())>0){l.readTime=Br(o,a.snapshotVersion.toTimestamp());const f=Fs(o,a.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,t);const r=vf(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=qs(this.serializer),e.removeTarget=t,this.q_(e)}}class Ag extends eu{constructor(t,e,r,s,o,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,s,a),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return W(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,W(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){W(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=If(t.writeResults,t.commitTime),r=kt(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=qs(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>Ef(this.serializer,r))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{}class gg extends fg{constructor(t,e,r,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new V(P.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Go(t,Us(e,r),s,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(P.UNKNOWN,o.toString())})}Ho(t,e,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(t,Us(e,r),s,a,l,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new V(P.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class dg{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xt(e),this.aa=!1):S("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we="RemoteStore";class mg{constructor(t,e,r,s,o){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{Be(this)&&(S(we,"Restarting streams for network reachability change."),await async function(h){const f=k(h);f.Ea.add(4),await Mn(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Fr(f)}(this))})}),this.Ra=new dg(r,s)}}async function Fr(n){if(Be(n))for(const t of n.da)await t(!0)}async function Mn(n){for(const t of n.da)await t(!1)}function nu(n,t){const e=k(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Ti(e)?Ci(e):Xe(e).O_()&&yi(e,t))}function Ii(n,t){const e=k(n),r=Xe(e);e.Ia.delete(t),r.O_()&&ru(e,t),e.Ia.size===0&&(r.O_()?r.L_():Be(e)&&e.Ra.set("Unknown"))}function yi(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(O.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Xe(n).Y_(t)}function ru(n,t){n.Va.Ue(t),Xe(n).Z_(t)}function Ci(n){n.Va=new lf({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Xe(n).start(),n.Ra.ua()}function Ti(n){return Be(n)&&!Xe(n).x_()&&n.Ia.size>0}function Be(n){return k(n).Ea.size===0}function su(n){n.Va=void 0}async function pg(n){n.Ra.set("Online")}async function Eg(n){n.Ia.forEach((t,e)=>{yi(n,t)})}async function Ig(n,t){su(n),Ti(n)?(n.Ra.ha(t),Ci(n)):n.Ra.set("Unknown")}async function yg(n,t,e){if(n.Ra.set("Online"),t instanceof Fc&&t.state===2&&t.cause)try{await async function(s,o){const a=o.cause;for(const l of o.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ia.delete(l),s.Va.removeTarget(l))}(n,t)}catch(r){S(we,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Qr(n,r)}else if(t instanceof fr?n.Va.Ze(t):t instanceof jc?n.Va.st(t):n.Va.tt(t),!e.isEqual(O.min()))try{const r=await $c(n.localStore);e.compareTo(r)>=0&&await function(o,a){const l=o.Va.Tt(a);return l.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.Ia.get(f);m&&o.Ia.set(f,m.withResumeToken(h.resumeToken,a))}}),l.targetMismatches.forEach((h,f)=>{const m=o.Ia.get(h);if(!m)return;o.Ia.set(h,m.withResumeToken(ft.EMPTY_BYTE_STRING,m.snapshotVersion)),ru(o,h);const v=new ee(m.target,h,f,m.sequenceNumber);yi(o,v)}),o.remoteSyncer.applyRemoteEvent(l)}(n,e)}catch(r){S(we,"Failed to raise snapshot:",r),await Qr(n,r)}}async function Qr(n,t,e){if(!Ge(t))throw t;n.Ea.add(1),await Mn(n),n.Ra.set("Offline"),e||(e=()=>$c(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{S(we,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Fr(n)})}function iu(n,t){return t().catch(e=>Qr(n,e,t))}async function Ur(n){const t=k(n),e=he(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:si;for(;Cg(t);)try{const s=await ng(t.localStore,r);if(s===null){t.Ta.length===0&&e.L_();break}r=s.batchId,Tg(t,s)}catch(s){await Qr(t,s)}ou(t)&&au(t)}function Cg(n){return Be(n)&&n.Ta.length<10}function Tg(n,t){n.Ta.push(t);const e=he(n);e.O_()&&e.X_&&e.ea(t.mutations)}function ou(n){return Be(n)&&!he(n).x_()&&n.Ta.length>0}function au(n){he(n).start()}async function vg(n){he(n).ra()}async function wg(n){const t=he(n);for(const e of n.Ta)t.ea(e.mutations)}async function _g(n,t,e){const r=n.Ta.shift(),s=Ai.from(r,t,e);await iu(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Ur(n)}async function Bg(n,t){t&&he(n).X_&&await async function(r,s){if(function(a){return af(a)&&a!==P.ABORTED}(s.code)){const o=r.Ta.shift();he(r).B_(),await iu(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Ur(r)}}(n,t),ou(n)&&au(n)}async function Va(n,t){const e=k(n);e.asyncQueue.verifyOperationInProgress(),S(we,"RemoteStore received new credentials");const r=Be(e);e.Ea.add(3),await Mn(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Fr(e)}async function Pg(n,t){const e=k(n);t?(e.Ea.delete(2),await Fr(e)):t||(e.Ea.add(2),await Mn(e),e.Ra.set("Unknown"))}function Xe(n){return n.ma||(n.ma=function(e,r,s){const o=k(e);return o.sa(),new hg(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{Xo:pg.bind(null,n),t_:Eg.bind(null,n),r_:Ig.bind(null,n),H_:yg.bind(null,n)}),n.da.push(async t=>{t?(n.ma.B_(),Ti(n)?Ci(n):n.Ra.set("Unknown")):(await n.ma.stop(),su(n))})),n.ma}function he(n){return n.fa||(n.fa=function(e,r,s){const o=k(e);return o.sa(),new Ag(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:vg.bind(null,n),r_:Bg.bind(null,n),ta:wg.bind(null,n),na:_g.bind(null,n)}),n.da.push(async t=>{t?(n.fa.B_(),await Ur(n)):(await n.fa.stop(),n.Ta.length>0&&(S(we,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t,e,r,s,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Wt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,s,o){const a=Date.now()+r,l=new vi(t,e,a,s,o);return l.start(r),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(P.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wi(n,t){if(Xt("AsyncQueue",`${t}: ${n}`),Ge(n))return new V(P.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static emptySet(t){return new Me(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||N.comparator(e.key,r.key):(e,r)=>N.comparator(e.key,r.key),this.keyedMap=mn(),this.sortedSet=new $(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Me;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(){this.ga=new $(N.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):M(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal((e,r)=>{t.push(r)}),t}}class Ue{constructor(t,e,r,s,o,a,l,h,f){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(t,e,r,s,o){const a=[];return e.forEach(l=>{a.push({type:0,doc:l})}),new Ue(t,e,Me.emptySet(e),a,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Mr(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==r[s].type||!e[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class Rg{constructor(){this.queries=Na(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const s=k(e),o=s.queries;s.queries=Na(),o.forEach((a,l)=>{for(const h of l.Sa)h.onError(r)})})(this,new V(P.ABORTED,"Firestore shutting down"))}}function Na(){return new _e(n=>Qc(n),Mr)}async function cu(n,t){const e=k(n);let r=3;const s=t.query;let o=e.queries.get(s);o?!o.ba()&&t.Da()&&(r=2):(o=new Qg,r=t.Da()?0:1);try{switch(r){case 0:o.wa=await e.onListen(s,!0);break;case 1:o.wa=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(a){const l=wi(a,`Initialization of query '${Se(t.query)}' failed`);return void t.onError(l)}e.queries.set(s,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&_i(e)}async function uu(n,t){const e=k(n),r=t.query;let s=3;const o=e.queries.get(r);if(o){const a=o.Sa.indexOf(t);a>=0&&(o.Sa.splice(a,1),o.Sa.length===0?s=t.Da()?0:1:!o.ba()&&t.Da()&&(s=2))}switch(s){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function bg(n,t){const e=k(n);let r=!1;for(const s of t){const o=s.query,a=e.queries.get(o);if(a){for(const l of a.Sa)l.Fa(s)&&(r=!0);a.wa=s}}r&&_i(e)}function Dg(n,t,e){const r=k(n),s=r.queries.get(t);if(s)for(const o of s.Sa)o.onError(e);r.queries.delete(t)}function _i(n){n.Ca.forEach(t=>{t.next()})}var Gs,Ma;(Ma=Gs||(Gs={})).Ma="default",Ma.Cache="cache";class lu{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new Ue(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Ue.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Gs.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(t){this.key=t}}class Au{constructor(t){this.key=t}}class Sg{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=H(),this.mutatedKeys=H(),this.eu=Rc(t),this.tu=new Me(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new xa,s=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,a=s,l=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((m,v)=>{const C=s.get(m),Q=Or(this.query,v)?v:null,b=!!C&&this.mutatedKeys.has(C.key),x=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let D=!1;C&&Q?C.data.isEqual(Q.data)?b!==x&&(r.track({type:3,doc:Q}),D=!0):this.su(C,Q)||(r.track({type:2,doc:Q}),D=!0,(h&&this.eu(Q,h)>0||f&&this.eu(Q,f)<0)&&(l=!0)):!C&&Q?(r.track({type:0,doc:Q}),D=!0):C&&!Q&&(r.track({type:1,doc:C}),D=!0,(h||f)&&(l=!0)),D&&(Q?(a=a.add(Q),o=x?o.add(m):o.delete(m)):(a=a.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{tu:a,iu:r,Cs:l,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,s){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const a=t.iu.ya();a.sort((m,v)=>function(Q,b){const x=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return M(20277,{Rt:D})}};return x(Q)-x(b)}(m.type,v.type)||this.eu(m.doc,v.doc)),this.ou(r),s=s??!1;const l=e&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,f=h!==this.Za;return this.Za=h,a.length!==0||f?{snapshot:new Ue(this.query,t.tu,o,a,t.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xa,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=H(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const e=[];return t.forEach(r=>{this.Xa.has(r)||e.push(new Au(r))}),this.Xa.forEach(r=>{t.has(r)||e.push(new hu(r))}),e}cu(t){this.Ya=t.Qs,this.Xa=H();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Ue.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Bi="SyncEngine";class Vg{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class xg{constructor(t){this.key=t,this.hu=!1}}class Ng{constructor(t,e,r,s,o,a){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new _e(l=>Qc(l),Mr),this.Iu=new Map,this.Eu=new Set,this.du=new $(N.comparator),this.Au=new Map,this.Ru=new di,this.Vu={},this.mu=new Map,this.fu=Fe.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Mg(n,t,e=!0){const r=Eu(n);let s;const o=r.Tu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await fu(r,t,e,!0),s}async function Og(n,t){const e=Eu(n);await fu(e,t,!0,!1)}async function fu(n,t,e,r){const s=await rg(n.localStore,Ot(t)),o=s.targetId,a=n.sharedClientState.addLocalQueryTarget(o,e);let l;return r&&(l=await kg(n,t,o,a==="current",s.resumeToken)),n.isPrimaryClient&&e&&nu(n.remoteStore,s),l}async function kg(n,t,e,r,s){n.pu=(v,C,Q)=>async function(x,D,Y,j){let F=D.view.ru(Y);F.Cs&&(F=await Qa(x.localStore,D.query,!1).then(({documents:y})=>D.view.ru(y,F)));const ct=j&&j.targetChanges.get(D.targetId),Nt=j&&j.targetMismatches.get(D.targetId)!=null,gt=D.view.applyChanges(F,x.isPrimaryClient,ct,Nt);return ka(x,D.targetId,gt.au),gt.snapshot}(n,v,C,Q);const o=await Qa(n.localStore,t,!0),a=new Sg(t,o.Qs),l=a.ru(o.documents),h=Nn.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",s),f=a.applyChanges(l,n.isPrimaryClient,h);ka(n,e,f.au);const m=new Vg(t,e,a);return n.Tu.set(t,m),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),f.snapshot}async function Lg(n,t,e){const r=k(n),s=r.Tu.get(t),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter(a=>!Mr(a,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ys(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),e&&Ii(r.remoteStore,s.targetId),Xs(r,s.targetId)}).catch(We)):(Xs(r,s.targetId),await Ys(r.localStore,s.targetId,!0))}async function Hg(n,t){const e=k(n),r=e.Tu.get(t),s=e.Iu.get(r.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),Ii(e.remoteStore,r.targetId))}async function jg(n,t,e){const r=Gg(n);try{const s=await function(a,l){const h=k(a),f=Z.now(),m=l.reduce((Q,b)=>Q.add(b.key),H());let v,C;return h.persistence.runTransaction("Locally write mutations","readwrite",Q=>{let b=Jt(),x=H();return h.Ns.getEntries(Q,m).next(D=>{b=D,b.forEach((Y,j)=>{j.isValidDocument()||(x=x.add(Y))})}).next(()=>h.localDocuments.getOverlayedDocuments(Q,b)).next(D=>{v=D;const Y=[];for(const j of l){const F=ef(j,v.get(j.key).overlayedDocument);F!=null&&Y.push(new ge(j.key,F,Cc(F.value.mapValue),Vt.exists(!0)))}return h.mutationQueue.addMutationBatch(Q,f,Y,l)}).next(D=>{C=D;const Y=D.applyToLocalDocumentSet(v,x);return h.documentOverlayCache.saveOverlays(Q,D.batchId,Y)})}).then(()=>({batchId:C.batchId,changes:Dc(v)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,h){let f=a.Vu[a.currentUser.toKey()];f||(f=new $(L)),f=f.insert(l,h),a.Vu[a.currentUser.toKey()]=f}(r,s.batchId,e),await On(r,s.changes),await Ur(r.remoteStore)}catch(s){const o=wi(s,"Failed to persist write");e.reject(o)}}async function gu(n,t){const e=k(n);try{const r=await tg(e.localStore,t);t.targetChanges.forEach((s,o)=>{const a=e.Au.get(o);a&&(W(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?W(a.hu,14607):s.removedDocuments.size>0&&(W(a.hu,42227),a.hu=!1))}),await On(e,r,t)}catch(r){await We(r)}}function Oa(n,t,e){const r=k(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const s=[];r.Tu.forEach((o,a)=>{const l=a.view.va(t);l.snapshot&&s.push(l.snapshot)}),function(a,l){const h=k(a);h.onlineState=l;let f=!1;h.queries.forEach((m,v)=>{for(const C of v.Sa)C.va(l)&&(f=!0)}),f&&_i(h)}(r.eventManager,t),s.length&&r.Pu.H_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Fg(n,t,e){const r=k(n);r.sharedClientState.updateQueryState(t,"rejected",e);const s=r.Au.get(t),o=s&&s.key;if(o){let a=new $(N.comparator);a=a.insert(o,Ct.newNoDocument(o,O.min()));const l=H().add(o),h=new Hr(O.min(),new Map,new $(L),a,l);await gu(r,h),r.du=r.du.remove(o),r.Au.delete(t),Pi(r)}else await Ys(r.localStore,t,!1).then(()=>Xs(r,t,e)).catch(We)}async function Ug(n,t){const e=k(n),r=t.batch.batchId;try{const s=await $f(e.localStore,t);mu(e,r,null),du(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await On(e,s)}catch(s){await We(s)}}async function zg(n,t,e){const r=k(n);try{const s=await function(a,l){const h=k(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return h.mutationQueue.lookupMutationBatch(f,l).next(v=>(W(v!==null,37113),m=v.keys(),h.mutationQueue.removeMutationBatch(f,v))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,m,l)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>h.localDocuments.getDocuments(f,m))})}(r.localStore,t);mu(r,t,e),du(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await On(r,s)}catch(s){await We(s)}}function du(n,t){(n.mu.get(t)||[]).forEach(e=>{e.resolve()}),n.mu.delete(t)}function mu(n,t,e){const r=k(n);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(t);o&&(e?o.reject(e):o.resolve(),s=s.remove(t)),r.Vu[r.currentUser.toKey()]=s}}function Xs(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach(r=>{n.Ru.containsKey(r)||pu(n,r)})}function pu(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(Ii(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Pi(n))}function ka(n,t,e){for(const r of e)r instanceof hu?(n.Ru.addReference(r.key,t),qg(n,r)):r instanceof Au?(S(Bi,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||pu(n,r.key)):M(19791,{wu:r})}function qg(n,t){const e=t.key,r=e.path.canonicalString();n.du.get(e)||n.Eu.has(r)||(S(Bi,"New document in limbo: "+e),n.Eu.add(r),Pi(n))}function Pi(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new N(K.fromString(t)),r=n.fu.next();n.Au.set(r,new xg(e)),n.du=n.du.insert(e,r),nu(n.remoteStore,new ee(Ot(ui(e.path)),r,"TargetPurposeLimboResolution",Sr.ce))}}async function On(n,t,e){const r=k(n),s=[],o=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((l,h)=>{a.push(r.pu(h,t,e).then(f=>{if((f||e)&&r.isPrimaryClient){const m=f?!f.fromCache:e?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,m?"current":"not-current")}if(f){s.push(f);const m=pi.As(h.targetId,f);o.push(m)}}))}),await Promise.all(a),r.Pu.H_(s),await async function(h,f){const m=k(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>B.forEach(f,C=>B.forEach(C.Es,Q=>m.persistence.referenceDelegate.addReference(v,C.targetId,Q)).next(()=>B.forEach(C.ds,Q=>m.persistence.referenceDelegate.removeReference(v,C.targetId,Q)))))}catch(v){if(!Ge(v))throw v;S(Ei,"Failed to update sequence numbers: "+v)}for(const v of f){const C=v.targetId;if(!v.fromCache){const Q=m.Ms.get(C),b=Q.snapshotVersion,x=Q.withLastLimboFreeSnapshotVersion(b);m.Ms=m.Ms.insert(C,x)}}}(r.localStore,o))}async function Yg(n,t){const e=k(n);if(!e.currentUser.isEqual(t)){S(Bi,"User change. New user:",t.toKey());const r=await Zc(e.localStore,t);e.currentUser=t,function(o,a){o.mu.forEach(l=>{l.forEach(h=>{h.reject(new V(P.CANCELLED,a))})}),o.mu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await On(e,r.Ls)}}function Wg(n,t){const e=k(n),r=e.Au.get(t);if(r&&r.hu)return H().add(r.key);{let s=H();const o=e.Iu.get(t);if(!o)return s;for(const a of o){const l=e.Tu.get(a);s=s.unionWith(l.view.nu)}return s}}function Eu(n){const t=k(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=gu.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Fg.bind(null,t),t.Pu.H_=bg.bind(null,t.eventManager),t.Pu.yu=Dg.bind(null,t.eventManager),t}function Gg(n){const t=k(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ug.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zg.bind(null,t),t}class Rr{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=jr(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return Zf(this.persistence,new Xf,t.initialUser,this.serializer)}Cu(t){return new Kc(mi.mi,this.serializer)}Du(t){return new ig}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rr.provider={build:()=>new Rr};class Xg extends Rr{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){W(this.persistence.referenceDelegate instanceof Pr,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new xf(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?_t.withCacheSize(this.cacheSizeBytes):_t.DEFAULT;return new Kc(r=>Pr.mi(r,e),this.serializer)}}class Js{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Oa(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yg.bind(null,this.syncEngine),await Pg(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Rg}()}createDatastore(t){const e=jr(t.databaseInfo.databaseId),r=function(o){return new lg(o)}(t.databaseInfo);return function(o,a,l,h){return new gg(o,a,l,h)}(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return function(r,s,o,a,l){return new mg(r,s,o,a,l)}(this.localStore,this.datastore,t.asyncQueue,e=>Oa(this.syncEngine,e,0),function(){return Da.v()?new Da:new og}())}createSyncEngine(t,e){return function(s,o,a,l,h,f,m){const v=new Ng(s,o,a,l,h,f);return m&&(v.gu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await async function(e){const r=k(e);S(we,"RemoteStore shutting down."),r.Ea.add(5),await Mn(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Js.provider={build:()=>new Js};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Xt("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ae="FirestoreClient";class Jg{constructor(t,e,r,s,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=s,this.user=yt.UNAUTHENTICATED,this.clientId=ni.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{S(Ae,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(S(Ae,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Wt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=wi(e,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Rs(n,t){n.asyncQueue.verifyOperationInProgress(),S(Ae,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Zc(t.localStore,s),r=s)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function La(n,t){n.asyncQueue.verifyOperationInProgress();const e=await Kg(n);S(Ae,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(r=>Va(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>Va(t.remoteStore,s)),n._onlineComponents=t}async function Kg(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){S(Ae,"Using user provided OfflineComponentProvider");try{await Rs(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(s){return s.name==="FirebaseError"?s.code===P.FAILED_PRECONDITION||s.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(e))throw e;ke("Error using user provided cache. Falling back to memory cache: "+e),await Rs(n,new Rr)}}else S(Ae,"Using default OfflineComponentProvider"),await Rs(n,new Xg(void 0));return n._offlineComponents}async function yu(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(S(Ae,"Using user provided OnlineComponentProvider"),await La(n,n._uninitializedComponentsProvider._online)):(S(Ae,"Using default OnlineComponentProvider"),await La(n,new Js))),n._onlineComponents}function Zg(n){return yu(n).then(t=>t.syncEngine)}async function Cu(n){const t=await yu(n),e=t.eventManager;return e.onListen=Mg.bind(null,t.syncEngine),e.onUnlisten=Lg.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Og.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Hg.bind(null,t.syncEngine),e}function $g(n,t,e={}){const r=new Wt;return n.asyncQueue.enqueueAndForget(async()=>function(o,a,l,h,f){const m=new Iu({next:C=>{m.Nu(),a.enqueueAndForget(()=>uu(o,v));const Q=C.docs.has(l);!Q&&C.fromCache?f.reject(new V(P.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&C.fromCache&&h&&h.source==="server"?f.reject(new V(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(C)},error:C=>f.reject(C)}),v=new lu(ui(l.path),m,{includeMetadataChanges:!0,qa:!0});return cu(o,v)}(await Cu(n),n.asyncQueue,t,e,r)),r.promise}function td(n,t,e={}){const r=new Wt;return n.asyncQueue.enqueueAndForget(async()=>function(o,a,l,h,f){const m=new Iu({next:C=>{m.Nu(),a.enqueueAndForget(()=>uu(o,v)),C.fromCache&&h.source==="server"?f.reject(new V(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(C)},error:C=>f.reject(C)}),v=new lu(l,m,{includeMetadataChanges:!0,qa:!0});return cu(o,v)}(await Cu(n),n.asyncQueue,t,e,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu="firestore.googleapis.com",ja=!0;class Fa{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new V(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vu,this.ssl=ja}else this.host=t.host,this.ssl=t.ssl??ja;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Jc;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Sf)throw new V(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}gA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tu(t.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new V(P.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new V(P.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new V(P.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class zr{constructor(t,e,r,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fa({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new V(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new V(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fa(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new sA;switch(r.type){case"firstParty":return new cA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=Ha.get(e);r&&(S("ComponentProvider","Removing Datastore"),Ha.delete(e),r.terminate())}(this),Promise.resolve()}}function ed(n,t,e,r={}){n=jt(n,zr);const s=Zs(t),o=n._getSettings(),a={...o,emulatorOptions:n._getEmulatorOptions()},l=`${t}:${e}`;s&&(Ql(`https://${l}`),Sl("Firestore",!0)),o.host!==vu&&o.host!==l&&ke("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:l,ssl:s,emulatorOptions:r};if(!mr(h,a)&&(n._setSettings(h),r.mockUserToken)){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=yt.MOCK_USER;else{f=Rl(r.mockUserToken,n._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new V(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new yt(v)}n._authCredentials=new iA(new uc(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new qr(this.firestore,t,this._query)}}class st{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ie(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new st(this.firestore,t,this._key)}toJSON(){return{type:st._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(Vn(e,st._jsonSchema))return new st(t,r||null,new N(K.fromString(e.referencePath)))}}st._jsonSchemaVersion="firestore/documentReference/1.0",st._jsonSchema={type:rt("string",st._jsonSchemaVersion),referencePath:rt("string")};class ie extends qr{constructor(t,e,r){super(t,e,ui(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new st(this.firestore,null,new N(t))}withConverter(t){return new ie(this.firestore,t,this._path)}}function Qi(n,t,...e){if(n=oe(n),lc("collection","path",t),n instanceof zr){const r=K.fromString(t,...e);return na(r),new ie(n,null,r)}{if(!(n instanceof st||n instanceof ie))throw new V(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(K.fromString(t,...e));return na(r),new ie(n.firestore,null,r)}}function G(n,t,...e){if(n=oe(n),arguments.length===1&&(t=ni.newId()),lc("doc","path",t),n instanceof zr){const r=K.fromString(t,...e);return ea(r),new st(n,null,new N(r))}{if(!(n instanceof st||n instanceof ie))throw new V(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(K.fromString(t,...e));return ea(r),new st(n.firestore,n instanceof ie?n.converter:null,new N(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="AsyncQueue";class za{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tu(this,"async_queue_retry"),this._c=()=>{const r=Qs();r&&S(Ua,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=Qs();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Qs();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const e=new Wt;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ge(t))throw t;S(Ua,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const e=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,Xt("INTERNAL UNHANDLED ERROR: ",qa(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const s=vi.createAndSchedule(this,t,e,r,o=>this.hc(o));return this.tc.push(s),s}uc(){this.nc&&M(47125,{Pc:qa(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function qa(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Je extends zr{constructor(t,e,r,s){super(t,e,r,s),this.type="firestore",this._queue=new za,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new za(t),this._firestoreClient=void 0,await t}}}function nd(n,t){const e=typeof n=="object"?n:Uh(),r=typeof n=="string"?n:yr,s=kh(e,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=Bl("firestore");o&&ed(s,...o)}return s}function Ri(n){if(n._terminated)throw new V(P.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||rd(n),n._firestoreClient}function rd(n){const t=n._freezeSettings(),e=function(s,o,a,l){return new _A(s,o,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Tu(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new Jg(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Dt(ft.fromBase64String(t))}catch(e){throw new V(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Dt(ft.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Dt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Vn(t,Dt._jsonSchema))return Dt.fromBase64String(t.bytes)}}Dt._jsonSchemaVersion="firestore/bytes/1.0",Dt._jsonSchema={type:rt("string",Dt._jsonSchemaVersion),bytes:rt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new V(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new V(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new V(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return L(this._lat,t._lat)||L(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Lt._jsonSchemaVersion}}static fromJSON(t){if(Vn(t,Lt._jsonSchema))return new Lt(t.latitude,t.longitude)}}Lt._jsonSchemaVersion="firestore/geoPoint/1.0",Lt._jsonSchema={type:rt("string",Lt._jsonSchemaVersion),latitude:rt("number"),longitude:rt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Ht._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Vn(t,Ht._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new Ht(t.vectorValues);throw new V(P.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ht._jsonSchemaVersion="firestore/vectorValue/1.0",Ht._jsonSchema={type:rt("string",Ht._jsonSchemaVersion),vectorValues:rt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd=/^__.*__$/;class id{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new ge(t,this.data,this.fieldMask,e,this.fieldTransforms):new xn(t,this.data,e,this.fieldTransforms)}}class wu{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new ge(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function _u(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw M(40011,{Ac:n})}}class Di{constructor(t,e,r,s,o,a){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Di({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return br(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(_u(this.Ac)&&sd.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class od{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||jr(t)}Cc(t,e,r,s=!1){return new Di({Ac:t,methodName:e,Dc:r,path:ht.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bu(n){const t=n._freezeSettings(),e=jr(n._databaseId);return new od(n._databaseId,!!t.ignoreUndefinedProperties,e)}function ad(n,t,e,r,s,o={}){const a=n.Cc(o.merge||o.mergeFields?2:0,t,e,s);Si("Data must be an object, but it was:",a,r);const l=Pu(r,a);let h,f;if(o.merge)h=new bt(a.fieldMask),f=a.fieldTransforms;else if(o.mergeFields){const m=[];for(const v of o.mergeFields){const C=Ks(t,v,e);if(!a.contains(C))throw new V(P.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);Ru(m,C)||m.push(C)}h=new bt(m),f=a.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,f=a.fieldTransforms;return new id(new Bt(l),h,f)}class Wr extends bi{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Wr}}function cd(n,t,e,r){const s=n.Cc(1,t,e);Si("Data must be an object, but it was:",s,r);const o=[],a=Bt.empty();fe(r,(h,f)=>{const m=Vi(t,h,e);f=oe(f);const v=s.yc(m);if(f instanceof Wr)o.push(m);else{const C=Gr(f,v);C!=null&&(o.push(m),a.set(m,C))}});const l=new bt(o);return new wu(a,l,s.fieldTransforms)}function ud(n,t,e,r,s,o){const a=n.Cc(1,t,e),l=[Ks(t,r,e)],h=[s];if(o.length%2!=0)throw new V(P.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<o.length;C+=2)l.push(Ks(t,o[C])),h.push(o[C+1]);const f=[],m=Bt.empty();for(let C=l.length-1;C>=0;--C)if(!Ru(f,l[C])){const Q=l[C];let b=h[C];b=oe(b);const x=a.yc(Q);if(b instanceof Wr)f.push(Q);else{const D=Gr(b,x);D!=null&&(f.push(Q),m.set(Q,D))}}const v=new bt(f);return new wu(m,v,a.fieldTransforms)}function Gr(n,t){if(Qu(n=oe(n)))return Si("Unsupported field value:",t,n),Pu(n,t);if(n instanceof bi)return function(r,s){if(!_u(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(r,s){const o=[];let a=0;for(const l of r){let h=Gr(l,s.wc(a));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),a++}return{arrayValue:{values:o}}}(n,t)}return function(r,s){if((r=oe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XA(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Z.fromDate(r);return{timestampValue:Br(s.serializer,o)}}if(r instanceof Z){const o=new Z(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Br(s.serializer,o)}}if(r instanceof Lt)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dt)return{bytesValue:Uc(s.serializer,r._byteString)};if(r instanceof st){const o=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:gi(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ht)return function(a,l){return{mapValue:{fields:{[Ic]:{stringValue:yc},[Cr]:{arrayValue:{values:a.toArray().map(f=>{if(typeof f!="number")throw l.Sc("VectorValues must only contain numeric values.");return li(l.serializer,f)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${ri(r)}`)}(n,t)}function Pu(n,t){const e={};return fc(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fe(n,(r,s)=>{const o=Gr(s,t.mc(r));o!=null&&(e[r]=o)}),{mapValue:{fields:e}}}function Qu(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Z||n instanceof Lt||n instanceof Dt||n instanceof st||n instanceof bi||n instanceof Ht)}function Si(n,t,e){if(!Qu(e)||!hc(e)){const r=ri(e);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function Ks(n,t,e){if((t=oe(t))instanceof Yr)return t._internalPath;if(typeof t=="string")return Vi(n,t);throw br("Field path arguments must be of type string or ",n,!1,void 0,e)}const ld=new RegExp("[~\\*/\\[\\]]");function Vi(n,t,e){if(t.search(ld)>=0)throw br(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Yr(...t.split("."))._internalPath}catch{throw br(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function br(n,t,e,r,s){const o=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${t}() called with invalid data`;e&&(l+=" (via `toFirestore()`)"),l+=". ";let h="";return(o||a)&&(h+=" (found",o&&(h+=` in field ${r}`),a&&(h+=` in document ${s}`),h+=")"),new V(P.INVALID_ARGUMENT,l+n+h)}function Ru(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(t,e,r,s,o){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new st(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new hd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Du("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class hd extends bu{data(){return super.data()}}function Du(n,t){return typeof t=="string"?Vi(n,t):t instanceof Yr?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new V(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fd{convertValue(t,e="none"){switch(le(t)){case 0:return null;case 1:return t.booleanValue;case 2:return et(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ue(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw M(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return fe(t,(s,o)=>{r[s]=this.convertValue(o,e)}),r}convertVectorValue(t){const e=t.fields?.[Cr].arrayValue?.values?.map(r=>et(r.doubleValue));return new Ht(e)}convertGeoPoint(t){return new Lt(et(t.latitude),et(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=xr(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Pn(t));default:return null}}convertTimestamp(t){const e=ce(t);return new Z(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=K.fromString(t);W(Xc(r),9688,{name:t});const s=new Qn(r.get(1),r.get(3)),o=new N(r.popFirst(5));return s.isEqual(e)||Xt(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(n,t,e){let r;return r=n?n.toFirestore(t):t,r}class En{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Te extends bu{constructor(t,e,r,s,o,a){super(t,e,r,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new gr(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Du("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new V(P.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Te._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Te._jsonSchemaVersion="firestore/documentSnapshot/1.0",Te._jsonSchema={type:rt("string",Te._jsonSchemaVersion),bundleSource:rt("string","DocumentSnapshot"),bundleName:rt("string"),bundle:rt("string")};class gr extends Te{data(t={}){return super.data(t)}}class Oe{constructor(t,e,r,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new En(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new gr(this._firestore,this._userDataWriter,r.key,r,new En(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new V(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const h=new gr(s._firestore,s._userDataWriter,l.doc.key,l.doc,new En(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:h,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const h=new gr(s._firestore,s._userDataWriter,l.doc.key,l.doc,new En(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,m=-1;return l.type!==0&&(f=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),m=a.indexOf(l.doc.key)),{type:dd(l.type),doc:h,oldIndex:f,newIndex:m}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new V(P.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Oe._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ni.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(e.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function dd(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return M(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(n){n=jt(n,st);const t=jt(n.firestore,Je);return $g(Ri(t),n._key).then(e=>md(t,n,e))}Oe._jsonSchemaVersion="firestore/querySnapshot/1.0",Oe._jsonSchema={type:rt("string",Oe._jsonSchemaVersion),bundleSource:rt("string","QuerySnapshot"),bundleName:rt("string"),bundle:rt("string")};class Vu extends fd{constructor(t){super(),this.firestore=t}convertBytes(t){return new Dt(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new st(this.firestore,null,e)}}function xi(n){n=jt(n,qr);const t=jt(n.firestore,Je),e=Ri(t),r=new Vu(t);return Ad(n._query),td(e,n._query).then(s=>new Oe(t,r,n,s))}function kn(n,t,e){n=jt(n,st);const r=jt(n.firestore,Je),s=gd(n.converter,t);return Mi(r,[ad(Bu(r),"setDoc",n._key,s,n.converter!==null,e).toMutation(n._key,Vt.none())])}function Ni(n,t,e,...r){n=jt(n,st);const s=jt(n.firestore,Je),o=Bu(s);let a;return a=typeof(t=oe(t))=="string"||t instanceof Yr?ud(o,"updateDoc",n._key,t,e,r):cd(o,"updateDoc",n._key,t),Mi(s,[a.toMutation(n._key,Vt.exists(!0))])}function xu(n){return Mi(jt(n.firestore,Je),[new hi(n._key,Vt.none())])}function Mi(n,t){return function(r,s){const o=new Wt;return r.asyncQueue.enqueueAndForget(async()=>jg(await Zg(r),s,o)),o.promise}(Ri(n),t)}function md(n,t,e){const r=e.docs.get(t._key),s=new Vu(n);return new Te(n,s,t._key,r,new En(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(s){Ye=s})(Fh),Er(new wn("firestore",(r,{instanceIdentifier:s,options:o})=>{const a=r.getProvider("app").getImmediate(),l=new Je(new oA(r.getProvider("auth-internal")),new uA(a,r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new V(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qn(f.options.projectId,m)}(a,s),a);return o={useFetchStreams:e,...o},l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Ne(Ko,Zo,t),Ne(Ko,Zo,"esm2020")})();class Qt{x;y;constructor({x:t,y:e}){this.x=t,this.y=e}toId(){return`Cell-${this.x}-${this.y}`}static fromString(t){return new Qt({x:parseInt(t.split("-")[1]),y:parseInt(t.split("-")[2])})}}class At{name;id;icon;cellsLong;cellsTall;hasMoved;initialElement;moveable;rotation;starterItem;isDisplayItem;sectionCell;isSectionItem;isSectionModifier;sectionModifierType;constructor({id:t,cellsLong:e,cellsTall:r,initialElement:s,name:o,icon:a,moveable:l,starterItem:h,displayItem:f,sectionCell:m,rotation:v,isSectionItem:C,sectionModifierType:Q,isSectionModifier:b}){this.id=t,this.cellsLong=e,this.cellsTall=r,this.hasMoved=!1,this.initialElement=s,this.name=o,this.icon=a,this.rotation=v||0,this.moveable=l??!0,this.starterItem=h??!1,this.isDisplayItem=f??!1,this.sectionCell=m,this.isSectionItem=C??!1,this.isSectionModifier=b??!1,this.sectionModifierType=Q}static fromDoc(t){return new At({id:t.id,name:t.name,icon:t.icon,cellsLong:t.cellsLong,cellsTall:t.cellsTall,moveable:t.moveable,starterItem:t.starterItem,displayItem:t.displayItem||!1,rotation:t.rotation||0,isSectionItem:t.isSectionItem||!1,isSectionModifier:t.isSectionModifier||!1,sectionModifierType:t.sectionModifierType==""?void 0:t.sectionModifierType})}static fromJSON(t){return new At({id:t.id,name:t.name,icon:t.icon,cellsLong:t.cellsLong,cellsTall:t.cellsTall,moveable:t.moveable,starterItem:t.starterItem,displayItem:t.displayItem||!1,rotation:t.rotation||0,isSectionItem:t.isSectionItem||!1,isSectionModifier:t.isSectionModifier||!1,sectionModifierType:t.sectionModifierType==""?void 0:t.sectionModifierType})}toJSON(){return{id:this.id,name:this.name,icon:this.icon,cellsLong:this.cellsLong,cellsTall:this.cellsTall,moveable:this.moveable,starterItem:this.starterItem,displayItem:this.isDisplayItem,rotation:this.rotation||0,isSectionItem:this.isSectionItem||!1,isSectionModifier:this.isSectionModifier||!1,sectionModifierType:this.sectionModifierType||""}}toDoc(){return{id:this.id,name:this.name,icon:this.icon,cellsLong:this.cellsLong,cellsTall:this.cellsTall,moveable:this.moveable,starterItem:this.starterItem,displayItem:this.isDisplayItem,isSectionItem:this.isSectionItem||!1,isSectionModifier:this.isSectionModifier||!1,sectionModifierType:this.sectionModifierType||"",rotation:this.rotation||0}}}class xt{item;quantity;constructor({item:t,quantity:e}){this.item=t,this.quantity=e}static fromDoc(t){return new xt({item:At.fromDoc(t.item),quantity:t.quantity})}static fromJSON(t){return new xt({item:At.fromJSON(t.item),quantity:t.quantity})}toJSON(){return{item:this.item.toJSON(),quantity:this.quantity}}toDoc(){return{item:this.item.toDoc(),quantity:this.quantity}}}class Ce{cell;item;constructor({cell:t,item:e}){this.cell=t,this.item=e}static fromDoc(t){return new Ce({cell:Qt.fromString(t.cell),item:At.fromDoc(t.item)})}static fromJSON(t){return new Ce({cell:Qt.fromString(t.cell),item:At.fromJSON(t.item)})}toJSON(){return{cell:this.cell.toId(),item:this.item.toJSON()}}toDoc(){return{cell:this.cell.toId(),item:this.item.toDoc()}}}class Rt{name;cellId;cellElement;cellsLong;cellsTall;startingItems;items;modifierItems;constructor({name:t,cellId:e,cellsLong:r,cellsTall:s,startingItems:o,items:a,modifierItems:l}){this.name=t,this.cellId=e,this.cellsLong=r,this.cellsTall=s,this.startingItems=o,this.cellElement=null,this.items=a||[],this.modifierItems=l}static fromJSON(t){const e=JSON.parse(t);return new Rt({name:e.name,cellId:Qt.fromString(e.cellId),cellsLong:e.cellsLong,cellsTall:e.cellsTall,startingItems:e.startingItems.map(r=>new Ce({cell:Qt.fromString(r.cell),item:At.fromJSON(r.item)})),items:e.items?e.items.map(r=>At.fromJSON(r)):[],modifierItems:e.modifierItems?e.modifierItems.map(r=>Ce.fromJSON(r)):[]})}static fromDoc(t){return new Rt({name:t.name,cellId:Qt.fromString(t.cellId),cellsLong:t.cellsLong,cellsTall:t.cellsTall,startingItems:t.startingItems?t.startingItems.map(e=>new Ce({cell:Qt.fromString(e.cell),item:At.fromDoc(e.item)})):[],items:t.items?t.items.map(e=>At.fromDoc(e)):[],modifierItems:t.modifierItems?t.modifierItems.map(e=>Ce.fromDoc(e)):[]})}toJSON(){return{name:this.name,cellId:this.cellId.toId(),cellsLong:this.cellsLong,cellsTall:this.cellsTall,startingItems:this.startingItems.map(t=>({cell:t.cell.toId(),item:t.item.toJSON()})),items:this.items.map(t=>t.toJSON()),modifierItems:this.modifierItems.map(t=>t.toJSON())}}toDoc(){return console.log("Section toDoc",this.items),{name:this.name,cellId:this.cellId.toId(),cellsLong:this.cellsLong,cellsTall:this.cellsTall,startingItems:this.startingItems.map(t=>({cell:t.cell.toId(),item:t.item.toDoc()})),items:this.items.map(t=>t.toDoc()),modifierItems:this.modifierItems.map(t=>t.toDoc())}}}class Sn{name;sections;id;previewImage;inventoryItems;constructor({name:t,sections:e,id:r,previewImage:s,inventoryItems:o}){this.name=t,this.sections=e,this.id=r,this.previewImage=s,this.inventoryItems=o}toJSON(){return JSON.stringify({name:this.name,id:this.id,sections:this.sections.map(t=>t.toJSON()),previewImage:this.previewImage,inventoryItems:this.inventoryItems.map(t=>t.toJSON())})}toDoc(){return{name:this.name,id:this.id,sections:this.sections.map(t=>t.toDoc()),previewImage:this.previewImage,inventoryItems:this.inventoryItems.map(t=>t.toDoc())}}static fromJSON(t){const e=JSON.parse(t);return new Sn({name:e.name,id:e.id,sections:e.sections.map(r=>Rt.fromJSON(r)),previewImage:e.previewImage,inventoryItems:e.inventoryItems?e.inventoryItems.map(r=>xt.fromJSON(r)):[]})}static fromDoc(t){return new Sn({name:t.name,id:t.id,sections:t.sections?t.sections.map(e=>Rt.fromDoc(e)):[],previewImage:t.previewImage,inventoryItems:t.inventoryItems?t.inventoryItems.map(e=>xt.fromDoc(e)):[]})}}class ze{id;name;sections;templates;inventoryItems;previewImage;width;height;constructor({name:t,sections:e,templates:r,inventoryItems:s,id:o,previewImage:a,width:l,height:h}){this.name=t,this.sections=e,this.templates=r,this.inventoryItems=s,this.id=o,this.previewImage=a,this.width=l,this.height=h}static fromDoc(t){return new ze({name:t.name,id:t.id,sections:t.sections?t.sections.map(e=>Rt.fromDoc(e)):[],templates:t.templates?t.templates.map(e=>Sn.fromDoc(e)):[],inventoryItems:t.inventoryItems?t.inventoryItems.map(e=>xt.fromDoc(e)):[],previewImage:t.previewImage||"",width:t.width,height:t.height})}static fromJSON(t){return new ze({name:t.name,id:t.id,sections:t.sections?t.sections.map(e=>Rt.fromJSON(e)):[],templates:t.templates?t.templates.map(e=>Sn.fromJSON(e)):[],inventoryItems:t.inventoryItems?t.inventoryItems.map(e=>xt.fromJSON(e)):[],previewImage:t.previewImage||"",width:t.width,height:t.height})}toJSON(){return{name:this.name,id:this.id,sections:this.sections.map(t=>t.toJSON()),templates:this.templates.map(t=>t.toJSON()),inventoryItems:this.inventoryItems.map(t=>t.toJSON()),previewImage:this.previewImage,width:this.width,height:this.height}}toDoc(){return{name:this.name,id:this.id,sections:this.sections.map(t=>t.toDoc()),templates:this.templates.map(t=>t.toDoc()),inventoryItems:this.inventoryItems.map(t=>t.toDoc()),previewImage:this.previewImage||"",width:this.width,height:this.height}}}class Oi{name;id;code;users;constructor({name:t,id:e,code:r,users:s}){this.name=t,this.id=e,this.code=r,this.users=s}static fromDoc(t){return new Oi({name:t.name,id:t.id,code:t.code,users:t.users||[]})}toDoc(){return{name:this.name,id:this.id,code:this.code,users:this.users||[]}}}class Xr{id;name;areaId;previewImage;sections;inventoryItems;constructor({id:t,name:e,areaId:r,previewImage:s,sections:o,inventoryItems:a}){this.id=t,this.name=e,this.areaId=r,this.previewImage=s,this.sections=o,this.inventoryItems=a}static fromDoc(t){return new Xr({id:t.id,name:t.name,areaId:t.areaId,previewImage:t.previewImage||"",sections:t.sections?t.sections.map(e=>Rt.fromDoc(e)):[],inventoryItems:t.inventoryItems?t.inventoryItems.map(e=>xt.fromDoc(e)):[]})}toDoc(){return{id:this.id,name:this.name,areaId:this.areaId,previewImage:this.previewImage||"",sections:this.sections.map(t=>t.toDoc()),inventoryItems:this.inventoryItems.map(t=>t.toDoc())}}}const Sd=[new At({id:"rectangular-table",name:"Rectangular Table",icon:"https://firebasestorage.googleapis.com/v0/b/kazoom-layitout.firebasestorage.app/o/public%2Frectangle_Table.png?alt=media&token=b6a58b65-3082-4fa7-93a4-f93b71c01dc8",cellsLong:8,cellsTall:4,moveable:!0,starterItem:!0,displayItem:!0}),new At({id:"rounded-table",name:"Rounded Table",icon:"https://firebasestorage.googleapis.com/v0/b/kazoom-layitout.firebasestorage.app/o/public%2Frounded_table.png?alt=media&token=f7c546ad-0247-420e-a146-46346751de00",cellsLong:4,cellsTall:4,moveable:!0,starterItem:!0,displayItem:!0}),new At({id:"chair",name:"Chair",icon:"https://firebasestorage.googleapis.com/v0/b/kazoom-layitout.firebasestorage.app/o/public%2FChair.png?alt=media&token=cde7cf8c-35d5-40da-a0ff-7cc96fd1996d",cellsLong:2,cellsTall:2,moveable:!0,starterItem:!0,displayItem:!0})];function pd(){return[]}function Ed(){return new ze({name:"Local Area",width:63,height:63,id:"vY4BHs3ebZZ1MUnqTEi7",previewImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA48AAAOGCAYAAABMZqXHAAAgAElEQVR4XuzdCdx8V10ffrL8IpGyyipoJYBLqTGQBIxr6h+LtdbaIqWK1lrXVqtUxOVfW1u0dam7Fm2t1tpai/gSrbUuVEvpX2NMCAgiIimURRRBWRJC9vy/53FOOLm/e+eemTsz99x53s/rNa+ZZ+Yu577PmXvuZ86dO+fcyx8BAgQIECBAgAABAgQIEBgROIcQAQIECBAgQIAAAQIECBAYExAex4S8ToAAAQIECBAgQIAAAQL3Eh41AgIECBAgQIAAAQIECBAYFRAeR4lMQIAAAQIECBAgQIAAAQLCozZAgAABAgQIECBAgAABAqMCwuMokQkIECBAgAABAgQIECBAQHjUBggQIECAAAECBAgQIEBgVEB4HCUyAQECBAgQIECAAAECBAgIj9oAAQIECBAgQIAAAQIECIwKCI+jRCYgQIAAAQIECBAgQIAAAeFRGyBAgAABAgQIECBAgACBUQHhcZTIBAQIECBAgAABAgQIECAgPGoDBAgQIECAAAECBAgQIDAqIDyOEpmAAAECBAgQIECAAAECBIRHbYAAAQIECBAgQIAAAQIERgWEx1EiExAgQIAAAQIECBAgQICA8KgNECBAgAABAgQIECBAgMCogPA4SmQCAgQIECBAgAABAgQIEBAetQECBAgQIECAAAECBAgQGBUQHkeJTECAAAECBAgQIECAAAECwqM2QIAAAQIECBAgQIAAAQKjAsLjKJEJCBAgQIAAAQIECBAgQEB41AYIECBAgAABAgQIECBAYFRAeBwlMgEBAgQIECBAgAABAgQICI/aAAECBAgQIECAAAECBAiMCgiPo0QmIECAAAECBAgQIECAAAHhURsgQIAAAQIECBAgQIAAgVEB4XGUyAQECBAgQIAAAQIECBAgIDxqAwQIECBAgAABAgQIECAwKiA8jhKZgAABAgQIECBAgAABAgSER22AAAECBAgQIECAAAECBEYFhMdRIhMQIECAAAECBAgQIECAgPCoDRAgQIAAAQIECBAgQIDAqIDwOEpkAgIECBAgQIAAAQIECBAQHrUBAgQIECBAgAABAgQIEBgVEB5HiUxAgAABAgQIECBAgAABAsKjNkCAAAECBAgQIECAAAECowLC4yiRCQgQIECAAAECBAgQIEBAeNQGCBAgQIAAAQIECBAgQGBUQHgcJTIBAQIECBAgQIAAAQIECAiP2gABAgQIECBAgAABAgQIjAoIj6NEJiBAgAABAgQIECBAgAAB4VEbIECAAAECBAgQIECAAIFRAeFxlMgEBAgQIECAAAECBAgQICA8agMECBAgQIAAAQIECBAgMCogPI4SmYAAAQIECBAgQIAAAQIEhEdtgAABAgQIECBAgAABAgRGBYTHUSITECBAgAABAgQIECBAgIDwqA0QIECAAAECBAgQIECAwKiA8DhKZAICBAgQIECAAAECBAgQEB61AQIECBAgQIAAAQIECBAYFRAeR4lMQIAAAQIECBAgQIAAAQLCozZAgAABAgQIECBAgAABAqMCwuMokQkIECBAgAABAgQIECBAQHjUBggQIECAAAECBAgQIEBgVEB4HCUyAQECBAgQIECAAAECBAgIj9oAAQIECBAgQIAAAQIECIwKCI+jRCYgQIAAAQIECBAgQIAAAeFRGyBAgAABAgQIECBAgACBUQHhcZTIBAQIECBAgAABAgQIECAgPGoDBAgQIECAAAECBAgQIDAqIDyOEpmAAAECBAgQIECAAAECBIRHbYAAAQIECBAgQIAAAQIERgWEx1EiExAgQIAAAQIECBAgQICA8KgNECBAgAABAgQIECBAgMCogPA4SmQCAgQIECBAgAABAgQIEBAetQECBAgQIECAAAECBAgQGBUQHkeJTECAAAECBAgQIECAAAECwqM2QIAAAQIECBAgQIAAAQKjAsLjKJEJCBAgQIAAAQIECBAgQEB41AYIECBAgAABAgQIECBAYFRAeBwlMgEBAgQIECBAgAABAgQICI/aAAECBAgQIECAAAECBAiMCgiPo0QmIECAAAECBAgQIECAAAHhURsgQIAAAQIECBAgQIAAgVEB4XGUyAQECBAgQIAAAQIECBAgIDxqAwQIECBAgAABAgQIECAwKiA8jhKZgAABAgQIECBAgAABAgSER22AAAECBAgQIECAAAECBEYFhMdRIhMQIECAAAECBAgQIECAgPCoDRAgQIAAAQIECBAgQIDAqIDwOEpkAgIECBAgQIAAAQIECBAQHrUBAgQIECBAgAABAgQIEBgVEB5HiUxAgAABAgQIECBAgAABAsKjNkCAAAECBAgQIECAAAECowLC4yiRCQgQIECAAAECBAgQIEBAeNQGCBAgQIAAAQIECBAgQGBUQHgcJTIBAQIECBAgQIAAAQIECAiP2gABAgQIECBAgAABAgQIjAoIj6NEJiBAgAABAgQIECBAgAAB4VEbIECAAAECBAgQIECAAIFRAeFxlMgEBAgQIECAAAECBAgQICA8agMECBAgQIAAAQIECBAgMCogPI4SmYAAAQIECBAgQIAAAQIEhEdtgAABAgQIECBAgAABAgRGBYTHUSITECBAgAABAgQIECBAgIDwqA0QIECAAAECBAgQIECAwKiA8DhKZAICBAgQIECAAAECBAgQEB61AQIECBAgQIAAAQIECBAYFRAeR4lMQIAAAQIECBAgQIAAAQLCozZAgAABAgQIECBAgAABAqMCwuMokQkIECBAgAABAgQIECBAQHjUBggQIECAAAECBAgQIEBgVEB4HCUyAQECBAgQIECAAAECBAgIj9oAAQIECBAgQIAAAQIECIwKCI+jRCYgQIAAAQIECBAgQIAAAeFRGyBAgAABAgQIECBAgACBUQHhcZTIBAQIECBAgAABAgQIECAgPGoDBAgQIECAAAECBAgQIDAqIDyOEpmAAAECBAgQIECAAAECBIRHbYAAAQIECBAgQIAAAQIERgWEx1EiExAgQIAAAQIECBAgQICA8KgNECBAgAABAgQIECBAgMCogPA4SmQCAgQIECBAgAABAgQIEBAetQECBAgQIECAAAECBAgQGBUQHkeJTECAAAECBAgQIECAAAECwqM2QIAAAQIECBAgQIAAAQKjAsLjKJEJCBAgQIAAAQIECBAgQEB41AYIECBAgAABAgQIECBAYFRAeBwlMgEBAgQIECBAgAABAgQICI/aAAECBAgQIECAAAECBAiMCgiPo0QmIECAAAECBAgQIECAAAHhURsgQIAAAQIECBAgQIAAgVEB4XGUyAQECBAgQIAAAQIECBAgIDxqAwQIECBAgAABAgQIECAwKiA8jhKZgAABAgQIECBAgAABAgSER22AAAECBAgQIECAAAECBEYFhMdRIhMQIECAAAECBAgQIECAgPCoDRAgQIAAAQIECBAgQIDAqIDwOEpkAgIECBAgQIAAAQIECBAQHrUBAgQIECBAgAABAgQIEBgVEB5HiUxAgAABAgQIECBAgAABAsKjNkCAAAECBAgQIECAAAECowLC4yiRCQgQIECAAAECBAgQ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r0+1iAABAgQIECBAgAABAt0FhMfupAokQIAAAQIECBAgQIDAeALC43h9qkUECBAgQIAAAQIECBDoLiA8didVIAECBAgQIECAAAECBMYTEB7H61MtIkCAAAECBAgQIECAQHcB4bE7qQIJECBAgAABAgQIECAwnoDwOF6fahEBAgQIECBAgAABAgS6CwiP3UkVSIAAAQIECBAgQIAAgfEEhMfx+lSLCBAgQIAAAQIECBAg0F1AeOxOqkACBAgQIECAAAECBAiMJyA8jtenWkSAAAECBAgQIECAAIHuAsJjd1IFEiBAgAABAgQIECBAYDwB4XG8PtUiAgQIECBAgAABAgQIdBcQHruTKpAAAQIECBAgQIAAAQLjCQiP4/WpFhEgQIAAAQIECBAgQKC7gPDYnVSBBAgQIECAAAECBAgQGE9AeByvT7WIAAECBAgQIECAAAEC3QWEx+6kCiRAgAABAgQIECBAgMB4AsLjeH2qRQQIECBAgAABAgQIEOguIDx2J1UgAQIECBAgQIAAAQIExhMQHsfrUy0iQIAAAQIECBAgQIBAdwHhsTupAgkQIECAAAECBAgQIDCegPA4Xp9qEQECBAgQIECAAAECBLoLCI/dSRVIgAABAgQIECBAgACB8QSEx/H6VIsIECBAgAABAgQIECDQXUB47E6qQAIECBAgQIAAAQIECIwnIDyO16daRIAAAQIECBAgQIAAge4CwmN3UgUSIECAAAECBAgQIEBgPAHhcbw+1SICBAgQIECAAAECBAh0FxAeu5MqkAABAgQIECBAgAABAuMJCI/j9akWESBAgAABAgQIECBAoLuA8NidVIEECBAgQIAAAQIECBAYT0B4HK9PtYgAAQIECBAgQIAAAQLdBYTH7qQKJECAAAECBAgQIECAwHgCwuN4fapFBAgQIECAAAECBAgQ6C4gPHYnVSABAgQIECBAgAABAgTGExAex+tTLSJAgAABAgQIECBAgEB3AeGxO6kCCRAgQIAAAQIECBAgMJ6A8Dhen2oRAQIECBAgQIAAAQIEugsIj91JFUiAAAECBAgQIECAAIHxBITH8fpUiwgQIECAAAECBAgQINBdQHjsTqpAAgQIECBAgAABAgQIjCcgPI7Xp1pEgAABAgQIECBAgACB7gLCY3dSBRIgQIAAAQIECBAgQGA8AeFxvD7VIgIECBAgQIAAAQIECHQXEB67kyqQAAECBAgQIECAAAEC4wn8P7TvvNytG1FkAAAAAElFTkSuQmCC",templates:pd(),inventoryItems:[new xt({quantity:60,item:new At({id:"1",name:"Chair",cellsLong:2,cellsTall:2,icon:"https://firebasestorage.googleapis.com/v0/b/kazoom-layitout.firebasestorage.app/o/public%2FChair.png?alt=media&token=cde7cf8c-35d5-40da-a0ff-7cc96fd1996d",displayItem:!0})}),new xt({quantity:4,item:new At({id:"2",name:"Table",cellsLong:8,cellsTall:4,icon:"https://firebasestorage.googleapis.com/v0/b/kazoom-layitout.firebasestorage.app/o/public%2Frectangle_Table.png?alt=media&token=b6a58b65-3082-4fa7-93a4-f93b71c01dc8",displayItem:!0})}),new xt({quantity:8,item:new At({id:"3",name:"Rounded Table",cellsLong:4,cellsTall:4,icon:"https://firebasestorage.googleapis.com/v0/b/kazoom-layitout.firebasestorage.app/o/public%2Frounded_table.png?alt=media&token=f7c546ad-0247-420e-a146-46346751de00",displayItem:!0})})],sections:[new Rt({cellId:new Qt({x:0,y:20}),modifierItems:[],cellsLong:50,cellsTall:30,startingItems:[],name:"Main Area"}),new Rt({cellId:new Qt({x:50,y:20}),cellsLong:30,modifierItems:[],cellsTall:20,startingItems:[],name:"Outdoor Area"}),new Rt({cellId:new Qt({x:40,y:0}),cellsLong:10,cellsTall:20,modifierItems:[],startingItems:[],name:"Hallway"}),new Rt({cellId:new Qt({x:50,y:0}),cellsLong:30,cellsTall:20,startingItems:[],modifierItems:[],name:"Veranda"}),new Rt({cellId:new Qt({x:0,y:50}),cellsLong:30,cellsTall:10,modifierItems:[],startingItems:[],name:"Kitchen"})]})}const Id=nd(rA),wt=Qi(Id,"companies");async function Vd(n,t){{const e=G(wt,n),r=G(e,"areas",t),s=await Su(r);if(s.exists()){const o=s.data();return ze.fromDoc(o)}else return console.error("No such area document!"),Ed()}}async function xd(n,t){{const e=G(wt,n),r=G(e,"areas",t.id);await kn(r,t.toDoc())}}async function Nd(n,t,e){{const r=G(wt,n),s=G(r,"areas",t);await Ni(s,{templates:e.map(o=>o.toDoc())})}}async function Md(){{const n=await xi(wt),t=[];return n.forEach(e=>{const r=e.data();t.push(Oi.fromDoc(r))}),t}}async function Od(n){{const t=G(wt,n.id);await kn(t,n.toDoc())}}async function kd(n){{const t=G(wt,n),e=Qi(t,"areas"),r=await xi(e),s=[];return r.forEach(o=>{const a=o.data();s.push(ze.fromDoc(a))}),s}}async function Ld(n,t){const e=G(wt,n),r=G(e,"areas",t),s=Qi(r,"designs"),o=await xi(s),a=[];return o.forEach(l=>{const h=l.data();a.push(Xr.fromDoc(h))}),a}async function Hd(n,t,e){console.log("Fetching design",e,"for area",t,"in company",n);const r=G(wt,n),s=G(r,"areas",t),o=G(s,"designs",e),a=await Su(o);return a.exists()?Xr.fromDoc(a.data()):null}async function jd(n,t,e){{const r=G(wt,n),s=G(r,"areas",t),o=G(s,"designs",e.id);await kn(o,e.toDoc())}}async function Fd(n,t,e){{const r=G(wt,n),s=G(r,"areas",t),o=G(s,"designs",e);await xu(o)}}async function Ud(n,t,e){{const r=G(wt,n),s=G(r,"areas",t),o=G(s,"designs",e.id);await kn(o,e.toDoc())}}async function zd(n,t){{const e=G(wt,n),r=G(e,"areas",t.id);await kn(r,t.toDoc())}}async function qd(n,t,e,r,s){{const o=G(wt,n),a=G(o,"areas",t);await Ni(a,{sections:e.map(l=>l.toDoc()),width:r,height:s})}}async function Yd(n,t,e){{const r=G(wt,n),s=G(r,"areas",t);await Ni(s,{sections:e.map(o=>o.toDoc())})}}async function Wd(n,t){{const e=G(wt,n),r=G(e,"areas",t);await xu(r)}}export{Td as $,ze as A,oe as B,Qt as C,Xr as D,Xa as E,$s as F,bd as G,z as H,At as I,qe as J,yl as K,Ja as L,Pd as M,Zs as N,Uh as O,kh as P,_l as Q,mr as R,Rt as S,Sn as T,Ql as U,Sl as V,_d as W,Bd as X,Qd as Y,Rd as Z,Er as _,zd as a,rA as a0,Ed as a1,Ld as b,jd as c,Fd as d,xt as e,Ce as f,kd as g,Wd as h,Vd as i,Hd as j,qd as k,Yd as l,xd as m,Md as n,Od as o,Sd as p,yd as q,Cd as r,Nd as s,wd as t,Ud as u,wn as v,Ne as w,vd as x,Fh as y,Lh as z};
