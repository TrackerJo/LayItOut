import{j as e,r as d,c as G}from"./index-QIV6qY6h.js";import{i as y}from"./auth-BtCfQtks.js";import{D as C,d as u,c as v,g as b,a as h}from"./firestore-FyM7zbDZ.js";const Z="/LayItOut/assets/person-B6dEeLiq.png",R="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAE02lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogIDxBdHRyaWI6QWRzPgogICA8cmRmOlNlcT4KICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDI1LTA4LTA1PC9BdHRyaWI6Q3JlYXRlZD4KICAgICA8QXR0cmliOkV4dElkPjczNzgwNjZhLTY1ZDEtNGI2MC1hYzBhLTY2N2M4OWFkMGMyYzwvQXR0cmliOkV4dElkPgogICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICA8L3JkZjpsaT4KICAgPC9yZGY6U2VxPgogIDwvQXR0cmliOkFkcz4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6ZGM9J2h0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvJz4KICA8ZGM6dGl0bGU+CiAgIDxyZGY6QWx0PgogICAgPHJkZjpsaSB4bWw6bGFuZz0neC1kZWZhdWx0Jz5hZGQtaXRlbSAtIDM8L3JkZjpsaT4KICAgPC9yZGY6QWx0PgogIDwvZGM6dGl0bGU+CiA8L3JkZjpEZXNjcmlwdGlvbj4KCiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0nJwogIHhtbG5zOnBkZj0naHR0cDovL25zLmFkb2JlLmNvbS9wZGYvMS4zLyc+CiAgPHBkZjpBdXRob3I+U2FyYWggS2VtbWVOYXNoPC9wZGY6QXV0aG9yPgogPC9yZGY6RGVzY3JpcHRpb24+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczp4bXA9J2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8nPgogIDx4bXA6Q3JlYXRvclRvb2w+Q2FudmEgKFJlbmRlcmVyKSBkb2M9REFHdTJ5dUVOWkEgdXNlcj1VQUZqR1c2eHRDUSBicmFuZD1bQVJDSElWRURdIEZvcnQgV2F5bmUgQ29tbXVuaXR5IFNjaG9vbHMgdGVtcGxhdGU9PC94bXA6Q3JlYXRvclRvb2w+CiA8L3JkZjpEZXNjcmlwdGlvbj4KPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KPD94cGFja2V0IGVuZD0ncic/Puza03IAAANVSURBVHic7dw/aBNRAMfxX/+AdrDkFAcX5QIqLi7BMRW5JSIOiruoxE6CQxE8cHE4HCsiFOPg5ORkHeJwFHKjZqiI6HIHBd3snX/Aoi11aBwEW5Lz3rvfld9nbF7z3vG9cJeXkDEIlbGyFyB/UxAyCkJGQcgoCBkFIaMgZBSEjIKQURAyCkJGQcgoCBkFIaMgZBSEjIKQURAyCkJGQcgoCBkFIaMgZHZFENfzJwEgCYP1stfyvyobpOY2p+uef9upz1wGcGjw509p3HsSh8G9LIm+lbm+vCoZpOY29zba3S6A09sMWep3WueyJPphc11FGC97AXk02t0H2D4GAJxptLvzttZTpMoFcT3/AIArQwy9WnOb+0yvp2iVCwLgBICJIcZNOvXmSdOLKVoVg4xy1usVYsEoNyKVu2mpYpBdTUHIKAgZBSGjIGQUhIyCkFEQMgpCRkHIKAgZBSEzaXtC1/OnARwHsB85Nv8ct9kYaaznb446B4BNAKsAPiRh8DXH/+dmbTe05jb3NNrd+wCuoYQTIad1AI/6ndbNLIl+2ZjQSpCa25xotLuLAM7amM+AxX6ndSFLog3TE1m5htQ9/waqGwMAzg+OwTgrQZz6zKyNeUyydQzGg7ieP4ati3jVHRsci1G2bnsr91HqP1g5BuNBkjDYBPDe9DwWLA+OxSgrr5A07j22MY9JadxbsDGPlSBxGMwDeGFjLkOex2Fg5aSyEiRLoo1+p3UJQAeA8Xv5Aq2mce9Wv9O6aOM9CFDCxbaArZNTTn3m7jBj07h3J02i16POga2tk89pHC3beof+h/UtjMHe0KvcT+D54059ZqihaRL1kzDo5p6rBNrtJaMgZBSEjIKQURAyCkJGQcgoCBkFIaMgZBSEjIKQURAyVQySjTDW6rcOi1C5IGkcvQHwc4ihGwDeGl5O4SoXJEui79j65HFHadxbSMLgi4UlFapyQQCg32nNAXi5w5ClOAzmbK2nSMP8iAudtWxlPY2jp1PO4ZUp58hRAAcHD31M497Dd89mr2dJtFbmGvPaDV9g00/8iTkKQkZByCgIGQUhoyBkFISMgpBREDIKQkZByCgIGQUhoyBkFISMgpBREDIKQkZByCgIGQUhoyBkFISMgpD5DYoct+vaJyOJAAAAAElFTkSuQmCC";function k({area:a,onClick:t}){return e.jsx("div",{className:"area-tile",onClick:()=>t(a.id),children:e.jsxs("div",{className:"area-tile-content",children:[e.jsx("img",{src:a.previewImage,alt:"",className:"area-preview-img"}),e.jsx("h3",{children:a.name})]})})}function J({dialogRef:a,closeDialog:t,createDesign:g,areas:o}){const[c,A]=d.useState(""),[m,r]=d.useState(!1),[l,s]=d.useState(null);async function n(){if(c.trim()===""){alert("Design name cannot be empty");return}if(!l){alert("Please select an area");return}r(!0);const i=new C({id:(Math.random()*1e6).toString(),name:c,areaId:l.id,sections:l.sections,previewImage:l.previewImage});await g(i),r(!1),A("")}return e.jsxs("dialog",{ref:a,className:"create-design-dialog",children:[e.jsxs("div",{className:"create-design-dialog-div",children:[e.jsx("h2",{children:"Create Design"}),e.jsxs("div",{className:"create-design-row",children:[e.jsx("label",{htmlFor:"design-name",children:"Name:"}),e.jsx("input",{type:"text",id:"design-name",name:"design-name",onChange:i=>A(i.target.value??""),value:c})]}),e.jsxs("div",{className:"create-design-row",children:[e.jsx("label",{htmlFor:"design-area",children:"Area:"}),e.jsxs("select",{id:"design-area",name:"design-area",onChange:i=>{const j=i.target.value,p=o.find(I=>I.id===j)||null;s(p)},value:l?.id||"",children:[e.jsx("option",{value:"",children:"Select an area"}),o.map(i=>e.jsx("option",{value:i.id,children:i.name},i.id))]})]}),e.jsx("button",{className:"action-btn",onClick:n,children:"Create"}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("button",{className:"action-btn",onClick:t,children:"Close"})]}),m&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"loader"})})]})}const x="/LayItOut/assets/link-BVSoR-un.png",B="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAE02lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogIDxBdHRyaWI6QWRzPgogICA8cmRmOlNlcT4KICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDI1LTA4LTA5PC9BdHRyaWI6Q3JlYXRlZD4KICAgICA8QXR0cmliOkV4dElkPjk3MzQ3MmQ1LTIwZmEtNDU4ZC04MGNkLWVhNjYzMWY1MjU1ODwvQXR0cmliOkV4dElkPgogICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICA8L3JkZjpsaT4KICAgPC9yZGY6U2VxPgogIDwvQXR0cmliOkFkcz4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6ZGM9J2h0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvJz4KICA8ZGM6dGl0bGU+CiAgIDxyZGY6QWx0PgogICAgPHJkZjpsaSB4bWw6bGFuZz0neC1kZWZhdWx0Jz5hZGQtaXRlbSAtIDY8L3JkZjpsaT4KICAgPC9yZGY6QWx0PgogIDwvZGM6dGl0bGU+CiA8L3JkZjpEZXNjcmlwdGlvbj4KCiA8cmRmOkRlc2NyaXB0aW9uIHJkZjph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";function N({design:a,areaName:t,onClick:g,deleteDesign:o}){return e.jsxs("div",{className:"design-tile",onClick:()=>g(a.id),children:[e.jsx("img",{src:a.previewImage,alt:"",className:"design-preview-img"}),e.jsxs("div",{className:"design-info",children:[e.jsx("h3",{children:a.name}),e.jsxs("p",{className:"design-area-name",children:["Area: ",t]}),e.jsxs("div",{className:"design-actions",children:[e.jsx("img",{src:x,alt:"",className:"design-link",onClick:async c=>{c.stopPropagation();const A=localStorage.getItem("companyId"),m=window.location.origin+`/LayItOut/Layout/?companyId=${A}&areaId=${a.areaId}&type=client-edit-design&designId=${a.id}&designName=${a.name}`;await navigator.clipboard.writeText(m),alert("Design link copied to clipboard!")}}),e.jsx("img",{src:B,alt:"",className:"design-trash",onClick:async c=>{c.stopPropagation(),window.confirm("By clicking OK, you will delete this design. Are you sure?")&&o(a.id)}})]})]})]})}G.createRoot(document.getElementById("root")).render(e.jsx(D,{}));function D(){const[a,t]=d.useState("designs"),[g,o]=d.useState([]),[c,A]=d.useState([]),[m,r]=d.useState(!0),l=d.useRef(null);return d.useEffect(()=>{y();async function s(){const n=localStorage.getItem("companyId"),i=await b(n),j=[];(await Promise.all(i.map(I=>h(n,I.id)))).forEach(I=>{j.push(...I)}),A([...i]),o([...j]),r(!1)}s()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"App",children:[e.jsx("h1",{className:"title",children:"LayItOut"}),m&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"loader-backdrop"}),e.jsx("div",{className:"loader"})]}),e.jsxs("div",{className:"dashboard",children:[e.jsxs("div",{className:"sidebar",children:[e.jsx("div",{className:"account-div",children:e.jsx("img",{src:Z,alt:"Account Icon",className:"account-icon"})}),e.jsxs("div",{className:"nav-buttons",children:[e.jsx("button",{className:`nav-button ${a=="designs"?"selected":""}`,onClick:()=>t("designs"),children:"Designs"}),e.jsx("button",{className:`nav-button ${a=="areas"?"selected":""}`,onClick:()=>t("areas"),children:"Areas"})]})]}),e.jsxs("div",{className:"content",children:[a=="designs"&&g.length==0&&e.jsx("div",{className:"no-designs",children:e.jsx("h3",{children:"No Designs Yet"})}),a=="areas"&&c.length==0&&e.jsx("div",{className:"no-areas",children:e.jsx("h3",{children:"No Areas Yet"})}),a=="areas"&&e.jsx("div",{className:"area-tiles",children:c.map(s=>e.jsx(k,{area:s,onClick:()=>{const n=localStorage.getItem("companyId");window.location.href=`/LayItOut/Layout/?companyId=${n}&areaId=${s.id}&type=view-area`}},s.id))}),a=="designs"&&e.jsx("div",{className:"design-tiles",children:g.map(s=>e.jsx(N,{areaName:c.find(n=>n.id==s.areaId)?.name||"",design:s,onClick:()=>{const n=localStorage.getItem("companyId");window.location.href=`/LayItOut/Layout/?companyId=${n}&areaId=${s.areaId}&type=view-design&designId=${s.id}&designName=${s.name}`},deleteDesign:async()=>{o(g.filter(n=>n.id!==s.id)),r(!0),await u(localStorage.getItem("companyId"),s.areaId,s.id),r(!1)}},s.id))}),e.jsx("div",{className:"plus-icon",onClick:()=>{a=="designs"&&l.current?.showModal()},children:e.jsx("img",{src:R,alt:"Plus Icon"})})]})]})]}),e.jsx(J,{areas:c,dialogRef:l,closeDialog:()=>l.current?.close(),createDesign:async s=>{o([...g,s]),await v(localStorage.getItem("companyId"),s.areaId,s),l.current?.close()}})]})}
