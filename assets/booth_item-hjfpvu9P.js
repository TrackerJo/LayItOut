import{j as n,r as l}from"./index-BNCXs9B3.js";import{H as N,I as ue}from"./firestore-DnikGjYO.js";function Ee({id:t,mouseOver:u,canPlaceItem:e,hasItem:v,mouseOverLocation:I,inSection:F,section:d,size:C}){return n.jsx("div",{className:`cell ${u?"hovered":""} ${e?"legal":"illegal"} ${v?"hasItem":""} ${I} ${F?"":"outside"}`,id:`${d==null?"":d.split(" ").join("")}${t.toId()}`,style:{width:`${C}px`,height:`${C}px`},children:n.jsx("div",{className:"cell cell-border",id:`${d==null?"":d.split(" ").join("")}${t.toId()}`})})}function Le({width:t,height:u,cells:e,id:v,visibile:I,section:F}){return n.jsx("div",{className:`area ${I??!0?"":"invisible"}`,style:{width:`${t}px`,height:`${u}px`},id:v!=null?v.split(" ").join("-"):"",children:e.map(d=>n.jsx(Ee,{size:d.size,id:d.id,canPlaceItem:d.canPlaceItem,mouseOver:d.mouseOver,hasItem:d.hasItem,itemId:d.itemId,mouseOverLocation:d.mouseOverLocation,inSection:d.inSection,section:F}))})}const q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAADwAAAADW5XGhAAABRUlEQVQoFY2Tz0oDMRDGv4lgPXkUPAiCvfUBbD3VLoJoBUuPPoI+jlffQIqiUC9tb/45+QIF7bXFB9jDZjrZNptN090a2M0km++XyZdZ4rPGH4AdaN2mwddI4tLGtdo29nd7ILqExq2S1w1AW1DqlaPj0zK1Jwb3MZk+kBFw1DiHoieJkqJMAvHPrEPjcZwCNkGKxEaXAYogZeIAEELQlS3uUsPMmZdpm3W2eRnYSecJKou59WLzTVmR109mIzC+3Zy+N4a5sYsCAFerFRzuyT2jLpBPWRqD1aPUS+RkLvIAOfGFXGkfv9MmNF+LB0pgL9w6aTnpIso8CMQ5wzJPmDU0tWn4PrSgFLDpqsziDGKKLaErC6H/iO1uHmT575CY05N66qRnzqVtRau9D6GmMedInud1RbIqNmMafLwh0bIhxSB9MAfmu9CGVRsdYgAAAABJRU5ErkJggg==",pe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGaADAAQAAAABAAAAGQAAAABY85deAAABrUlEQVRIDe1VPUsDQRB9ezk0GO0FwVhFBQtDWot09oqFCGopgp1ILoWNEEHRRmy0EmwEK7XxB1gIfjQWdmlFLEQRDcaM7y4f3O4lmJw2QhYuu29m3szeu2ECmGtZYsjKAVZk0HSFxVaAqNBL2ywiuIYjcwF/CIMqc0QhgwkoTBEnuCd9udaQU6s+3PKRbyIWsjhi4n2y83wOfVnyKOLEh0MdLb7BIgRpfCKFdeWghGMvk7DwK0axoa5CZdZIWbml9hnDNqLhXwKb/CFKdanlyak7D89LFB0INocWTLCHD0CVTHMVu0Wi1P29avD2jEyz8DYft9N+Xg4KUHJGeWewowomweb3uOddn2qOtNheEyg80rZJ/1fN1/iQoGsS3Tjn7jaQtmx+7GHNkkIfi8Ro22Xrbmm+RmBJOtHjSsb2r7OCeltwJXRXsbw18ftQi61yNVKwiOb+G9Au0pKObbn+g1w2XrxrlhBv+rpx9Fdiy1yDWPlnNKyO3HC0JDm33uhpOF19rC7GRxg/xjF14bN7x7pjgJ5xpl7g4BwgMWKSAljwzCKn9QoEYtuGnxT4Bng+WDuZ4k7PAAAAAElFTkSuQmCC";function Te({isCreatingArea:t,isCreatingTemplate:u,item:e,canPlaceItem:v,placeItem:I,deleteItem:F,deleteItemRotate:d,isSelected:C,onSelect:f,onDeselect:K,isUnselecting:W,highlightCells:X,unHighlightCells:k,visible:J,removeItem:p,isViewingDesign:y,cellSize:a,isPlacingItem:m}){const[h,L]=l.useState(0),[Q,T]=l.useState(0),O=l.useRef(null),[Y,G]=l.useState(0),[S,P]=l.useState(0),[$,x]=l.useState(!1),[w,ie]=l.useState(0),[E,V]=l.useState(null),[z,ce]=l.useState(!0),[o,U]=l.useState(12),H=l.useRef(null),[D,re]=l.useState(!0),[ve,ae]=l.useState(!1);l.useEffect(()=>(window.addEventListener("mousedown",()=>ae(!0)),window.addEventListener("mouseup",()=>ae(!1)),()=>{window.removeEventListener("mousedown",()=>ae(!0)),window.removeEventListener("mouseup",()=>ae(!1))}),[]);const _=s=>{const r=s%2===1;return{width:r?e.cellsTall*a:e.cellsLong*a,height:r?e.cellsLong*a:e.cellsTall*a,cellsWide:r?e.cellsTall:e.cellsLong,cellsTall:r?e.cellsLong:e.cellsTall}},ee=s=>{const r=e.cellsLong*a,c=e.cellsTall*a;switch(s%4){case 0:return{x:0,y:0};case 1:return{x:(c-r)/2,y:(r-c)/2};case 2:return{x:0,y:0};case 3:return{x:(c-r)/2,y:(r-c)/2};default:return{x:0,y:0}}},Ae=()=>{const s=w+1,r=_(s),c=ue.fromDoc(e.toDoc());c.cellsLong=r.cellsWide,c.cellsTall=r.cellsTall,c.initialElement=e.initialElement,c.rotation=s,c.hasMoved=e.hasMoved;let i=E;if(console.log("Trying to rotate item with id",e.id),!e.hasMoved&&e.rotation!=0||i&&v(N.fromString(i.id),c)){i==null&&(i=e.initialElement),console.log("ROTATE ITEM",e.id,"to rotation:",s,"at cell:",i?.id),ie(s),d(e,N.fromString(i.id)),e.rotation=s;const M=ee(s),A=i.offsetLeft,j=i.offsetTop;L(A+M.x),T(j+M.y),G(A+M.x),P(j+M.y)}};function xe(s){const r=O.current,c=window.getComputedStyle(r),i=document.createElement("span");i.style.font=c.font,i.style.fontSize=s+"px",i.style.fontFamily=c.fontFamily,i.style.fontWeight=c.fontWeight,i.style.position="absolute",i.style.visibility="hidden",i.style.whiteSpace="nowrap",i.textContent=r.textContent,document.body.appendChild(i);const M=i.offsetWidth;return document.body.removeChild(i),M}function fe(s){if(O.current){const r=O.current;return xe(s-1)>r.offsetWidth&&s-1>8?fe(s-1):s-1}return s}l.useEffect(()=>{setTimeout(()=>{O.current&&U(fe(o)),e.isDisplayItem&&!e.hasMoved&&x(!0)},100)},[]),l.useEffect(()=>{e.initialElement!=null&&(e.rotation&&setTimeout(()=>{for(let s=0;s<e.rotation;s++)ie(r=>{const c=(r+1)%4,i=ee(c),M=e.initialElement.offsetLeft,A=e.initialElement.offsetTop;return L(M+i.x),T(A+i.y),G(M+i.x),P(A+i.y),c})},100),e.initialElement&&(e.initialElement.classList.contains("cell")&&V(e.initialElement.children[0]),L(e.initialElement.offsetLeft),T(e.initialElement.offsetTop),G(e.initialElement.offsetLeft),P(e.initialElement.offsetTop)))},[e]);const de=()=>{if($)return;if(E==null){L(e.initialElement.offsetLeft),G(e.initialElement.offsetLeft),T(e.initialElement.offsetTop),P(e.initialElement.offsetTop);return}const s=E.offsetTop,r=E.offsetLeft,c=ee(w);L(r+c.x),T(s+c.y),G(r+c.x),P(s+c.y)};l.useEffect(()=>(window.addEventListener("resize",de),()=>{window.removeEventListener("resize",de)}),[E,w,$]);const te=s=>{s.preventDefault()};l.useEffect(()=>{if($){G(h),P(Q),document.body.addEventListener("touchmove",te,{passive:!1});const s=document.getElementById(e.id)?.getBoundingClientRect(),r=s?s.left-h:0,c=s?s.top-Q:0;C&&K();const i=(A,j,g)=>{const b=_(w),R=ue.fromDoc(e.toDoc());R.cellsLong=b.cellsWide,R.cellsTall=b.cellsTall,R.initialElement=e.initialElement,R.rotation=w,R.hasMoved=e.hasMoved,R.id=e.id;let B=g;if(!B||!B.classList?.contains("cell")){const Z=document.elementFromPoint(A,j);Z?.classList?.contains("cell")&&(B=Z)}B?.classList?.contains("cell")?X(N.fromString(B.id),R):B?.classList?.contains("section-modifier")?X(N.fromString(B.dataset.cell),R):k(),L(A-r),T(j-c+5)},M=(A,j)=>{k(),document.body.removeEventListener("touchmove",te);const g=document.elementFromPoint(A,j);if(E!==null&&g?.dataset.cell===E.id){L(Y),T(S),x(!1);return}if(!g?.classList?.contains("cell")&&!g?.classList?.contains("section-modifier")){if(e.isDisplayItem&&!e.hasMoved){p(e),x(!1);return}x(!1),L(Y),T(S)}else if(g?.classList?.contains("section-modifier")){if(g.dataset.cell==""){if(console.warn("Section modifier cell data is null, cannot place item"),e.isDisplayItem&&!e.hasMoved){p(e),x(!1);return}x(!1),L(Y),T(S);return}const b=_(w),R={...e,cellsLong:b.cellsWide,cellsTall:b.cellsTall};if(!v(N.fromString(g.dataset.cell),R)){if(e.isDisplayItem&&!e.hasMoved){p(e);return}L(Y),T(S),x(!1);return}const B=g.offsetTop,Z=g.offsetLeft,se=ee(w),le=Z+se.x,oe=B+se.y;L(le),T(oe),G(le),P(oe),x(!1),I(N.fromString(g.dataset.cell),R,E!=null?N.fromString(E.id):null),V(document.getElementById(g.dataset.cell))}else{const b=_(w),R={...e,cellsLong:b.cellsWide,cellsTall:b.cellsTall};if(!v(N.fromString(g.id),R)){if(e.isDisplayItem&&!e.hasMoved){p(e);return}L(Y),T(S),x(!1);return}const B=g.offsetTop,Z=g.offsetLeft,se=ee(w),le=Z+se.x,oe=B+se.y;L(le),T(oe),G(le),P(oe),I(N.fromString(g.id),R,E!=null?N.fromString(E.id):null),V(g),x(!1)}x(!1)};return document.onmousemove=A=>{A.preventDefault(),i(A.clientX,A.clientY,A.target)},document.onmouseup=A=>{M(A.clientX,A.clientY),document.onmousemove=null,document.onmouseup=null,document.ontouchmove=null,document.ontouchend=null},document.ontouchmove=A=>{A.preventDefault();const j=A.touches[0];i(j.clientX,j.clientY,A.target)},document.ontouchend=A=>{const j=A.changedTouches[0];M(j.clientX,j.clientY),document.removeEventListener("touchmove",te),document.onmousemove=null,document.onmouseup=null,document.ontouchmove=null,document.ontouchend=null},()=>{document.removeEventListener("touchmove",te)}}else document.onmousemove=null,document.onmouseup=null,document.ontouchmove=null,document.ontouchend=null,document.body.removeEventListener("touchmove",te)},[$,E,w]);const ne=_(w);return h==0||Q==0||!D?null:n.jsxs(n.Fragment,{children:[n.jsx("div",{id:e.id,ref:H,className:`draggable-item ${m?"is-placing":""} ${e.isSectionModifier?"section-modifier":""} ${y?"viewing":""} ${e.isSectionModifier&&!e.moveable?"placed-modifier":""} ${e.isSectionModifier?e.sectionModifierType?.toString():""} ${$?"dragging":C?"selected":""} ${e.moveable?"":"not-moveable"} ${J?"":"invisible"}`,"data-cell":E?.id||"",style:{top:`${Q}px`,left:`${h}px`,width:`${e.cellsLong*(e.isDisplayItem&&!$&&!e.hasMoved?10:a)-(C?4:0)-(e.sectionModifierType=="LeftWall"||e.sectionModifierType=="RightWall"||e.sectionModifierType==="LeftWindow"||e.sectionModifierType==="RightWindow",0)}px`,height:`${e.cellsTall*(e.isDisplayItem&&!$&&!e.hasMoved?10:a)-(C?4:0)-(e.sectionModifierType=="TopWall"||e.sectionModifierType=="BottomWall"||e.sectionModifierType==="TopWindow"||e.sectionModifierType==="BottomWindow",0)}px`,rotate:`${w*90}deg`,transformOrigin:"center center",fontSize:`${o}px`},onMouseDown:(e.moveable||t||u)&&!y?()=>x(!0):void 0,onTouchStart:(e.moveable||t||u)&&!y?s=>{s.preventDefault(),x(!0)}:void 0,onClick:s=>{console.log("Clicked on item:",e.id),x(!1),s.stopPropagation(),!(!e.moveable&&!t&&!u||y)&&(C?K():f(e.id))},children:e.isSectionModifier?e.sectionModifierType==="LeftDoor"||e.sectionModifierType==="RightDoor"?n.jsx("img",{src:e.icon,alt:"icon"}):null:e.icon.includes("custom-")?n.jsx("div",{className:e.isSectionItem?"custom-section":"custom-icon",children:n.jsx("div",{children:n.jsx("p",{ref:O,children:e.icon.split("custom-")[1]})})}):n.jsx("img",{src:e.icon,alt:"icon"})}),(C||W)&&n.jsx(n.Fragment,{children:/Mobi|Android/i.test(navigator.userAgent)?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`draggable-item-options mobile-left ${W?"exiting":""}`,style:{top:`${Q+e.cellsTall*a/2-10}px`,left:`${h+e.cellsLong*a/2-ne.width/2-20}px`,width:"10px"},children:n.jsx("img",{src:pe,alt:"rotate",className:"rotate-icon"+(z?" can-rotate":" cannot-rotate"),onClick:s=>{s.stopPropagation(),Ae()}})}),n.jsx("div",{className:`draggable-item-options mobile-right ${W?"exiting":""}`,style:{top:`${Q+e.cellsTall*a/2-10}px`,left:`${h+e.cellsLong*a/2+ne.width/2+10}px`,width:"10px"},children:n.jsx("img",{src:q,alt:"delete",className:"delete-icon",onClick:s=>{s.stopPropagation(),F(e,N.fromString(E?.id||""))}})})]}):n.jsxs("div",{className:`draggable-item-options ${W?"exiting":""}`,style:{top:`${Q+e.cellsTall*a/2-ne.height/2-20}px`,left:`${h+e.cellsLong*a/2-ne.width/2}px`,width:`${ne.width}px`},children:[(!e.isSectionModifier||e.sectionModifierType==="LeftDoor"||e.sectionModifierType==="RightDoor")&&n.jsx("img",{src:pe,alt:"rotate",className:"rotate-icon"+(z?" can-rotate":" cannot-rotate"),onClick:s=>{s.stopPropagation(),Ae()}}),n.jsx("img",{src:q,alt:"delete",className:"delete-icon",onClick:s=>{s.stopPropagation(),F(e,N.fromString(E?.id||""))}})]})})]})}function we({section:t,visible:u,cellSize:e,takingPhoto:v}){const[I,F]=l.useState(t.cellElement?.offsetLeft??0),[d,C]=l.useState(t.cellElement?.offsetTop??0),f=l.useRef(null),[K,W]=l.useState(16);function X(p){const y=f.current,a=window.getComputedStyle(y),m=document.createElement("span");m.style.font=a.font,m.style.fontSize=p+"px",m.style.fontFamily=a.fontFamily,m.style.fontWeight=a.fontWeight,m.style.position="absolute",m.style.visibility="hidden",m.style.whiteSpace="no-wrap",m.textContent=y.textContent,document.body.appendChild(m);const h=m.offsetWidth;return document.body.removeChild(m),h}function k(p){if(f.current){const y=f.current,a=X(p-1);return console.log("Current text width:",a),console.log("Paragraph width:",y.offsetWidth),a>y.offsetWidth&&K>6?(console.log("Decreasing font size to:",p-1),k(p-1)):p-1}return p}l.useEffect(()=>{setTimeout(()=>{f.current&&W(k(K))},100)},[]),l.useEffect(()=>{v?f.current&&W(k(48)):f.current&&W(k(16))},[v]);const J=()=>{t.cellElement!=null&&(F(t.cellElement.offsetLeft),C(t.cellElement.offsetTop))};return l.useEffect(()=>(window.addEventListener("resize",J),()=>{window.removeEventListener("resize",J)}),[t.cellElement]),t.cellElement&&n.jsx("div",{className:`section ${u??!0?"":"invisible"}`,style:{top:`${t.cellElement.offsetTop}px`,left:`${t.cellElement.offsetLeft}px`,width:`${t.cellsLong*e-2}px`,height:`${t.cellsTall*e-2}px`},children:n.jsx("h2",{className:"section-title",style:{fontSize:`${K}px`},ref:f,children:t.name})})}const me="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEaADAAQAAAABAAAAEQAAAACOk5MBAAAB2klEQVQ4EaVSPUgcURCeeRvvciqoCRg7RQt/1uCd2gTEJoq6WlskjT+gKFoIAbUQuygWpgoGQYR0IbGwuENJygs2eqeEzdNGEAStlEMQOb03zvNYecoV3vmK3W/nm+/j25mH8IwTlM6sUHBq5erR4Dq9FuJXAgxgLiaV221Fxfm+fUIsBUi1iFxMivJ984BYhkRL8dqNrRfZmoRk5zvWDBPQ8eVZYlrrs0uy3ZSHZC0jxyAFYwctfy+0SVZJggVvPrGmnlOs7dqRdW2gz5OT1P/rqhKAMwCUuKLUeFqefoqQdKYaXaffLGbCeRYucT0ACiZl3eaJ2aOTTJCAlQbp9JiEiYNu10dEbAeCaMyOLJucxoIHNJQG+D0Y76zQ2Dy22/EKBS4SQRJSd71k8hoLPSCe9hwilOBL8dN2bZ/Z5ENrgflSQvocexuWJufhu8HGfoRniOg3Nzf7sfyLR4b+O62AMMCcvFZHc1798fv+2tfI968D5N/hfy/nFX5IqqM1v6jYY1ytlGrdszeij8Xe972JLjTK7iZeYZQIb/g6/QLAPk7xLV4XGfEEmd4P7kmsNrzDKxzl+RRqAyA6SVwmpzIJzdoDE03wClcV0QJv45xTDB42/0mYgkz4FmD8ocR4cNFcAAAAAElFTkSuQmCC",ge="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAbCAYAAACAyoQSAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAHaADAAQAAAABAAAAGwAAAABRO+PxAAADjklEQVRIDe2Vb2hURxDAZ3bv3t1p8UhoSQSloTFBTCOogRDUmORQUGrVD1JRET8I+kFFEZqLCnlgL15B8YNo44dWBNHSoAW/FU3uUEtApUVQUBvx0BqM2tpUk/v33o6zF197DZfrOwgI4sCxu7Oz89uZm50H8F7etQxgqQEt6co2SUFfAEI5Krxpp199GzfL/irFT0nQ1mg6IlDsJQCG0BAA1iLBE9tWy+L7fLfcgoVbw1BXerUGAtF3D39PVPa1G7OJaB5HLKXEcy1mzOPWl2soSbGTnQ6ODg1tHzhak9aAWNi4qRR1AGKt8DctnXQoO6znyC73H5mZzHeeRfvS2FrW5euLzV1HikSjHNG08c4EiOCYjkbG7020dg0FghhXXajtQKo635kXcZtec5pj+fpic9fVu6grVeuT8hcupIcK7R2YwQQYciM77+RKPs2FtakYKH/PdaRX9/rvgWWt5BQHBXguoSEH+MYmAp1JPhnamu/0/+auI3Uczdrxm+/jGTObbYXlFtGvucs4my7HkqAt5gM/+Gc0CFLTuTFMJVTPiOBuvMM/4JKXM3MFbe3KNKLAdj6xHBH84wH8lBLs6JCd+vlE3Gy1FkdGpgs0qhDtZ4UuVBRaZ942Knw1hxm4nUGDpNRJrtO+DGAClZ1E6flQIM7nZ7Mwa6U7DfSUgRDHuEu1OBfjC90hULtiYf9Pjm5i6NofZFvDmvPcWz9ToL56mhqI3DbrMs7B8WMokp4LUlxhoPOWL7JNK/88/NwUX3ZDb9j3vT43IbQtmg1zKg/aQJvj7cYpbVxM2qKZG4i4wLFZnPTIKwHrOq/n53QEw6Op0U/6zeCfBZ9M0+5HATb8kr8mPW6AzdF0fT5QQ0wTOTod4RtBCE4JBNboVcEvQ6Cyop5TUMaNoLfR/MNJl3P8P6M1+CApEWq0ks/0KK9nt8xyQlkM27PCkuBVaG1mTYT91Wp9QShkrcfg9Y5wI+j+IDCtWxtOKNVztyiwEwBCk0Iiax3PEQFWZaQV5ovMAsJPuWuBQpH72BeE9u2f8nhRNDnHUHIJin8KoyAXCe//nX5xLRj46CUDyhn4eZ5hM68bNFALWpSrYLabHAkdzO7hYA/96w35/6NveF2pdQR0lvvzej0vWEh6o1Tp7fAe5gR+rbM4dpZ+5HEMSHB+OPl8i+Nz0iJ1HOpKlgDrELCKdU/Rti/07gvEeP525TXTpDp/O3DJWAAAAABJRU5ErkJggg==";function Re({booth:t,isViewingBooth:u,isSelected:e,onDeselect:v,onPickBooth:I,onSelect:F,isUnselecting:d,visible:C,cellSize:f,canPick:K,hasPickedBooth:W,onAddVendorToBooth:X,onRemoveVendorFromBooth:k,isPublicViewingBooth:J=!1}){const[p,y]=l.useState(0),[a,m]=l.useState(0),h=l.useRef(null),[L,Q]=l.useState(0),[T,O]=l.useState(0),[Y,G]=l.useState(!1),[S,P]=l.useState(null),[$,x]=l.useState(12),w=l.useRef(null),[ie,E]=l.useState(!0);function V(o){const U=h.current,H=window.getComputedStyle(U),D=document.createElement("span");D.style.font=H.font,D.style.fontSize=o+"px",D.style.fontFamily=H.fontFamily,D.style.fontWeight=H.fontWeight,D.style.position="absolute",D.style.visibility="hidden",D.style.whiteSpace="nowrap",D.textContent=U.textContent,document.body.appendChild(D);const re=D.offsetWidth;return document.body.removeChild(D),re}function z(o){if(h.current){const U=h.current;return V(o-1)>U.offsetWidth&&o-1>8?z(o-1):o-1}return o}l.useEffect(()=>{setTimeout(()=>{h.current&&x(z($))},100)},[]),l.useEffect(()=>{t.initialElement.classList.contains("cell")&&(console.log("Setting cell to initial element:",t.initialElement.children[0]),P(t.initialElement.children[0])),y(t.initialElement.offsetLeft),m(t.initialElement.offsetTop),Q(t.initialElement.offsetLeft),O(t.initialElement.offsetTop)},[t]);const ce=()=>{if(Y)return;if(S==null){y(t.initialElement.offsetLeft),Q(t.initialElement.offsetLeft),m(t.initialElement.offsetTop),O(t.initialElement.offsetTop);return}const o=S.offsetTop,U=S.offsetLeft;y(U),m(o),Q(U),O(o)};return l.useEffect(()=>(window.addEventListener("resize",ce),()=>{window.removeEventListener("resize",ce)}),[S,Y]),p==0||a==0||!ie?null:n.jsxs(n.Fragment,{children:[n.jsx("div",{id:t.id,ref:w,className:`booth draggable-item ${W?"viewing":""} ${Y?"dragging":e?"selected":""} ${t.user!=null&&!u?"no-select":""} ${J?"viewing":""} ${C?"":"invisible"} ${!K&&!J?"cannot-pick":""}`,style:{top:`${a}px`,left:`${p}px`,width:`${t.cellsLong*f-(e?4:0)}px`,height:`${t.cellsTall*f-(e?4:0)}px`,transformOrigin:"center center",fontSize:`${$}px`},onClick:o=>{o.stopPropagation(),!W&&(t.user!=null&&!u||K&&(e?v():F(t.id)))},children:n.jsx("div",{className:"custom-icon",children:n.jsxs("div",{className:"booth-inner",children:[n.jsx("p",{children:t.name}),n.jsxs("p",{className:"booth-sizing",children:[t.cellsLong,"ft x ",t.cellsTall,"ft"]}),n.jsx("p",{ref:h,children:t.user==null?"Open ":t.user.businessName})]})})}),(e||d)&&n.jsx(n.Fragment,{children:/Mobi|Android/i.test(navigator.userAgent)?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`draggable-item-options mobile-left ${d?"exiting":""}`,style:{top:`${a+t.cellsTall*f/2-10}px`,left:`${p+t.cellsLong*f/2-t.cellsLong/2-20}px`,width:"10px"},children:u?n.jsx("img",{src:ge,alt:"Person Add",className:"person-icon",onClick:o=>{o.stopPropagation(),X(t.id)}}):n.jsx("img",{src:me,alt:"pick",className:"pick-icon",onClick:o=>{o.stopPropagation(),I(t.id)}})}),n.jsx("div",{className:`draggable-item-options mobile-right ${d?"exiting":""}`,style:{top:`${a+t.cellsTall*f/2-10}px`,left:`${p+t.cellsLong*f/2+t.cellsLong*f/2+10}px`,width:"10px"},children:u&&t.user!=null?n.jsx("img",{src:q,alt:"delete",className:"delete-icon",onClick:o=>{o.stopPropagation(),k(t.id)}}):u?n.jsx(n.Fragment,{}):n.jsx(n.Fragment,{children:n.jsx("img",{src:q,alt:"delete",className:"delete-icon",onClick:o=>{o.stopPropagation(),v()}})})})]}):n.jsxs("div",{className:`draggable-item-options ${d?"exiting":""}`,style:{top:`${a+t.cellsTall*f/2-t.cellsTall*f/2-20}px`,left:`${p+t.cellsLong*f/2-t.cellsLong*f/2}px`,width:`${t.cellsLong*f}px`},children:[u&&t.user==null?n.jsx("img",{src:ge,alt:"Person Add",className:"person-icon",onClick:o=>{o.stopPropagation(),X(t.id)}}):u&&t.user!=null?n.jsx(n.Fragment,{}):n.jsx("img",{src:me,alt:"pick",className:"pick-icon",onClick:o=>{o.stopPropagation(),I(t.id)}}),u&&t.user!=null?n.jsx("img",{src:q,alt:"delete",className:"delete-icon",onClick:o=>{o.stopPropagation(),k(t.id)}}):u?n.jsx(n.Fragment,{}):n.jsx(n.Fragment,{children:n.jsx("img",{src:q,alt:"delete",className:"delete-icon",onClick:o=>{o.stopPropagation(),v()}})})]})})]})}export{Le as A,Re as B,Te as D,we as S};
