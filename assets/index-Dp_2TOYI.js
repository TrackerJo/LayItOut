(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Cf={exports:{}},Gr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function xT(){if(iy)return Gr;iy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(l,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:a,type:l,key:d,ref:o!==void 0?o:null,props:h}}return Gr.Fragment=e,Gr.jsx=i,Gr.jsxs=i,Gr}var sy;function VT(){return sy||(sy=1,Cf.exports=xT()),Cf.exports}var et=VT(),xf={exports:{}},jt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function NT(){if(ay)return jt;ay=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),D=Symbol.iterator;function V(C){return C===null||typeof C!="object"?null:(C=D&&C[D]||C["@@iterator"],typeof C=="function"?C:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,tt={};function H(C,J,dt){this.props=C,this.context=J,this.refs=tt,this.updater=dt||k}H.prototype.isReactComponent={},H.prototype.setState=function(C,J){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,J,"setState")},H.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function lt(){}lt.prototype=H.prototype;function ot(C,J,dt){this.props=C,this.context=J,this.refs=tt,this.updater=dt||k}var ct=ot.prototype=new lt;ct.constructor=ot,K(ct,H.prototype),ct.isPureReactComponent=!0;var Vt=Array.isArray,vt={H:null,A:null,T:null,S:null,V:null},Tt=Object.prototype.hasOwnProperty;function x(C,J,dt,st,St,Ut){return dt=Ut.ref,{$$typeof:a,type:C,key:J,ref:dt!==void 0?dt:null,props:Ut}}function A(C,J){return x(C.type,J,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function b(C){var J={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(dt){return J[dt]})}var N=/\/+/g;function M(C,J){return typeof C=="object"&&C!==null&&C.key!=null?b(""+C.key):J.toString(36)}function I(){}function Se(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(I,I):(C.status="pending",C.then(function(J){C.status==="pending"&&(C.status="fulfilled",C.value=J)},function(J){C.status==="pending"&&(C.status="rejected",C.reason=J)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ye(C,J,dt,st,St){var Ut=typeof C;(Ut==="undefined"||Ut==="boolean")&&(C=null);var It=!1;if(C===null)It=!0;else switch(Ut){case"bigint":case"string":case"number":It=!0;break;case"object":switch(C.$$typeof){case a:case e:It=!0;break;case S:return It=C._init,ye(It(C._payload),J,dt,st,St)}}if(It)return St=St(C),It=st===""?"."+M(C,0):st,Vt(St)?(dt="",It!=null&&(dt=It.replace(N,"$&/")+"/"),ye(St,J,dt,"",function(bt){return bt})):St!=null&&(w(St)&&(St=A(St,dt+(St.key==null||C&&C.key===St.key?"":(""+St.key).replace(N,"$&/")+"/")+It)),J.push(St)),1;It=0;var _e=st===""?".":st+":";if(Vt(C))for(var le=0;le<C.length;le++)st=C[le],Ut=_e+M(st,le),It+=ye(st,J,dt,Ut,St);else if(le=V(C),typeof le=="function")for(C=le.call(C),le=0;!(st=C.next()).done;)st=st.value,Ut=_e+M(st,le++),It+=ye(st,J,dt,Ut,St);else if(Ut==="object"){if(typeof C.then=="function")return ye(Se(C),J,dt,st,St);throw J=String(C),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return It}function Q(C,J,dt){if(C==null)return C;var st=[],St=0;return ye(C,st,"","",function(Ut){return J.call(dt,Ut,St++)}),st}function ut(C){if(C._status===-1){var J=C._result;J=J(),J.then(function(dt){(C._status===0||C._status===-1)&&(C._status=1,C._result=dt)},function(dt){(C._status===0||C._status===-1)&&(C._status=2,C._result=dt)}),C._status===-1&&(C._status=0,C._result=J)}if(C._status===1)return C._result.default;throw C._result}var _t=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Dt(){}return jt.Children={map:Q,forEach:function(C,J,dt){Q(C,function(){J.apply(this,arguments)},dt)},count:function(C){var J=0;return Q(C,function(){J++}),J},toArray:function(C){return Q(C,function(J){return J})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},jt.Component=H,jt.Fragment=i,jt.Profiler=o,jt.PureComponent=ot,jt.StrictMode=l,jt.Suspense=v,jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,jt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return vt.H.useMemoCache(C)}},jt.cache=function(C){return function(){return C.apply(null,arguments)}},jt.cloneElement=function(C,J,dt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var st=K({},C.props),St=C.key,Ut=void 0;if(J!=null)for(It in J.ref!==void 0&&(Ut=void 0),J.key!==void 0&&(St=""+J.key),J)!Tt.call(J,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&J.ref===void 0||(st[It]=J[It]);var It=arguments.length-2;if(It===1)st.children=dt;else if(1<It){for(var _e=Array(It),le=0;le<It;le++)_e[le]=arguments[le+2];st.children=_e}return x(C.type,St,void 0,void 0,Ut,st)},jt.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},jt.createElement=function(C,J,dt){var st,St={},Ut=null;if(J!=null)for(st in J.key!==void 0&&(Ut=""+J.key),J)Tt.call(J,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(St[st]=J[st]);var It=arguments.length-2;if(It===1)St.children=dt;else if(1<It){for(var _e=Array(It),le=0;le<It;le++)_e[le]=arguments[le+2];St.children=_e}if(C&&C.defaultProps)for(st in It=C.defaultProps,It)St[st]===void 0&&(St[st]=It[st]);return x(C,Ut,void 0,void 0,null,St)},jt.createRef=function(){return{current:null}},jt.forwardRef=function(C){return{$$typeof:g,render:C}},jt.isValidElement=w,jt.lazy=function(C){return{$$typeof:S,_payload:{_status:-1,_result:C},_init:ut}},jt.memo=function(C,J){return{$$typeof:_,type:C,compare:J===void 0?null:J}},jt.startTransition=function(C){var J=vt.T,dt={};vt.T=dt;try{var st=C(),St=vt.S;St!==null&&St(dt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Dt,_t)}catch(Ut){_t(Ut)}finally{vt.T=J}},jt.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},jt.use=function(C){return vt.H.use(C)},jt.useActionState=function(C,J,dt){return vt.H.useActionState(C,J,dt)},jt.useCallback=function(C,J){return vt.H.useCallback(C,J)},jt.useContext=function(C){return vt.H.useContext(C)},jt.useDebugValue=function(){},jt.useDeferredValue=function(C,J){return vt.H.useDeferredValue(C,J)},jt.useEffect=function(C,J,dt){var st=vt.H;if(typeof dt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return st.useEffect(C,J)},jt.useId=function(){return vt.H.useId()},jt.useImperativeHandle=function(C,J,dt){return vt.H.useImperativeHandle(C,J,dt)},jt.useInsertionEffect=function(C,J){return vt.H.useInsertionEffect(C,J)},jt.useLayoutEffect=function(C,J){return vt.H.useLayoutEffect(C,J)},jt.useMemo=function(C,J){return vt.H.useMemo(C,J)},jt.useOptimistic=function(C,J){return vt.H.useOptimistic(C,J)},jt.useReducer=function(C,J,dt){return vt.H.useReducer(C,J,dt)},jt.useRef=function(C){return vt.H.useRef(C)},jt.useState=function(C){return vt.H.useState(C)},jt.useSyncExternalStore=function(C,J,dt){return vt.H.useSyncExternalStore(C,J,dt)},jt.useTransition=function(){return vt.H.useTransition()},jt.version="19.1.1",jt}var ly;function hd(){return ly||(ly=1,xf.exports=NT()),xf.exports}var mt=hd(),Vf={exports:{}},Qr={},Nf={exports:{}},Of={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function OT(){return ry||(ry=1,function(a){function e(Q,ut){var _t=Q.length;Q.push(ut);t:for(;0<_t;){var Dt=_t-1>>>1,C=Q[Dt];if(0<o(C,ut))Q[Dt]=ut,Q[_t]=C,_t=Dt;else break t}}function i(Q){return Q.length===0?null:Q[0]}function l(Q){if(Q.length===0)return null;var ut=Q[0],_t=Q.pop();if(_t!==ut){Q[0]=_t;t:for(var Dt=0,C=Q.length,J=C>>>1;Dt<J;){var dt=2*(Dt+1)-1,st=Q[dt],St=dt+1,Ut=Q[St];if(0>o(st,_t))St<C&&0>o(Ut,st)?(Q[Dt]=Ut,Q[St]=_t,Dt=St):(Q[Dt]=st,Q[dt]=_t,Dt=dt);else if(St<C&&0>o(Ut,_t))Q[Dt]=Ut,Q[St]=_t,Dt=St;else break t}}return ut}function o(Q,ut){var _t=Q.sortIndex-ut.sortIndex;return _t!==0?_t:Q.id-ut.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var v=[],_=[],S=1,D=null,V=3,k=!1,K=!1,tt=!1,H=!1,lt=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function Vt(Q){for(var ut=i(_);ut!==null;){if(ut.callback===null)l(_);else if(ut.startTime<=Q)l(_),ut.sortIndex=ut.expirationTime,e(v,ut);else break;ut=i(_)}}function vt(Q){if(tt=!1,Vt(Q),!K)if(i(v)!==null)K=!0,Tt||(Tt=!0,M());else{var ut=i(_);ut!==null&&ye(vt,ut.startTime-Q)}}var Tt=!1,x=-1,A=5,w=-1;function b(){return H?!0:!(a.unstable_now()-w<A)}function N(){if(H=!1,Tt){var Q=a.unstable_now();w=Q;var ut=!0;try{t:{K=!1,tt&&(tt=!1,ot(x),x=-1),k=!0;var _t=V;try{e:{for(Vt(Q),D=i(v);D!==null&&!(D.expirationTime>Q&&b());){var Dt=D.callback;if(typeof Dt=="function"){D.callback=null,V=D.priorityLevel;var C=Dt(D.expirationTime<=Q);if(Q=a.unstable_now(),typeof C=="function"){D.callback=C,Vt(Q),ut=!0;break e}D===i(v)&&l(v),Vt(Q)}else l(v);D=i(v)}if(D!==null)ut=!0;else{var J=i(_);J!==null&&ye(vt,J.startTime-Q),ut=!1}}break t}finally{D=null,V=_t,k=!1}ut=void 0}}finally{ut?M():Tt=!1}}}var M;if(typeof ct=="function")M=function(){ct(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Se=I.port2;I.port1.onmessage=N,M=function(){Se.postMessage(null)}}else M=function(){lt(N,0)};function ye(Q,ut){x=lt(function(){Q(a.unstable_now())},ut)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Q){Q.callback=null},a.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},a.unstable_getCurrentPriorityLevel=function(){return V},a.unstable_next=function(Q){switch(V){case 1:case 2:case 3:var ut=3;break;default:ut=V}var _t=V;V=ut;try{return Q()}finally{V=_t}},a.unstable_requestPaint=function(){H=!0},a.unstable_runWithPriority=function(Q,ut){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var _t=V;V=Q;try{return ut()}finally{V=_t}},a.unstable_scheduleCallback=function(Q,ut,_t){var Dt=a.unstable_now();switch(typeof _t=="object"&&_t!==null?(_t=_t.delay,_t=typeof _t=="number"&&0<_t?Dt+_t:Dt):_t=Dt,Q){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=_t+C,Q={id:S++,callback:ut,priorityLevel:Q,startTime:_t,expirationTime:C,sortIndex:-1},_t>Dt?(Q.sortIndex=_t,e(_,Q),i(v)===null&&Q===i(_)&&(tt?(ot(x),x=-1):tt=!0,ye(vt,_t-Dt))):(Q.sortIndex=C,e(v,Q),K||k||(K=!0,Tt||(Tt=!0,M()))),Q},a.unstable_shouldYield=b,a.unstable_wrapCallback=function(Q){var ut=V;return function(){var _t=V;V=ut;try{return Q.apply(this,arguments)}finally{V=_t}}}}(Of)),Of}var oy;function MT(){return oy||(oy=1,Nf.exports=OT()),Nf.exports}var Mf={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function LT(){if(uy)return An;uy=1;var a=hd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,S){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:D==null?null:""+D,children:v,containerInfo:_,implementation:S}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,An.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,S)},An.flushSync=function(v){var _=d.T,S=l.p;try{if(d.T=null,l.p=2,v)return v()}finally{d.T=_,l.p=S,l.d.f()}},An.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,l.d.C(v,_))},An.prefetchDNS=function(v){typeof v=="string"&&l.d.D(v)},An.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,D=g(S,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,k=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?l.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:D,integrity:V,fetchPriority:k}):S==="script"&&l.d.X(v,{crossOrigin:D,integrity:V,fetchPriority:k,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},An.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=g(_.as,_.crossOrigin);l.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&l.d.M(v)},An.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,D=g(S,_.crossOrigin);l.d.L(v,S,{crossOrigin:D,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},An.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=g(_.as,_.crossOrigin);l.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else l.d.m(v)},An.requestFormReset=function(v){l.d.r(v)},An.unstable_batchedUpdates=function(v,_){return v(_)},An.useFormState=function(v,_,S){return d.H.useFormState(v,_,S)},An.useFormStatus=function(){return d.H.useHostTransitionStatus()},An.version="19.1.1",An}var cy;function UT(){if(cy)return Mf.exports;cy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Mf.exports=LT(),Mf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function zT(){if(hy)return Qr;hy=1;var a=MT(),e=hd(),i=UT();function l(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(l(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(l(188));return n!==t?null:t}for(var s=t,r=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(r=c.return,r!==null){s=r;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return g(c),t;if(f===r)return g(c),n;f=f.sibling}throw Error(l(188))}if(s.return!==r.return)s=c,r=f;else{for(var y=!1,T=c.child;T;){if(T===s){y=!0,s=c,r=f;break}if(T===r){y=!0,r=c,s=f;break}T=T.sibling}if(!y){for(T=f.child;T;){if(T===s){y=!0,s=f,r=c;break}if(T===r){y=!0,r=f,s=c;break}T=T.sibling}if(!y)throw Error(l(189))}}if(s.alternate!==r)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),lt=Symbol.for("react.provider"),ot=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),Vt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),Tt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),b=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Se(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case H:return"Profiler";case tt:return"StrictMode";case vt:return"Suspense";case Tt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case ct:return(t.displayName||"Context")+".Provider";case ot:return(t._context.displayName||"Context")+".Consumer";case Vt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:Se(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return Se(t(n))}catch{}}return null}var ye=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_t={pending:!1,data:null,method:null,action:null},Dt=[],C=-1;function J(t){return{current:t}}function dt(t){0>C||(t.current=Dt[C],Dt[C]=null,C--)}function st(t,n){C++,Dt[C]=t.current,t.current=n}var St=J(null),Ut=J(null),It=J(null),_e=J(null);function le(t,n){switch(st(It,n),st(Ut,t),st(St,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Vp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Vp(n),t=Np(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}dt(St),st(St,t)}function bt(){dt(St),dt(Ut),dt(It)}function kt(t){t.memoizedState!==null&&st(_e,t);var n=St.current,s=Np(n,t.type);n!==s&&(st(Ut,t),st(St,s))}function Bt(t){Ut.current===t&&(dt(St),dt(Ut)),_e.current===t&&(dt(_e),Br._currentValue=_t)}var ee=Object.prototype.hasOwnProperty,en=a.unstable_scheduleCallback,ie=a.unstable_cancelCallback,ze=a.unstable_shouldYield,Qe=a.unstable_requestPaint,Pe=a.unstable_now,gi=a.unstable_getCurrentPriorityLevel,vn=a.unstable_ImmediatePriority,xn=a.unstable_UserBlockingPriority,Ln=a.unstable_NormalPriority,hs=a.unstable_LowPriority,ri=a.unstable_IdlePriority,fs=a.log,Ua=a.unstable_setDisableYieldValue,be=null,se=null;function Tn(t){if(typeof fs=="function"&&Ua(t),se&&typeof se.setStrictMode=="function")try{se.setStrictMode(be,t)}catch{}}var nn=Math.clz32?Math.clz32:L,za=Math.log,Hl=Math.LN2;function L(t){return t>>>=0,t===0?32:31-(za(t)/Hl|0)|0}var F=256,rt=4194304;function it(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Rt(t,n,s){var r=t.pendingLanes;if(r===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var T=r&134217727;return T!==0?(r=T&~f,r!==0?c=it(r):(y&=T,y!==0?c=it(y):s||(s=T&~t,s!==0&&(c=it(s))))):(T=r&~f,T!==0?c=it(T):y!==0?c=it(y):s||(s=r&~t,s!==0&&(c=it(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function ht(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function j(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function at(){var t=F;return F<<=1,(F&4194048)===0&&(F=256),t}function Nt(){var t=rt;return rt<<=1,(rt&62914560)===0&&(rt=4194304),t}function Ve(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function sn(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Un(t,n,s,r,c,f){var y=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,B=t.hiddenUpdates;for(s=y&~s;0<s;){var X=31-nn(s),$=1<<X;T[X]=0,R[X]=-1;var q=B[X];if(q!==null)for(B[X]=null,X=0;X<q.length;X++){var G=q[X];G!==null&&(G.lane&=-536870913)}s&=~$}r!==0&&Et(t,r,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Et(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var r=31-nn(n);t.entangledLanes|=n,t.entanglements[r]=t.entanglements[r]|1073741824|s&4194090}function he(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var r=31-nn(s),c=1<<r;c&n|t[r]&n&&(t[r]|=n),s&=~c}}function oi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ye(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ve(){var t=ut.p;return t!==0?t:(t=window.event,t===void 0?32:Jp(t.type))}function yo(t,n){var s=ut.p;try{return ut.p=t,n()}finally{ut.p=s}}var we=Math.random().toString(36).slice(2),Fe="__reactFiber$"+we,Be="__reactProps$"+we,Fn="__reactContainer$"+we,Gl="__reactEvents$"+we,Vc="__reactListeners$"+we,ds="__reactHandles$"+we,_o="__reactResources$"+we,Ws="__reactMarker$"+we;function ms(t){delete t[Fe],delete t[Be],delete t[Gl],delete t[Vc],delete t[ds]}function Pi(t){var n=t[Fe];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Fn]||s[Fe]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Up(t);t!==null;){if(s=t[Fe])return s;t=Up(t)}return n}t=s,s=t.parentNode}return null}function pi(t){if(t=t[Fe]||t[Fn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function yi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(l(33))}function Rn(t){var n=t[_o];return n||(n=t[_o]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ne(t){t[Ws]=!0}var Ql=new Set,Pa={};function ui(t,n){Bi(t,n),Bi(t+"Capture",n)}function Bi(t,n){for(Pa[t]=n,t=0;t<n.length;t++)Ql.add(n[t])}var vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),To={},ta={};function Eo(t){return ee.call(ta,t)?!0:ee.call(To,t)?!1:vo.test(t)?ta[t]=!0:(To[t]=!0,!1)}function gs(t,n,s){if(Eo(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var r=n.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function _i(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function hn(t,n,s,r){if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+r)}}var ea,Ao;function ji(t){if(ea===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ea=n&&n[1]||"",Ao=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ea+t+Ao}var Ba=!1;function ja(t,n){if(!t||Ba)return"";Ba=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(G){var q=G}Reflect.construct(t,[],$)}else{try{$.call()}catch(G){q=G}t.call($.prototype)}}else{try{throw Error()}catch(G){q=G}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),y=f[0],T=f[1];if(y&&T){var R=y.split(`
`),B=T.split(`
`);for(c=r=0;r<R.length&&!R[r].includes("DetermineComponentFrameRoot");)r++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(r===R.length||c===B.length)for(r=R.length-1,c=B.length-1;1<=r&&0<=c&&R[r]!==B[c];)c--;for(;1<=r&&0<=c;r--,c--)if(R[r]!==B[c]){if(r!==1||c!==1)do if(r--,c--,0>c||R[r]!==B[c]){var X=`
`+R[r].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=r&&0<=c);break}}}finally{Ba=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ji(s):""}function Yl(t){switch(t.tag){case 26:case 27:case 5:return ji(t.type);case 16:return ji("Lazy");case 13:return ji("Suspense");case 19:return ji("SuspenseList");case 0:case 15:return ja(t.type,!1);case 11:return ja(t.type.render,!1);case 1:return ja(t.type,!0);case 31:return ji("Activity");default:return""}}function ka(t){try{var n="";do n+=Yl(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function In(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fl(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Nc(t){var n=Fl(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),r=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){r=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function qa(t){t._valueTracker||(t._valueTracker=Nc(t))}function Kl(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),r="";return t&&(r=Fl(t)?t.checked?"true":"false":t.value),t=r,t!==s?(n.setValue(t),!0):!1}function na(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Oc=/[\n"\\]/g;function je(t){return t.replace(Oc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function zn(t,n,s,r,c,f,y,T){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+In(n)):t.value!==""+In(n)&&(t.value=""+In(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?ps(t,y,In(n)):s!=null?ps(t,y,In(s)):r!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+In(T):t.removeAttribute("name")}function ia(t,n,s,r,c,f,y,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;s=s!=null?""+In(s):"",n=n!=null?""+In(n):s,T||n===t.value||(t.value=n),t.defaultValue=n}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=T?t.checked:!!r,t.defaultChecked=!!r,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function ps(t,n,s){n==="number"&&na(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ki(t,n,s,r){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&r&&(t[s].defaultSelected=!0)}else{for(s=""+In(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,r&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function fe(t,n,s){if(n!=null&&(n=""+In(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+In(s):""}function sa(t,n,s,r){if(n==null){if(r!=null){if(s!=null)throw Error(l(92));if(ye(r)){if(1<r.length)throw Error(l(93));r=r[0]}s=r}s==null&&(s=""),n=s}s=In(n),t.defaultValue=s,r=t.textContent,r===s&&r!==""&&r!==null&&(t.value=r)}function Kn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var aa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function So(t,n,s){var r=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":r?t.setProperty(n,s):typeof s!="number"||s===0||aa.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Xl(t,n,s){if(n!=null&&typeof n!="object")throw Error(l(62));if(t=t.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||n!=null&&n.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var c in n)r=n[c],n.hasOwnProperty(c)&&s[c]!==r&&So(t,c,r)}else for(var f in n)n.hasOwnProperty(f)&&So(t,f,n[f])}function Zl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ha(t){return Lc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var qi=null;function Xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hi=null,Gi=null;function Jl(t){var n=pi(t);if(n&&(t=n.stateNode)){var s=t[Be]||null;t:switch(t=n.stateNode,n.type){case"input":if(zn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+je(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var r=s[n];if(r!==t&&r.form===t.form){var c=r[Be]||null;if(!c)throw Error(l(90));zn(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)r=s[n],r.form===t.form&&Kl(r)}break t;case"textarea":fe(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ki(t,!!s.multiple,n,!1)}}}var vi=!1;function bo(t,n,s){if(vi)return t(n,s);vi=!0;try{var r=t(n);return r}finally{if(vi=!1,(Hi!==null||Gi!==null)&&(yu(),Hi&&(n=Hi,t=Gi,Gi=Hi=null,Jl(n),t)))for(n=0;n<t.length;n++)Jl(t[n])}}function la(t,n){var s=t.stateNode;if(s===null)return null;var r=s[Be]||null;if(r===null)return null;s=r[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(l(231,n,typeof s));return s}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zn=!1;if(ci)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){Zn=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{Zn=!1}var Ti=null,ys=null,Qi=null;function $l(){if(Qi)return Qi;var t,n=ys,s=n.length,r,c="value"in Ti?Ti.value:Ti.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var y=s-t;for(r=1;r<=y&&n[s-r]===c[f-r];r++);return Qi=c.slice(t,1<r?1-r:void 0)}function Ei(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ai(){return!0}function Wl(){return!1}function an(t){function n(s,r,c,f,y){this._reactName=s,this._targetInst=c,this.type=r,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ai:Wl,this.isPropagationStopped=Wl,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),n}var re={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=an(re),oa=S({},re,{view:0,detail:0}),wo=an(oa),Qa,Ya,Si,ua=S({},oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Si&&(Si&&t.type==="mousemove"?(Qa=t.screenX-Si.screenX,Ya=t.screenY-Si.screenY):Ya=Qa=0,Si=t),Qa)},movementY:function(t){return"movementY"in t?t.movementY:Ya}}),Jn=an(ua),Ro=S({},ua,{dataTransfer:0}),Uc=an(Ro),ca=S({},oa,{relatedTarget:0}),Fa=an(ca),tr=S({},re,{animationName:0,elapsedTime:0,pseudoElement:0}),Ka=an(tr),Io=S({},re,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xa=an(Io),zc=S({},re,{data:0}),er=an(zc),ha={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Do={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Co={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nr(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Co[t])?!!n[t]:!1}function fa(){return nr}var xo=S({},oa,{key:function(t){if(t.key){var n=ha[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ei(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Do[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fa,charCode:function(t){return t.type==="keypress"?Ei(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ei(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Za=an(xo),Vo=S({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ir=an(Vo),Yi=S({},oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fa}),No=an(Yi),Oo=S({},re,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mo=an(Oo),Lo=S({},ua,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ja=an(Lo),Dn=S({},re,{newState:0,oldState:0}),Uo=an(Dn),zo=[9,13,27,32],bi=ci&&"CompositionEvent"in window,u=null;ci&&"documentMode"in document&&(u=document.documentMode);var m=ci&&"TextEvent"in window&&!u,p=ci&&(!bi||u&&8<u&&11>=u),E=" ",z=!1;function Y(t,n){switch(t){case"keyup":return zo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ft(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xt=!1;function Ke(t,n){switch(t){case"compositionend":return ft(n);case"keypress":return n.which!==32?null:(z=!0,E);case"textInput":return t=n.data,t===E&&z?null:t;default:return null}}function Zt(t,n){if(Xt)return t==="compositionend"||!bi&&Y(t,n)?(t=$l(),Qi=ys=Ti=null,Xt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xe(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!ln[t.type]:n==="textarea"}function Fi(t,n,s,r){Hi?Gi?Gi.push(r):Gi=[r]:Hi=r,n=Su(n,"onChange"),0<n.length&&(s=new Ga("onChange","change",null,s,r),t.push({event:s,listeners:n}))}var fn=null,wi=null;function sr(t){Rp(t,0)}function Po(t){var n=yi(t);if(Kl(n))return t}function Fd(t,n){if(t==="change")return n}var Kd=!1;if(ci){var Pc;if(ci){var Bc="oninput"in document;if(!Bc){var Xd=document.createElement("div");Xd.setAttribute("oninput","return;"),Bc=typeof Xd.oninput=="function"}Pc=Bc}else Pc=!1;Kd=Pc&&(!document.documentMode||9<document.documentMode)}function Zd(){fn&&(fn.detachEvent("onpropertychange",Jd),wi=fn=null)}function Jd(t){if(t.propertyName==="value"&&Po(wi)){var n=[];Fi(n,wi,t,Xn(t)),bo(sr,n)}}function l0(t,n,s){t==="focusin"?(Zd(),fn=n,wi=s,fn.attachEvent("onpropertychange",Jd)):t==="focusout"&&Zd()}function r0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Po(wi)}function o0(t,n){if(t==="click")return Po(n)}function u0(t,n){if(t==="input"||t==="change")return Po(n)}function c0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Pn=typeof Object.is=="function"?Object.is:c0;function ar(t,n){if(Pn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),r=Object.keys(n);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var c=s[r];if(!ee.call(n,c)||!Pn(t[c],n[c]))return!1}return!0}function $d(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wd(t,n){var s=$d(t);t=0;for(var r;s;){if(s.nodeType===3){if(r=t+s.textContent.length,t<=n&&r>=n)return{node:s,offset:n-t};t=r}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=$d(s)}}function tm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?tm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function em(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=na(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=na(t.document)}return n}function jc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var h0=ci&&"documentMode"in document&&11>=document.documentMode,$a=null,kc=null,lr=null,qc=!1;function nm(t,n,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;qc||$a==null||$a!==na(r)||(r=$a,"selectionStart"in r&&jc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lr&&ar(lr,r)||(lr=r,r=Su(kc,"onSelect"),0<r.length&&(n=new Ga("onSelect","select",null,n,s),t.push({event:n,listeners:r}),n.target=$a)))}function da(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Wa={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},Hc={},im={};ci&&(im=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function ma(t){if(Hc[t])return Hc[t];if(!Wa[t])return t;var n=Wa[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in im)return Hc[t]=n[s];return t}var sm=ma("animationend"),am=ma("animationiteration"),lm=ma("animationstart"),f0=ma("transitionrun"),d0=ma("transitionstart"),m0=ma("transitioncancel"),rm=ma("transitionend"),om=new Map,Gc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gc.push("scrollEnd");function hi(t,n){om.set(t,n),ui(n,[t])}var um=new WeakMap;function $n(t,n){if(typeof t=="object"&&t!==null){var s=um.get(t);return s!==void 0?s:(n={value:t,source:n,stack:ka(n)},um.set(t,n),n)}return{value:t,source:n,stack:ka(n)}}var Wn=[],tl=0,Qc=0;function Bo(){for(var t=tl,n=Qc=tl=0;n<t;){var s=Wn[n];Wn[n++]=null;var r=Wn[n];Wn[n++]=null;var c=Wn[n];Wn[n++]=null;var f=Wn[n];if(Wn[n++]=null,r!==null&&c!==null){var y=r.pending;y===null?c.next=c:(c.next=y.next,y.next=c),r.pending=c}f!==0&&cm(s,c,f)}}function jo(t,n,s,r){Wn[tl++]=t,Wn[tl++]=n,Wn[tl++]=s,Wn[tl++]=r,Qc|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Yc(t,n,s,r){return jo(t,n,s,r),ko(t)}function el(t,n){return jo(t,null,null,n),ko(t)}function cm(t,n,s){t.lanes|=s;var r=t.alternate;r!==null&&(r.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,r=f.alternate,r!==null&&(r.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-nn(s),t=f.hiddenUpdates,r=t[c],r===null?t[c]=[n]:r.push(n),n.lane=s|536870912),f):null}function ko(t){if(50<Vr)throw Vr=0,$h=null,Error(l(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var nl={};function g0(t,n,s,r){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,n,s,r){return new g0(t,n,s,r)}function Fc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ki(t,n){var s=t.alternate;return s===null?(s=Bn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function hm(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function qo(t,n,s,r,c,f){var y=0;if(r=t,typeof t=="function")Fc(t)&&(y=1);else if(typeof t=="string")y=yT(t,s,St.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=Bn(31,s,n,c),t.elementType=w,t.lanes=f,t;case K:return ga(s.children,c,f,n);case tt:y=8,c|=24;break;case H:return t=Bn(12,s,n,c|2),t.elementType=H,t.lanes=f,t;case vt:return t=Bn(13,s,n,c),t.elementType=vt,t.lanes=f,t;case Tt:return t=Bn(19,s,n,c),t.elementType=Tt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lt:case ct:y=10;break t;case ot:y=9;break t;case Vt:y=11;break t;case x:y=14;break t;case A:y=16,r=null;break t}y=29,s=Error(l(130,t===null?"null":typeof t,"")),r=null}return n=Bn(y,s,n,c),n.elementType=t,n.type=r,n.lanes=f,n}function ga(t,n,s,r){return t=Bn(7,t,r,n),t.lanes=s,t}function Kc(t,n,s){return t=Bn(6,t,null,n),t.lanes=s,t}function Xc(t,n,s){return n=Bn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var il=[],sl=0,Ho=null,Go=0,ti=[],ei=0,pa=null,Xi=1,Zi="";function ya(t,n){il[sl++]=Go,il[sl++]=Ho,Ho=t,Go=n}function fm(t,n,s){ti[ei++]=Xi,ti[ei++]=Zi,ti[ei++]=pa,pa=t;var r=Xi;t=Zi;var c=32-nn(r)-1;r&=~(1<<c),s+=1;var f=32-nn(n)+c;if(30<f){var y=c-c%5;f=(r&(1<<y)-1).toString(32),r>>=y,c-=y,Xi=1<<32-nn(n)+c|s<<c|r,Zi=f+t}else Xi=1<<f|s<<c|r,Zi=t}function Zc(t){t.return!==null&&(ya(t,1),fm(t,1,0))}function Jc(t){for(;t===Ho;)Ho=il[--sl],il[sl]=null,Go=il[--sl],il[sl]=null;for(;t===pa;)pa=ti[--ei],ti[ei]=null,Zi=ti[--ei],ti[ei]=null,Xi=ti[--ei],ti[ei]=null}var Cn=null,Ce=null,ae=!1,_a=null,Ri=!1,$c=Error(l(519));function va(t){var n=Error(l(418,""));throw ur($n(n,t)),$c}function dm(t){var n=t.stateNode,s=t.type,r=t.memoizedProps;switch(n[Fe]=t,n[Be]=r,s){case"dialog":Qt("cancel",n),Qt("close",n);break;case"iframe":case"object":case"embed":Qt("load",n);break;case"video":case"audio":for(s=0;s<Or.length;s++)Qt(Or[s],n);break;case"source":Qt("error",n);break;case"img":case"image":case"link":Qt("error",n),Qt("load",n);break;case"details":Qt("toggle",n);break;case"input":Qt("invalid",n),ia(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),qa(n);break;case"select":Qt("invalid",n);break;case"textarea":Qt("invalid",n),sa(n,r.value,r.defaultValue,r.children),qa(n)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||r.suppressHydrationWarning===!0||xp(n.textContent,s)?(r.popover!=null&&(Qt("beforetoggle",n),Qt("toggle",n)),r.onScroll!=null&&Qt("scroll",n),r.onScrollEnd!=null&&Qt("scrollend",n),r.onClick!=null&&(n.onclick=bu),n=!0):n=!1,n||va(t)}function mm(t){for(Cn=t.return;Cn;)switch(Cn.tag){case 5:case 13:Ri=!1;return;case 27:case 3:Ri=!0;return;default:Cn=Cn.return}}function rr(t){if(t!==Cn)return!1;if(!ae)return mm(t),ae=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||gf(t.type,t.memoizedProps)),s=!s),s&&Ce&&va(t),mm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){Ce=di(t.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}Ce=null}}else n===27?(n=Ce,Os(t.type)?(t=vf,vf=null,Ce=t):Ce=n):Ce=Cn?di(t.stateNode.nextSibling):null;return!0}function or(){Ce=Cn=null,ae=!1}function gm(){var t=_a;return t!==null&&(On===null?On=t:On.push.apply(On,t),_a=null),t}function ur(t){_a===null?_a=[t]:_a.push(t)}var Wc=J(null),Ta=null,Ji=null;function _s(t,n,s){st(Wc,n._currentValue),n._currentValue=s}function $i(t){t._currentValue=Wc.current,dt(Wc)}function th(t,n,s){for(;t!==null;){var r=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),t===s)break;t=t.return}}function eh(t,n,s,r){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=c;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),th(f.return,s,t),r||(y=null);break t}f=T.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(l(341));y.lanes|=s,f=y.alternate,f!==null&&(f.lanes|=s),th(y,s,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function cr(t,n,s,r){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(l(387));if(y=y.memoizedProps,y!==null){var T=c.type;Pn(c.pendingProps.value,y.value)||(t!==null?t.push(T):t=[T])}}else if(c===_e.current){if(y=c.alternate,y===null)throw Error(l(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Br):t=[Br])}c=c.return}t!==null&&eh(n,t,s,r),n.flags|=262144}function Qo(t){for(t=t.firstContext;t!==null;){if(!Pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ea(t){Ta=t,Ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function En(t){return pm(Ta,t)}function Yo(t,n){return Ta===null&&Ea(t),pm(t,n)}function pm(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ji===null){if(t===null)throw Error(l(308));Ji=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ji=Ji.next=n;return s}var p0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,r){t.push(r)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},y0=a.unstable_scheduleCallback,_0=a.unstable_NormalPriority,Ze={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nh(){return{controller:new p0,data:new Map,refCount:0}}function hr(t){t.refCount--,t.refCount===0&&y0(_0,function(){t.controller.abort()})}var fr=null,ih=0,al=0,ll=null;function v0(t,n){if(fr===null){var s=fr=[];ih=0,al=lf(),ll={status:"pending",value:void 0,then:function(r){s.push(r)}}}return ih++,n.then(ym,ym),n}function ym(){if(--ih===0&&fr!==null){ll!==null&&(ll.status="fulfilled");var t=fr;fr=null,al=0,ll=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function T0(t,n){var s=[],r={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){r.status="fulfilled",r.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(r.status="rejected",r.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),r}var _m=Q.S;Q.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&v0(t,n),_m!==null&&_m(t,n)};var Aa=J(null);function sh(){var t=Aa.current;return t!==null?t:Te.pooledCache}function Fo(t,n){n===null?st(Aa,Aa.current):st(Aa,n.pool)}function vm(){var t=sh();return t===null?null:{parent:Ze._currentValue,pool:t}}var dr=Error(l(460)),Tm=Error(l(474)),Ko=Error(l(542)),ah={then:function(){}};function Em(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xo(){}function Am(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Xo,Xo),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,bm(t),t;default:if(typeof n.status=="string")n.then(Xo,Xo);else{if(t=Te,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=n,t.status="pending",t.then(function(r){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=r}},function(r){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=r}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,bm(t),t}throw mr=n,dr}}var mr=null;function Sm(){if(mr===null)throw Error(l(459));var t=mr;return mr=null,t}function bm(t){if(t===dr||t===Ko)throw Error(l(483))}var vs=!1;function lh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ts(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Es(t,n,s){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(ue&2)!==0){var c=r.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),r.pending=n,n=ko(t),cm(t,null,s),n}return jo(t,r,n,s),ko(t)}function gr(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var r=n.lanes;r&=t.pendingLanes,s|=r,n.lanes=s,he(t,s)}}function oh(t,n){var s=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var uh=!1;function pr(){if(uh){var t=ll;if(t!==null)throw t}}function yr(t,n,s,r){uh=!1;var c=t.updateQueue;vs=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,T=c.shared.pending;if(T!==null){c.shared.pending=null;var R=T,B=R.next;R.next=null,y===null?f=B:y.next=B,y=R;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==y&&(T===null?X.firstBaseUpdate=B:T.next=B,X.lastBaseUpdate=R))}if(f!==null){var $=c.baseState;y=0,X=B=R=null,T=f;do{var q=T.lane&-536870913,G=q!==T.lane;if(G?(Jt&q)===q:(r&q)===q){q!==0&&q===al&&(uh=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Lt=t,xt=T;q=n;var ge=s;switch(xt.tag){case 1:if(Lt=xt.payload,typeof Lt=="function"){$=Lt.call(ge,$,q);break t}$=Lt;break t;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=xt.payload,q=typeof Lt=="function"?Lt.call(ge,$,q):Lt,q==null)break t;$=S({},$,q);break t;case 2:vs=!0}}q=T.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=c.callbacks,G===null?c.callbacks=[q]:G.push(q))}else G={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(B=X=G,R=$):X=X.next=G,y|=q;if(T=T.next,T===null){if(T=c.shared.pending,T===null)break;G=T,T=G.next,G.next=null,c.lastBaseUpdate=G,c.shared.pending=null}}while(!0);X===null&&(R=$),c.baseState=R,c.firstBaseUpdate=B,c.lastBaseUpdate=X,f===null&&(c.shared.lanes=0),Cs|=y,t.lanes=y,t.memoizedState=$}}function wm(t,n){if(typeof t!="function")throw Error(l(191,t));t.call(n)}function Rm(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)wm(s[t],n)}var rl=J(null),Zo=J(0);function Im(t,n){t=as,st(Zo,t),st(rl,n),as=t|n.baseLanes}function ch(){st(Zo,as),st(rl,rl.current)}function hh(){as=Zo.current,dt(rl),dt(Zo)}var As=0,qt=null,de=null,ke=null,Jo=!1,ol=!1,Sa=!1,$o=0,_r=0,ul=null,E0=0;function Oe(){throw Error(l(321))}function fh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Pn(t[s],n[s]))return!1;return!0}function dh(t,n,s,r,c,f){return As=f,qt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=t===null||t.memoizedState===null?cg:hg,Sa=!1,f=s(r,c),Sa=!1,ol&&(f=Cm(n,s,r,c)),Dm(t),f}function Dm(t){Q.H=su;var n=de!==null&&de.next!==null;if(As=0,ke=de=qt=null,Jo=!1,_r=0,ul=null,n)throw Error(l(300));t===null||rn||(t=t.dependencies,t!==null&&Qo(t)&&(rn=!0))}function Cm(t,n,s,r){qt=t;var c=0;do{if(ol&&(ul=null),_r=0,ol=!1,25<=c)throw Error(l(301));if(c+=1,ke=de=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=D0,f=n(s,r)}while(ol);return f}function A0(){var t=Q.H,n=t.useState()[0];return n=typeof n.then=="function"?vr(n):n,t=t.useState()[0],(de!==null?de.memoizedState:null)!==t&&(qt.flags|=1024),n}function mh(){var t=$o!==0;return $o=0,t}function gh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function ph(t){if(Jo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Jo=!1}As=0,ke=de=qt=null,ol=!1,_r=$o=0,ul=null}function Vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?qt.memoizedState=ke=t:ke=ke.next=t,ke}function qe(){if(de===null){var t=qt.alternate;t=t!==null?t.memoizedState:null}else t=de.next;var n=ke===null?qt.memoizedState:ke.next;if(n!==null)ke=n,de=t;else{if(t===null)throw qt.alternate===null?Error(l(467)):Error(l(310));de=t,t={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},ke===null?qt.memoizedState=ke=t:ke=ke.next=t}return ke}function yh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vr(t){var n=_r;return _r+=1,ul===null&&(ul=[]),t=Am(ul,t,n),n=qt,(ke===null?n.memoizedState:ke.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?cg:hg),t}function Wo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vr(t);if(t.$$typeof===ct)return En(t)}throw Error(l(438,String(t)))}function _h(t){var n=null,s=qt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var r=qt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(n={data:r.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=yh(),qt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),r=0;r<t;r++)s[r]=b;return n.index++,s}function Wi(t,n){return typeof n=="function"?n(t):n}function tu(t){var n=qe();return vh(n,de,t)}function vh(t,n,s){var r=t.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=s;var c=t.baseQueue,f=r.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,r.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var T=y=null,R=null,B=n,X=!1;do{var $=B.lane&-536870913;if($!==B.lane?(Jt&$)===$:(As&$)===$){var q=B.revertLane;if(q===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),$===al&&(X=!0);else if((As&q)===q){B=B.next,q===al&&(X=!0);continue}else $={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(T=R=$,y=f):R=R.next=$,qt.lanes|=q,Cs|=q;$=B.action,Sa&&s(f,$),f=B.hasEagerState?B.eagerState:s(f,$)}else q={lane:$,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(T=R=q,y=f):R=R.next=q,qt.lanes|=$,Cs|=$;B=B.next}while(B!==null&&B!==n);if(R===null?y=f:R.next=T,!Pn(f,t.memoizedState)&&(rn=!0,X&&(s=ll,s!==null)))throw s;t.memoizedState=f,t.baseState=y,t.baseQueue=R,r.lastRenderedState=f}return c===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Th(t){var n=qe(),s=n.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=t;var r=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);Pn(f,n.memoizedState)||(rn=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,r]}function xm(t,n,s){var r=qt,c=qe(),f=ae;if(f){if(s===void 0)throw Error(l(407));s=s()}else s=n();var y=!Pn((de||c).memoizedState,s);y&&(c.memoizedState=s,rn=!0),c=c.queue;var T=Om.bind(null,r,c,t);if(Tr(2048,8,T,[t]),c.getSnapshot!==n||y||ke!==null&&ke.memoizedState.tag&1){if(r.flags|=2048,cl(9,eu(),Nm.bind(null,r,c,s,n),null),Te===null)throw Error(l(349));f||(As&124)!==0||Vm(r,n,s)}return s}function Vm(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=qt.updateQueue,n===null?(n=yh(),qt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Nm(t,n,s,r){n.value=s,n.getSnapshot=r,Mm(n)&&Lm(t)}function Om(t,n,s){return s(function(){Mm(n)&&Lm(t)})}function Mm(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Pn(t,s)}catch{return!0}}function Lm(t){var n=el(t,2);n!==null&&Gn(n,t,2)}function Eh(t){var n=Vn();if(typeof t=="function"){var s=t;if(t=s(),Sa){Tn(!0);try{s()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:t},n}function Um(t,n,s,r){return t.baseState=s,vh(t,de,typeof r=="function"?r:Wi)}function S0(t,n,s,r,c){if(iu(t))throw Error(l(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};Q.T!==null?s(!0):f.isTransition=!1,r(f),s=n.pending,s===null?(f.next=n.pending=f,zm(n,f)):(f.next=s.next,n.pending=s.next=f)}}function zm(t,n){var s=n.action,r=n.payload,c=t.state;if(n.isTransition){var f=Q.T,y={};Q.T=y;try{var T=s(c,r),R=Q.S;R!==null&&R(y,T),Pm(t,n,T)}catch(B){Ah(t,n,B)}finally{Q.T=f}}else try{f=s(c,r),Pm(t,n,f)}catch(B){Ah(t,n,B)}}function Pm(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){Bm(t,n,r)},function(r){return Ah(t,n,r)}):Bm(t,n,s)}function Bm(t,n,s){n.status="fulfilled",n.value=s,jm(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,zm(t,s)))}function Ah(t,n,s){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do n.status="rejected",n.reason=s,jm(n),n=n.next;while(n!==r)}t.action=null}function jm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function km(t,n){return n}function qm(t,n){if(ae){var s=Te.formState;if(s!==null){t:{var r=qt;if(ae){if(Ce){e:{for(var c=Ce,f=Ri;c.nodeType!==8;){if(!f){c=null;break e}if(c=di(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Ce=di(c.nextSibling),r=c.data==="F!";break t}}va(r)}r=!1}r&&(n=s[0])}}return s=Vn(),s.memoizedState=s.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:km,lastRenderedState:n},s.queue=r,s=rg.bind(null,qt,r),r.dispatch=s,r=Eh(!1),f=Ih.bind(null,qt,!1,r.queue),r=Vn(),c={state:n,dispatch:null,action:t,pending:null},r.queue=c,s=S0.bind(null,qt,c,f,s),c.dispatch=s,r.memoizedState=t,[n,s,!1]}function Hm(t){var n=qe();return Gm(n,de,t)}function Gm(t,n,s){if(n=vh(t,n,km)[0],t=tu(Wi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var r=vr(n)}catch(y){throw y===dr?Ko:y}else r=n;n=qe();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(qt.flags|=2048,cl(9,eu(),b0.bind(null,c,s),null)),[r,f,t]}function b0(t,n){t.action=n}function Qm(t){var n=qe(),s=de;if(s!==null)return Gm(n,s,t);qe(),n=n.memoizedState,s=qe();var r=s.queue.dispatch;return s.memoizedState=t,[n,r,!1]}function cl(t,n,s,r){return t={tag:t,create:s,deps:r,inst:n,next:null},n=qt.updateQueue,n===null&&(n=yh(),qt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(r=s.next,s.next=t,t.next=r,n.lastEffect=t),t}function eu(){return{destroy:void 0,resource:void 0}}function Ym(){return qe().memoizedState}function nu(t,n,s,r){var c=Vn();r=r===void 0?null:r,qt.flags|=t,c.memoizedState=cl(1|n,eu(),s,r)}function Tr(t,n,s,r){var c=qe();r=r===void 0?null:r;var f=c.memoizedState.inst;de!==null&&r!==null&&fh(r,de.memoizedState.deps)?c.memoizedState=cl(n,f,s,r):(qt.flags|=t,c.memoizedState=cl(1|n,f,s,r))}function Fm(t,n){nu(8390656,8,t,n)}function Km(t,n){Tr(2048,8,t,n)}function Xm(t,n){return Tr(4,2,t,n)}function Zm(t,n){return Tr(4,4,t,n)}function Jm(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function $m(t,n,s){s=s!=null?s.concat([t]):null,Tr(4,4,Jm.bind(null,n,t),s)}function Sh(){}function Wm(t,n){var s=qe();n=n===void 0?null:n;var r=s.memoizedState;return n!==null&&fh(n,r[1])?r[0]:(s.memoizedState=[t,n],t)}function tg(t,n){var s=qe();n=n===void 0?null:n;var r=s.memoizedState;if(n!==null&&fh(n,r[1]))return r[0];if(r=t(),Sa){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[r,n],r}function bh(t,n,s){return s===void 0||(As&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=ip(),qt.lanes|=t,Cs|=t,s)}function eg(t,n,s,r){return Pn(s,n)?s:rl.current!==null?(t=bh(t,s,r),Pn(t,n)||(rn=!0),t):(As&42)===0?(rn=!0,t.memoizedState=s):(t=ip(),qt.lanes|=t,Cs|=t,n)}function ng(t,n,s,r,c){var f=ut.p;ut.p=f!==0&&8>f?f:8;var y=Q.T,T={};Q.T=T,Ih(t,!1,n,s);try{var R=c(),B=Q.S;if(B!==null&&B(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var X=T0(R,r);Er(t,n,X,Hn(t))}else Er(t,n,r,Hn(t))}catch($){Er(t,n,{then:function(){},status:"rejected",reason:$},Hn())}finally{ut.p=f,Q.T=y}}function w0(){}function wh(t,n,s,r){if(t.tag!==5)throw Error(l(476));var c=ig(t).queue;ng(t,c,n,_t,s===null?w0:function(){return sg(t),s(r)})}function ig(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:_t,baseState:_t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:_t},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function sg(t){var n=ig(t).next.queue;Er(t,n,{},Hn())}function Rh(){return En(Br)}function ag(){return qe().memoizedState}function lg(){return qe().memoizedState}function R0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Hn();t=Ts(s);var r=Es(n,t,s);r!==null&&(Gn(r,n,s),gr(r,n,s)),n={cache:nh()},t.payload=n;return}n=n.return}}function I0(t,n,s){var r=Hn();s={lane:r,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},iu(t)?og(n,s):(s=Yc(t,n,s,r),s!==null&&(Gn(s,t,r),ug(s,n,r)))}function rg(t,n,s){var r=Hn();Er(t,n,s,r)}function Er(t,n,s,r){var c={lane:r,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(iu(t))og(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,T=f(y,s);if(c.hasEagerState=!0,c.eagerState=T,Pn(T,y))return jo(t,n,c,0),Te===null&&Bo(),!1}catch{}finally{}if(s=Yc(t,n,c,r),s!==null)return Gn(s,t,r),ug(s,n,r),!0}return!1}function Ih(t,n,s,r){if(r={lane:2,revertLane:lf(),action:r,hasEagerState:!1,eagerState:null,next:null},iu(t)){if(n)throw Error(l(479))}else n=Yc(t,s,r,2),n!==null&&Gn(n,t,2)}function iu(t){var n=t.alternate;return t===qt||n!==null&&n===qt}function og(t,n){ol=Jo=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function ug(t,n,s){if((s&4194048)!==0){var r=n.lanes;r&=t.pendingLanes,s|=r,n.lanes=s,he(t,s)}}var su={readContext:En,use:Wo,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useLayoutEffect:Oe,useInsertionEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useSyncExternalStore:Oe,useId:Oe,useHostTransitionStatus:Oe,useFormState:Oe,useActionState:Oe,useOptimistic:Oe,useMemoCache:Oe,useCacheRefresh:Oe},cg={readContext:En,use:Wo,useCallback:function(t,n){return Vn().memoizedState=[t,n===void 0?null:n],t},useContext:En,useEffect:Fm,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,nu(4194308,4,Jm.bind(null,n,t),s)},useLayoutEffect:function(t,n){return nu(4194308,4,t,n)},useInsertionEffect:function(t,n){nu(4,2,t,n)},useMemo:function(t,n){var s=Vn();n=n===void 0?null:n;var r=t();if(Sa){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[r,n],r},useReducer:function(t,n,s){var r=Vn();if(s!==void 0){var c=s(n);if(Sa){Tn(!0);try{s(n)}finally{Tn(!1)}}}else c=n;return r.memoizedState=r.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},r.queue=t,t=t.dispatch=I0.bind(null,qt,t),[r.memoizedState,t]},useRef:function(t){var n=Vn();return t={current:t},n.memoizedState=t},useState:function(t){t=Eh(t);var n=t.queue,s=rg.bind(null,qt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Sh,useDeferredValue:function(t,n){var s=Vn();return bh(s,t,n)},useTransition:function(){var t=Eh(!1);return t=ng.bind(null,qt,t.queue,!0,!1),Vn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var r=qt,c=Vn();if(ae){if(s===void 0)throw Error(l(407));s=s()}else{if(s=n(),Te===null)throw Error(l(349));(Jt&124)!==0||Vm(r,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,Fm(Om.bind(null,r,f,t),[t]),r.flags|=2048,cl(9,eu(),Nm.bind(null,r,f,s,n),null),s},useId:function(){var t=Vn(),n=Te.identifierPrefix;if(ae){var s=Zi,r=Xi;s=(r&~(1<<32-nn(r)-1)).toString(32)+s,n=""+n+"R"+s,s=$o++,0<s&&(n+="H"+s.toString(32)),n+=""}else s=E0++,n=""+n+"r"+s.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Rh,useFormState:qm,useActionState:qm,useOptimistic:function(t){var n=Vn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Ih.bind(null,qt,!0,s),s.dispatch=n,[t,n]},useMemoCache:_h,useCacheRefresh:function(){return Vn().memoizedState=R0.bind(null,qt)}},hg={readContext:En,use:Wo,useCallback:Wm,useContext:En,useEffect:Km,useImperativeHandle:$m,useInsertionEffect:Xm,useLayoutEffect:Zm,useMemo:tg,useReducer:tu,useRef:Ym,useState:function(){return tu(Wi)},useDebugValue:Sh,useDeferredValue:function(t,n){var s=qe();return eg(s,de.memoizedState,t,n)},useTransition:function(){var t=tu(Wi)[0],n=qe().memoizedState;return[typeof t=="boolean"?t:vr(t),n]},useSyncExternalStore:xm,useId:ag,useHostTransitionStatus:Rh,useFormState:Hm,useActionState:Hm,useOptimistic:function(t,n){var s=qe();return Um(s,de,t,n)},useMemoCache:_h,useCacheRefresh:lg},D0={readContext:En,use:Wo,useCallback:Wm,useContext:En,useEffect:Km,useImperativeHandle:$m,useInsertionEffect:Xm,useLayoutEffect:Zm,useMemo:tg,useReducer:Th,useRef:Ym,useState:function(){return Th(Wi)},useDebugValue:Sh,useDeferredValue:function(t,n){var s=qe();return de===null?bh(s,t,n):eg(s,de.memoizedState,t,n)},useTransition:function(){var t=Th(Wi)[0],n=qe().memoizedState;return[typeof t=="boolean"?t:vr(t),n]},useSyncExternalStore:xm,useId:ag,useHostTransitionStatus:Rh,useFormState:Qm,useActionState:Qm,useOptimistic:function(t,n){var s=qe();return de!==null?Um(s,de,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:_h,useCacheRefresh:lg},hl=null,Ar=0;function au(t){var n=Ar;return Ar+=1,hl===null&&(hl=[]),Am(hl,t,n)}function Sr(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function lu(t,n){throw n.$$typeof===D?Error(l(525)):(t=Object.prototype.toString.call(n),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function fg(t){var n=t._init;return n(t._payload)}function dg(t){function n(U,O){if(t){var P=U.deletions;P===null?(U.deletions=[O],U.flags|=16):P.push(O)}}function s(U,O){if(!t)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function r(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function c(U,O){return U=Ki(U,O),U.index=0,U.sibling=null,U}function f(U,O,P){return U.index=P,t?(P=U.alternate,P!==null?(P=P.index,P<O?(U.flags|=67108866,O):P):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,O,P,Z){return O===null||O.tag!==6?(O=Kc(P,U.mode,Z),O.return=U,O):(O=c(O,P),O.return=U,O)}function R(U,O,P,Z){var yt=P.type;return yt===K?X(U,O,P.props.children,Z,P.key):O!==null&&(O.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===A&&fg(yt)===O.type)?(O=c(O,P.props),Sr(O,P),O.return=U,O):(O=qo(P.type,P.key,P.props,null,U.mode,Z),Sr(O,P),O.return=U,O)}function B(U,O,P,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Xc(P,U.mode,Z),O.return=U,O):(O=c(O,P.children||[]),O.return=U,O)}function X(U,O,P,Z,yt){return O===null||O.tag!==7?(O=ga(P,U.mode,Z,yt),O.return=U,O):(O=c(O,P),O.return=U,O)}function $(U,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Kc(""+O,U.mode,P),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case V:return P=qo(O.type,O.key,O.props,null,U.mode,P),Sr(P,O),P.return=U,P;case k:return O=Xc(O,U.mode,P),O.return=U,O;case A:var Z=O._init;return O=Z(O._payload),$(U,O,P)}if(ye(O)||M(O))return O=ga(O,U.mode,P,null),O.return=U,O;if(typeof O.then=="function")return $(U,au(O),P);if(O.$$typeof===ct)return $(U,Yo(U,O),P);lu(U,O)}return null}function q(U,O,P,Z){var yt=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return yt!==null?null:T(U,O,""+P,Z);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case V:return P.key===yt?R(U,O,P,Z):null;case k:return P.key===yt?B(U,O,P,Z):null;case A:return yt=P._init,P=yt(P._payload),q(U,O,P,Z)}if(ye(P)||M(P))return yt!==null?null:X(U,O,P,Z,null);if(typeof P.then=="function")return q(U,O,au(P),Z);if(P.$$typeof===ct)return q(U,O,Yo(U,P),Z);lu(U,P)}return null}function G(U,O,P,Z,yt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(P)||null,T(O,U,""+Z,yt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case V:return U=U.get(Z.key===null?P:Z.key)||null,R(O,U,Z,yt);case k:return U=U.get(Z.key===null?P:Z.key)||null,B(O,U,Z,yt);case A:var Ht=Z._init;return Z=Ht(Z._payload),G(U,O,P,Z,yt)}if(ye(Z)||M(Z))return U=U.get(P)||null,X(O,U,Z,yt,null);if(typeof Z.then=="function")return G(U,O,P,au(Z),yt);if(Z.$$typeof===ct)return G(U,O,P,Yo(O,Z),yt);lu(O,Z)}return null}function Lt(U,O,P,Z){for(var yt=null,Ht=null,wt=O,Ot=O=0,un=null;wt!==null&&Ot<P.length;Ot++){wt.index>Ot?(un=wt,wt=null):un=wt.sibling;var ne=q(U,wt,P[Ot],Z);if(ne===null){wt===null&&(wt=un);break}t&&wt&&ne.alternate===null&&n(U,wt),O=f(ne,O,Ot),Ht===null?yt=ne:Ht.sibling=ne,Ht=ne,wt=un}if(Ot===P.length)return s(U,wt),ae&&ya(U,Ot),yt;if(wt===null){for(;Ot<P.length;Ot++)wt=$(U,P[Ot],Z),wt!==null&&(O=f(wt,O,Ot),Ht===null?yt=wt:Ht.sibling=wt,Ht=wt);return ae&&ya(U,Ot),yt}for(wt=r(wt);Ot<P.length;Ot++)un=G(wt,U,Ot,P[Ot],Z),un!==null&&(t&&un.alternate!==null&&wt.delete(un.key===null?Ot:un.key),O=f(un,O,Ot),Ht===null?yt=un:Ht.sibling=un,Ht=un);return t&&wt.forEach(function(Ps){return n(U,Ps)}),ae&&ya(U,Ot),yt}function xt(U,O,P,Z){if(P==null)throw Error(l(151));for(var yt=null,Ht=null,wt=O,Ot=O=0,un=null,ne=P.next();wt!==null&&!ne.done;Ot++,ne=P.next()){wt.index>Ot?(un=wt,wt=null):un=wt.sibling;var Ps=q(U,wt,ne.value,Z);if(Ps===null){wt===null&&(wt=un);break}t&&wt&&Ps.alternate===null&&n(U,wt),O=f(Ps,O,Ot),Ht===null?yt=Ps:Ht.sibling=Ps,Ht=Ps,wt=un}if(ne.done)return s(U,wt),ae&&ya(U,Ot),yt;if(wt===null){for(;!ne.done;Ot++,ne=P.next())ne=$(U,ne.value,Z),ne!==null&&(O=f(ne,O,Ot),Ht===null?yt=ne:Ht.sibling=ne,Ht=ne);return ae&&ya(U,Ot),yt}for(wt=r(wt);!ne.done;Ot++,ne=P.next())ne=G(wt,U,Ot,ne.value,Z),ne!==null&&(t&&ne.alternate!==null&&wt.delete(ne.key===null?Ot:ne.key),O=f(ne,O,Ot),Ht===null?yt=ne:Ht.sibling=ne,Ht=ne);return t&&wt.forEach(function(CT){return n(U,CT)}),ae&&ya(U,Ot),yt}function ge(U,O,P,Z){if(typeof P=="object"&&P!==null&&P.type===K&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case V:t:{for(var yt=P.key;O!==null;){if(O.key===yt){if(yt=P.type,yt===K){if(O.tag===7){s(U,O.sibling),Z=c(O,P.props.children),Z.return=U,U=Z;break t}}else if(O.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===A&&fg(yt)===O.type){s(U,O.sibling),Z=c(O,P.props),Sr(Z,P),Z.return=U,U=Z;break t}s(U,O);break}else n(U,O);O=O.sibling}P.type===K?(Z=ga(P.props.children,U.mode,Z,P.key),Z.return=U,U=Z):(Z=qo(P.type,P.key,P.props,null,U.mode,Z),Sr(Z,P),Z.return=U,U=Z)}return y(U);case k:t:{for(yt=P.key;O!==null;){if(O.key===yt)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){s(U,O.sibling),Z=c(O,P.children||[]),Z.return=U,U=Z;break t}else{s(U,O);break}else n(U,O);O=O.sibling}Z=Xc(P,U.mode,Z),Z.return=U,U=Z}return y(U);case A:return yt=P._init,P=yt(P._payload),ge(U,O,P,Z)}if(ye(P))return Lt(U,O,P,Z);if(M(P)){if(yt=M(P),typeof yt!="function")throw Error(l(150));return P=yt.call(P),xt(U,O,P,Z)}if(typeof P.then=="function")return ge(U,O,au(P),Z);if(P.$$typeof===ct)return ge(U,O,Yo(U,P),Z);lu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(s(U,O.sibling),Z=c(O,P),Z.return=U,U=Z):(s(U,O),Z=Kc(P,U.mode,Z),Z.return=U,U=Z),y(U)):s(U,O)}return function(U,O,P,Z){try{Ar=0;var yt=ge(U,O,P,Z);return hl=null,yt}catch(wt){if(wt===dr||wt===Ko)throw wt;var Ht=Bn(29,wt,null,U.mode);return Ht.lanes=Z,Ht.return=U,Ht}finally{}}}var fl=dg(!0),mg=dg(!1),ni=J(null),Ii=null;function Ss(t){var n=t.alternate;st(Je,Je.current&1),st(ni,t),Ii===null&&(n===null||rl.current!==null||n.memoizedState!==null)&&(Ii=t)}function gg(t){if(t.tag===22){if(st(Je,Je.current),st(ni,t),Ii===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Ii=t)}}else bs()}function bs(){st(Je,Je.current),st(ni,ni.current)}function ts(t){dt(ni),Ii===t&&(Ii=null),dt(Je)}var Je=J(0);function ru(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||_f(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Dh(t,n,s,r){n=t.memoizedState,s=s(r,n),s=s==null?n:S({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Ch={enqueueSetState:function(t,n,s){t=t._reactInternals;var r=Hn(),c=Ts(r);c.payload=n,s!=null&&(c.callback=s),n=Es(t,c,r),n!==null&&(Gn(n,t,r),gr(n,t,r))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var r=Hn(),c=Ts(r);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=Es(t,c,r),n!==null&&(Gn(n,t,r),gr(n,t,r))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Hn(),r=Ts(s);r.tag=2,n!=null&&(r.callback=n),n=Es(t,r,s),n!==null&&(Gn(n,t,s),gr(n,t,s))}};function pg(t,n,s,r,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,f,y):n.prototype&&n.prototype.isPureReactComponent?!ar(s,r)||!ar(c,f):!0}function yg(t,n,s,r){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,r),n.state!==t&&Ch.enqueueReplaceState(n,n.state,null)}function ba(t,n){var s=n;if("ref"in n){s={};for(var r in n)r!=="ref"&&(s[r]=n[r])}if(t=t.defaultProps){s===n&&(s=S({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}var ou=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function _g(t){ou(t)}function vg(t){console.error(t)}function Tg(t){ou(t)}function uu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(r){setTimeout(function(){throw r})}}function Eg(t,n,s){try{var r=t.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function xh(t,n,s){return s=Ts(s),s.tag=3,s.payload={element:null},s.callback=function(){uu(t,n)},s}function Ag(t){return t=Ts(t),t.tag=3,t}function Sg(t,n,s,r){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;t.payload=function(){return c(f)},t.callback=function(){Eg(n,s,r)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Eg(n,s,r),typeof c!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var T=r.stack;this.componentDidCatch(r.value,{componentStack:T!==null?T:""})})}function C0(t,n,s,r,c){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=s.alternate,n!==null&&cr(n,s,c,!0),s=ni.current,s!==null){switch(s.tag){case 13:return Ii===null?tf():s.alternate===null&&xe===0&&(xe=3),s.flags&=-257,s.flags|=65536,s.lanes=c,r===ah?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([r]):n.add(r),nf(t,r,c)),!1;case 22:return s.flags|=65536,r===ah?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([r]):s.add(r)),nf(t,r,c)),!1}throw Error(l(435,s.tag))}return nf(t,r,c),tf(),!1}if(ae)return n=ni.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,r!==$c&&(t=Error(l(422),{cause:r}),ur($n(t,s)))):(r!==$c&&(n=Error(l(423),{cause:r}),ur($n(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,r=$n(r,s),c=xh(t.stateNode,r,c),oh(t,c),xe!==4&&(xe=2)),!1;var f=Error(l(520),{cause:r});if(f=$n(f,s),xr===null?xr=[f]:xr.push(f),xe!==4&&(xe=2),n===null)return!0;r=$n(r,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=xh(s.stateNode,r,t),oh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(xs===null||!xs.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Ag(c),Sg(c,t,s,r),oh(s,c),!1}s=s.return}while(s!==null);return!1}var bg=Error(l(461)),rn=!1;function dn(t,n,s,r){n.child=t===null?mg(n,null,s,r):fl(n,t.child,s,r)}function wg(t,n,s,r,c){s=s.render;var f=n.ref;if("ref"in r){var y={};for(var T in r)T!=="ref"&&(y[T]=r[T])}else y=r;return Ea(n),r=dh(t,n,s,y,f,c),T=mh(),t!==null&&!rn?(gh(t,n,c),es(t,n,c)):(ae&&T&&Zc(n),n.flags|=1,dn(t,n,r,c),n.child)}function Rg(t,n,s,r,c){if(t===null){var f=s.type;return typeof f=="function"&&!Fc(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Ig(t,n,f,r,c)):(t=qo(s.type,null,r,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ph(t,c)){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:ar,s(y,r)&&t.ref===n.ref)return es(t,n,c)}return n.flags|=1,t=Ki(f,r),t.ref=n.ref,t.return=n,n.child=t}function Ig(t,n,s,r,c){if(t!==null){var f=t.memoizedProps;if(ar(f,r)&&t.ref===n.ref)if(rn=!1,n.pendingProps=r=f,Ph(t,c))(t.flags&131072)!==0&&(rn=!0);else return n.lanes=t.lanes,es(t,n,c)}return Vh(t,n,s,r,c)}function Dg(t,n,s){var r=n.pendingProps,c=r.children,f=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if((n.flags&128)!==0){if(r=f!==null?f.baseLanes|s:s,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~r}else n.childLanes=0,n.child=null;return Cg(t,n,r,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fo(n,f!==null?f.cachePool:null),f!==null?Im(n,f):ch(),gg(n);else return n.lanes=n.childLanes=536870912,Cg(t,n,f!==null?f.baseLanes|s:s,s)}else f!==null?(Fo(n,f.cachePool),Im(n,f),bs(),n.memoizedState=null):(t!==null&&Fo(n,null),ch(),bs());return dn(t,n,c,s),n.child}function Cg(t,n,s,r){var c=sh();return c=c===null?null:{parent:Ze._currentValue,pool:c},n.memoizedState={baseLanes:s,cachePool:c},t!==null&&Fo(n,null),ch(),gg(n),t!==null&&cr(t,n,r,!0),null}function cu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Vh(t,n,s,r,c){return Ea(n),s=dh(t,n,s,r,void 0,c),r=mh(),t!==null&&!rn?(gh(t,n,c),es(t,n,c)):(ae&&r&&Zc(n),n.flags|=1,dn(t,n,s,c),n.child)}function xg(t,n,s,r,c,f){return Ea(n),n.updateQueue=null,s=Cm(n,r,s,c),Dm(t),r=mh(),t!==null&&!rn?(gh(t,n,f),es(t,n,f)):(ae&&r&&Zc(n),n.flags|=1,dn(t,n,s,f),n.child)}function Vg(t,n,s,r,c){if(Ea(n),n.stateNode===null){var f=nl,y=s.contextType;typeof y=="object"&&y!==null&&(f=En(y)),f=new s(r,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ch,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=r,f.state=n.memoizedState,f.refs={},lh(n),y=s.contextType,f.context=typeof y=="object"&&y!==null?En(y):nl,f.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Dh(n,s,y,r),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Ch.enqueueReplaceState(f,f.state,null),yr(n,r,f,c),pr(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),r=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,R=ba(s,T);f.props=R;var B=f.context,X=s.contextType;y=nl,typeof X=="object"&&X!==null&&(y=En(X));var $=s.getDerivedStateFromProps;X=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||B!==y)&&yg(n,f,r,y),vs=!1;var q=n.memoizedState;f.state=q,yr(n,r,f,c),pr(),B=n.memoizedState,T||q!==B||vs?(typeof $=="function"&&(Dh(n,s,$,r),B=n.memoizedState),(R=vs||pg(n,s,R,r,q,B,y))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=B),f.props=r,f.state=B,f.context=y,r=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{f=n.stateNode,rh(t,n),y=n.memoizedProps,X=ba(s,y),f.props=X,$=n.pendingProps,q=f.context,B=s.contextType,R=nl,typeof B=="object"&&B!==null&&(R=En(B)),T=s.getDerivedStateFromProps,(B=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==$||q!==R)&&yg(n,f,r,R),vs=!1,q=n.memoizedState,f.state=q,yr(n,r,f,c),pr();var G=n.memoizedState;y!==$||q!==G||vs||t!==null&&t.dependencies!==null&&Qo(t.dependencies)?(typeof T=="function"&&(Dh(n,s,T,r),G=n.memoizedState),(X=vs||pg(n,s,X,r,q,G,R)||t!==null&&t.dependencies!==null&&Qo(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,G,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,G,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=G),f.props=r,f.state=G,f.context=R,r=X):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),r=!1)}return f=r,cu(t,n),r=(n.flags&128)!==0,f||r?(f=n.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&r?(n.child=fl(n,t.child,null,c),n.child=fl(n,null,s,c)):dn(t,n,s,c),n.memoizedState=f.state,t=n.child):t=es(t,n,c),t}function Ng(t,n,s,r){return or(),n.flags|=256,dn(t,n,s,r),n.child}var Nh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oh(t){return{baseLanes:t,cachePool:vm()}}function Mh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=ii),t}function Og(t,n,s){var r=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Je.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(ae){if(c?Ss(n):bs(),ae){var T=Ce,R;if(R=T){t:{for(R=T,T=Ri;R.nodeType!==8;){if(!T){T=null;break t}if(R=di(R.nextSibling),R===null){T=null;break t}}T=R}T!==null?(n.memoizedState={dehydrated:T,treeContext:pa!==null?{id:Xi,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},R=Bn(18,null,null,0),R.stateNode=T,R.return=n,n.child=R,Cn=n,Ce=null,R=!0):R=!1}R||va(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return _f(T)?n.lanes=32:n.lanes=536870912,null;ts(n)}return T=r.children,r=r.fallback,c?(bs(),c=n.mode,T=hu({mode:"hidden",children:T},c),r=ga(r,c,s,null),T.return=n,r.return=n,T.sibling=r,n.child=T,c=n.child,c.memoizedState=Oh(s),c.childLanes=Mh(t,y,s),n.memoizedState=Nh,r):(Ss(n),Lh(n,T))}if(R=t.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(Ss(n),n.flags&=-257,n=Uh(t,n,s)):n.memoizedState!==null?(bs(),n.child=t.child,n.flags|=128,n=null):(bs(),c=r.fallback,T=n.mode,r=hu({mode:"visible",children:r.children},T),c=ga(c,T,s,null),c.flags|=2,r.return=n,c.return=n,r.sibling=c,n.child=r,fl(n,t.child,null,s),r=n.child,r.memoizedState=Oh(s),r.childLanes=Mh(t,y,s),n.memoizedState=Nh,n=c);else if(Ss(n),_f(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var B=y.dgst;y=B,r=Error(l(419)),r.stack="",r.digest=y,ur({value:r,source:null,stack:null}),n=Uh(t,n,s)}else if(rn||cr(t,n,s,!1),y=(s&t.childLanes)!==0,rn||y){if(y=Te,y!==null&&(r=s&-s,r=(r&42)!==0?1:oi(r),r=(r&(y.suspendedLanes|s))!==0?0:r,r!==0&&r!==R.retryLane))throw R.retryLane=r,el(t,r),Gn(y,t,r),bg;T.data==="$?"||tf(),n=Uh(t,n,s)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,Ce=di(T.nextSibling),Cn=n,ae=!0,_a=null,Ri=!1,t!==null&&(ti[ei++]=Xi,ti[ei++]=Zi,ti[ei++]=pa,Xi=t.id,Zi=t.overflow,pa=n),n=Lh(n,r.children),n.flags|=4096);return n}return c?(bs(),c=r.fallback,T=n.mode,R=t.child,B=R.sibling,r=Ki(R,{mode:"hidden",children:r.children}),r.subtreeFlags=R.subtreeFlags&65011712,B!==null?c=Ki(B,c):(c=ga(c,T,s,null),c.flags|=2),c.return=n,r.return=n,r.sibling=c,n.child=r,r=c,c=n.child,T=t.child.memoizedState,T===null?T=Oh(s):(R=T.cachePool,R!==null?(B=Ze._currentValue,R=R.parent!==B?{parent:B,pool:B}:R):R=vm(),T={baseLanes:T.baseLanes|s,cachePool:R}),c.memoizedState=T,c.childLanes=Mh(t,y,s),n.memoizedState=Nh,r):(Ss(n),s=t.child,t=s.sibling,s=Ki(s,{mode:"visible",children:r.children}),s.return=n,s.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=s,n.memoizedState=null,s)}function Lh(t,n){return n=hu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function hu(t,n){return t=Bn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Uh(t,n,s){return fl(n,t.child,null,s),t=Lh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Mg(t,n,s){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n),th(t.return,n,s)}function zh(t,n,s,r,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=r,f.tail=s,f.tailMode=c)}function Lg(t,n,s){var r=n.pendingProps,c=r.revealOrder,f=r.tail;if(dn(t,n,r.children,s),r=Je.current,(r&2)!==0)r=r&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mg(t,s,n);else if(t.tag===19)Mg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(st(Je,r),c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&ru(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),zh(n,!1,c,s,f);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&ru(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}zh(n,!0,s,null,f);break;case"together":zh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function es(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Cs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(cr(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(l(153));if(n.child!==null){for(t=n.child,s=Ki(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Ki(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Ph(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Qo(t)))}function x0(t,n,s){switch(n.tag){case 3:le(n,n.stateNode.containerInfo),_s(n,Ze,t.memoizedState.cache),or();break;case 27:case 5:kt(n);break;case 4:le(n,n.stateNode.containerInfo);break;case 10:_s(n,n.type,n.memoizedProps.value);break;case 13:var r=n.memoizedState;if(r!==null)return r.dehydrated!==null?(Ss(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Og(t,n,s):(Ss(n),t=es(t,n,s),t!==null?t.sibling:null);Ss(n);break;case 19:var c=(t.flags&128)!==0;if(r=(s&n.childLanes)!==0,r||(cr(t,n,s,!1),r=(s&n.childLanes)!==0),c){if(r)return Lg(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),st(Je,Je.current),r)break;return null;case 22:case 23:return n.lanes=0,Dg(t,n,s);case 24:_s(n,Ze,t.memoizedState.cache)}return es(t,n,s)}function Ug(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)rn=!0;else{if(!Ph(t,s)&&(n.flags&128)===0)return rn=!1,x0(t,n,s);rn=(t.flags&131072)!==0}else rn=!1,ae&&(n.flags&1048576)!==0&&fm(n,Go,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var r=n.elementType,c=r._init;if(r=c(r._payload),n.type=r,typeof r=="function")Fc(r)?(t=ba(r,t),n.tag=1,n=Vg(null,n,r,t,s)):(n.tag=0,n=Vh(null,n,r,t,s));else{if(r!=null){if(c=r.$$typeof,c===Vt){n.tag=11,n=wg(null,n,r,t,s);break t}else if(c===x){n.tag=14,n=Rg(null,n,r,t,s);break t}}throw n=Se(r)||r,Error(l(306,n,""))}}return n;case 0:return Vh(t,n,n.type,n.pendingProps,s);case 1:return r=n.type,c=ba(r,n.pendingProps),Vg(t,n,r,c,s);case 3:t:{if(le(n,n.stateNode.containerInfo),t===null)throw Error(l(387));r=n.pendingProps;var f=n.memoizedState;c=f.element,rh(t,n),yr(n,r,null,s);var y=n.memoizedState;if(r=y.cache,_s(n,Ze,r),r!==f.cache&&eh(n,[Ze],s,!0),pr(),r=y.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ng(t,n,r,s);break t}else if(r!==c){c=$n(Error(l(424)),n),ur(c),n=Ng(t,n,r,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ce=di(t.firstChild),Cn=n,ae=!0,_a=null,Ri=!0,s=mg(n,null,r,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(or(),r===c){n=es(t,n,s);break t}dn(t,n,r,s)}n=n.child}return n;case 26:return cu(t,n),t===null?(s=jp(n.type,null,n.pendingProps,null))?n.memoizedState=s:ae||(s=n.type,t=n.pendingProps,r=wu(It.current).createElement(s),r[Fe]=n,r[Be]=t,gn(r,s,t),Ne(r),n.stateNode=r):n.memoizedState=jp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return kt(n),t===null&&ae&&(r=n.stateNode=zp(n.type,n.pendingProps,It.current),Cn=n,Ri=!0,c=Ce,Os(n.type)?(vf=c,Ce=di(r.firstChild)):Ce=c),dn(t,n,n.pendingProps.children,s),cu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ae&&((c=r=Ce)&&(r=sT(r,n.type,n.pendingProps,Ri),r!==null?(n.stateNode=r,Cn=n,Ce=di(r.firstChild),Ri=!1,c=!0):c=!1),c||va(n)),kt(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,r=f.children,gf(c,f)?r=null:y!==null&&gf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=dh(t,n,A0,null,null,s),Br._currentValue=c),cu(t,n),dn(t,n,r,s),n.child;case 6:return t===null&&ae&&((t=s=Ce)&&(s=aT(s,n.pendingProps,Ri),s!==null?(n.stateNode=s,Cn=n,Ce=null,t=!0):t=!1),t||va(n)),null;case 13:return Og(t,n,s);case 4:return le(n,n.stateNode.containerInfo),r=n.pendingProps,t===null?n.child=fl(n,null,r,s):dn(t,n,r,s),n.child;case 11:return wg(t,n,n.type,n.pendingProps,s);case 7:return dn(t,n,n.pendingProps,s),n.child;case 8:return dn(t,n,n.pendingProps.children,s),n.child;case 12:return dn(t,n,n.pendingProps.children,s),n.child;case 10:return r=n.pendingProps,_s(n,n.type,r.value),dn(t,n,r.children,s),n.child;case 9:return c=n.type._context,r=n.pendingProps.children,Ea(n),c=En(c),r=r(c),n.flags|=1,dn(t,n,r,s),n.child;case 14:return Rg(t,n,n.type,n.pendingProps,s);case 15:return Ig(t,n,n.type,n.pendingProps,s);case 19:return Lg(t,n,s);case 31:return r=n.pendingProps,s=n.mode,r={mode:r.mode,children:r.children},t===null?(s=hu(r,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Ki(t.child,r),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return Dg(t,n,s);case 24:return Ea(n),r=En(Ze),t===null?(c=sh(),c===null&&(c=Te,f=nh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:r,cache:c},lh(n),_s(n,Ze,c)):((t.lanes&s)!==0&&(rh(t,n),yr(n,null,null,s),pr()),c=t.memoizedState,f=n.memoizedState,c.parent!==r?(c={parent:r,cache:r},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),_s(n,Ze,r)):(r=f.cache,_s(n,Ze,r),r!==c.cache&&eh(n,[Ze],s,!0))),dn(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function ns(t){t.flags|=4}function zg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Qp(n)){if(n=ni.current,n!==null&&((Jt&4194048)===Jt?Ii!==null:(Jt&62914560)!==Jt&&(Jt&536870912)===0||n!==Ii))throw mr=ah,Tm;t.flags|=8192}}function fu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Nt():536870912,t.lanes|=n,pl|=n)}function br(t,n){if(!ae)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,r=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=r,t.childLanes=s,n}function V0(t,n,s){var r=n.pendingProps;switch(Jc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(n),null;case 1:return Ie(n),null;case 3:return s=n.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),$i(Ze),bt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(rr(n)?ns(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,gm())),Ie(n),null;case 26:return s=n.memoizedState,t===null?(ns(n),s!==null?(Ie(n),zg(n,s)):(Ie(n),n.flags&=-16777217)):s?s!==t.memoizedState?(ns(n),Ie(n),zg(n,s)):(Ie(n),n.flags&=-16777217):(t.memoizedProps!==r&&ns(n),Ie(n),n.flags&=-16777217),null;case 27:Bt(n),s=It.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==r&&ns(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return Ie(n),null}t=St.current,rr(n)?dm(n):(t=zp(c,r,s),n.stateNode=t,ns(n))}return Ie(n),null;case 5:if(Bt(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==r&&ns(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return Ie(n),null}if(t=St.current,rr(n))dm(n);else{switch(c=wu(It.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?c.createElement("select",{is:r.is}):c.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?c.createElement(s,{is:r.is}):c.createElement(s)}}t[Fe]=n,t[Be]=r;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(gn(t,s,r),s){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&ns(n)}}return Ie(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==r&&ns(n);else{if(typeof r!="string"&&n.stateNode===null)throw Error(l(166));if(t=It.current,rr(n)){if(t=n.stateNode,s=n.memoizedProps,r=null,c=Cn,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}t[Fe]=n,t=!!(t.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||xp(t.nodeValue,s)),t||va(n)}else t=wu(t).createTextNode(r),t[Fe]=n,n.stateNode=t}return Ie(n),null;case 13:if(r=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=rr(n),r!==null&&r.dehydrated!==null){if(t===null){if(!c)throw Error(l(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[Fe]=n}else or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ie(n),c=!1}else c=gm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(ts(n),n):(ts(n),null)}if(ts(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=r!==null,t=t!==null&&t.memoizedState!==null,s){r=n.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool);var f=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==c&&(r.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),fu(n,n.updateQueue),Ie(n),null;case 4:return bt(),t===null&&cf(n.stateNode.containerInfo),Ie(n),null;case 10:return $i(n.type),Ie(n),null;case 19:if(dt(Je),c=n.memoizedState,c===null)return Ie(n),null;if(r=(n.flags&128)!==0,f=c.rendering,f===null)if(r)br(c,!1);else{if(xe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ru(t),f!==null){for(n.flags|=128,br(c,!1),t=f.updateQueue,n.updateQueue=t,fu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)hm(s,t),s=s.sibling;return st(Je,Je.current&1|2),n.child}t=t.sibling}c.tail!==null&&Pe()>gu&&(n.flags|=128,r=!0,br(c,!1),n.lanes=4194304)}else{if(!r)if(t=ru(f),t!==null){if(n.flags|=128,r=!0,t=t.updateQueue,n.updateQueue=t,fu(n,t),br(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!ae)return Ie(n),null}else 2*Pe()-c.renderingStartTime>gu&&s!==536870912&&(n.flags|=128,r=!0,br(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Pe(),n.sibling=null,t=Je.current,st(Je,r?t&1|2:t&1),n):(Ie(n),null);case 22:case 23:return ts(n),hh(),r=n.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?(s&536870912)!==0&&(n.flags&128)===0&&(Ie(n),n.subtreeFlags&6&&(n.flags|=8192)):Ie(n),s=n.updateQueue,s!==null&&fu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==s&&(n.flags|=2048),t!==null&&dt(Aa),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),$i(Ze),Ie(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function N0(t,n){switch(Jc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return $i(Ze),bt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Bt(n),null;case 13:if(ts(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(l(340));or()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return dt(Je),null;case 4:return bt(),null;case 10:return $i(n.type),null;case 22:case 23:return ts(n),hh(),t!==null&&dt(Aa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return $i(Ze),null;case 25:return null;default:return null}}function Pg(t,n){switch(Jc(n),n.tag){case 3:$i(Ze),bt();break;case 26:case 27:case 5:Bt(n);break;case 4:bt();break;case 13:ts(n);break;case 19:dt(Je);break;case 10:$i(n.type);break;case 22:case 23:ts(n),hh(),t!==null&&dt(Aa);break;case 24:$i(Ze)}}function wr(t,n){try{var s=n.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var c=r.next;s=c;do{if((s.tag&t)===t){r=void 0;var f=s.create,y=s.inst;r=f(),y.destroy=r}s=s.next}while(s!==c)}}catch(T){pe(n,n.return,T)}}function ws(t,n,s){try{var r=n.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var f=c.next;r=f;do{if((r.tag&t)===t){var y=r.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,c=n;var R=s,B=T;try{B()}catch(X){pe(c,R,X)}}}r=r.next}while(r!==f)}}catch(X){pe(n,n.return,X)}}function Bg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Rm(n,s)}catch(r){pe(t,t.return,r)}}}function jg(t,n,s){s.props=ba(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(r){pe(t,n,r)}}function Rr(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof s=="function"?t.refCleanup=s(r):s.current=r}}catch(c){pe(t,n,c)}}function Di(t,n){var s=t.ref,r=t.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(c){pe(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){pe(t,n,c)}else s.current=null}function kg(t){var n=t.type,s=t.memoizedProps,r=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break t;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(c){pe(t,t.return,c)}}function Bh(t,n,s){try{var r=t.stateNode;W0(r,t.type,s,n),r[Be]=n}catch(c){pe(t,t.return,c)}}function qg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Os(t.type)||t.tag===4}function jh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||qg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Os(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kh(t,n,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=bu));else if(r!==4&&(r===27&&Os(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(kh(t,n,s),t=t.sibling;t!==null;)kh(t,n,s),t=t.sibling}function du(t,n,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(r!==4&&(r===27&&Os(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(du(t,n,s),t=t.sibling;t!==null;)du(t,n,s),t=t.sibling}function Hg(t){var n=t.stateNode,s=t.memoizedProps;try{for(var r=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);gn(n,r,s),n[Fe]=t,n[Be]=s}catch(f){pe(t,t.return,f)}}var is=!1,Me=!1,qh=!1,Gg=typeof WeakSet=="function"?WeakSet:Set,on=null;function O0(t,n){if(t=t.containerInfo,df=Vu,t=em(t),jc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var c=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var y=0,T=-1,R=-1,B=0,X=0,$=t,q=null;e:for(;;){for(var G;$!==s||c!==0&&$.nodeType!==3||(T=y+c),$!==f||r!==0&&$.nodeType!==3||(R=y+r),$.nodeType===3&&(y+=$.nodeValue.length),(G=$.firstChild)!==null;)q=$,$=G;for(;;){if($===t)break e;if(q===s&&++B===c&&(T=y),q===f&&++X===r&&(R=y),(G=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=G}s=T===-1||R===-1?null:{start:T,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(mf={focusedElem:t,selectionRange:s},Vu=!1,on=n;on!==null;)if(n=on,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,on=t;else for(;on!==null;){switch(n=on,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,r=s.stateNode;try{var Lt=ba(s.type,c,s.elementType===s.type);t=r.getSnapshotBeforeUpdate(Lt,f),r.__reactInternalSnapshotBeforeUpdate=t}catch(xt){pe(s,s.return,xt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)yf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=n.sibling,t!==null){t.return=n.return,on=t;break}on=n.return}}function Qg(t,n,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:Rs(t,s),r&4&&wr(5,s);break;case 1:if(Rs(t,s),r&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(y){pe(s,s.return,y)}else{var c=ba(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){pe(s,s.return,y)}}r&64&&Bg(s),r&512&&Rr(s,s.return);break;case 3:if(Rs(t,s),r&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Rm(t,n)}catch(y){pe(s,s.return,y)}}break;case 27:n===null&&r&4&&Hg(s);case 26:case 5:Rs(t,s),n===null&&r&4&&kg(s),r&512&&Rr(s,s.return);break;case 12:Rs(t,s);break;case 13:Rs(t,s),r&4&&Kg(t,s),r&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=q0.bind(null,s),lT(t,s))));break;case 22:if(r=s.memoizedState!==null||is,!r){n=n!==null&&n.memoizedState!==null||Me,c=is;var f=Me;is=r,(Me=n)&&!f?Is(t,s,(s.subtreeFlags&8772)!==0):Rs(t,s),is=c,Me=f}break;case 30:break;default:Rs(t,s)}}function Yg(t){var n=t.alternate;n!==null&&(t.alternate=null,Yg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ms(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Re=null,Nn=!1;function ss(t,n,s){for(s=s.child;s!==null;)Fg(t,n,s),s=s.sibling}function Fg(t,n,s){if(se&&typeof se.onCommitFiberUnmount=="function")try{se.onCommitFiberUnmount(be,s)}catch{}switch(s.tag){case 26:Me||Di(s,n),ss(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Me||Di(s,n);var r=Re,c=Nn;Os(s.type)&&(Re=s.stateNode,Nn=!1),ss(t,n,s),Lr(s.stateNode),Re=r,Nn=c;break;case 5:Me||Di(s,n);case 6:if(r=Re,c=Nn,Re=null,ss(t,n,s),Re=r,Nn=c,Re!==null)if(Nn)try{(Re.nodeType===9?Re.body:Re.nodeName==="HTML"?Re.ownerDocument.body:Re).removeChild(s.stateNode)}catch(f){pe(s,n,f)}else try{Re.removeChild(s.stateNode)}catch(f){pe(s,n,f)}break;case 18:Re!==null&&(Nn?(t=Re,Lp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Hr(t)):Lp(Re,s.stateNode));break;case 4:r=Re,c=Nn,Re=s.stateNode.containerInfo,Nn=!0,ss(t,n,s),Re=r,Nn=c;break;case 0:case 11:case 14:case 15:Me||ws(2,s,n),Me||ws(4,s,n),ss(t,n,s);break;case 1:Me||(Di(s,n),r=s.stateNode,typeof r.componentWillUnmount=="function"&&jg(s,n,r)),ss(t,n,s);break;case 21:ss(t,n,s);break;case 22:Me=(r=Me)||s.memoizedState!==null,ss(t,n,s),Me=r;break;default:ss(t,n,s)}}function Kg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Hr(t)}catch(s){pe(n,n.return,s)}}function M0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Gg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Gg),n;default:throw Error(l(435,t.tag))}}function Hh(t,n){var s=M0(t);n.forEach(function(r){var c=H0.bind(null,t,r);s.has(r)||(s.add(r),r.then(c,c))})}function jn(t,n){var s=n.deletions;if(s!==null)for(var r=0;r<s.length;r++){var c=s[r],f=t,y=n,T=y;t:for(;T!==null;){switch(T.tag){case 27:if(Os(T.type)){Re=T.stateNode,Nn=!1;break t}break;case 5:Re=T.stateNode,Nn=!1;break t;case 3:case 4:Re=T.stateNode.containerInfo,Nn=!0;break t}T=T.return}if(Re===null)throw Error(l(160));Fg(f,y,c),Re=null,Nn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Xg(n,t),n=n.sibling}var fi=null;function Xg(t,n){var s=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:jn(n,t),kn(t),r&4&&(ws(3,t,t.return),wr(3,t),ws(5,t,t.return));break;case 1:jn(n,t),kn(t),r&512&&(Me||s===null||Di(s,s.return)),r&64&&is&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var c=fi;if(jn(n,t),kn(t),r&512&&(Me||s===null||Di(s,s.return)),r&4){var f=s!==null?s.memoizedState:null;if(r=t.memoizedState,s===null)if(r===null)if(t.stateNode===null){t:{r=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(r){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Ws]||f[Fe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(r),c.head.insertBefore(f,c.querySelector("head > title"))),gn(f,r,s),f[Fe]=t,Ne(f),r=f;break t;case"link":var y=Hp("link","href",c).get(r+(s.href||""));if(y){for(var T=0;T<y.length;T++)if(f=y[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(T,1);break e}}f=c.createElement(r),gn(f,r,s),c.head.appendChild(f);break;case"meta":if(y=Hp("meta","content",c).get(r+(s.content||""))){for(T=0;T<y.length;T++)if(f=y[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(T,1);break e}}f=c.createElement(r),gn(f,r,s),c.head.appendChild(f);break;default:throw Error(l(468,r))}f[Fe]=t,Ne(f),r=f}t.stateNode=r}else Gp(c,t.type,t.stateNode);else t.stateNode=qp(c,r,t.memoizedProps);else f!==r?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,r===null?Gp(c,t.type,t.stateNode):qp(c,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Bh(t,t.memoizedProps,s.memoizedProps)}break;case 27:jn(n,t),kn(t),r&512&&(Me||s===null||Di(s,s.return)),s!==null&&r&4&&Bh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(jn(n,t),kn(t),r&512&&(Me||s===null||Di(s,s.return)),t.flags&32){c=t.stateNode;try{Kn(c,"")}catch(G){pe(t,t.return,G)}}r&4&&t.stateNode!=null&&(c=t.memoizedProps,Bh(t,c,s!==null?s.memoizedProps:c)),r&1024&&(qh=!0);break;case 6:if(jn(n,t),kn(t),r&4){if(t.stateNode===null)throw Error(l(162));r=t.memoizedProps,s=t.stateNode;try{s.nodeValue=r}catch(G){pe(t,t.return,G)}}break;case 3:if(Du=null,c=fi,fi=Ru(n.containerInfo),jn(n,t),fi=c,kn(t),r&4&&s!==null&&s.memoizedState.isDehydrated)try{Hr(n.containerInfo)}catch(G){pe(t,t.return,G)}qh&&(qh=!1,Zg(t));break;case 4:r=fi,fi=Ru(t.stateNode.containerInfo),jn(n,t),kn(t),fi=r;break;case 12:jn(n,t),kn(t);break;case 13:jn(n,t),kn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Xh=Pe()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Hh(t,r)));break;case 22:c=t.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,B=is,X=Me;if(is=B||c,Me=X||R,jn(n,t),Me=X,is=B,kn(t),r&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||R||is||Me||wa(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=R.stateNode;var $=R.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(G){pe(R,R.return,G)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(G){pe(R,R.return,G)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}r&4&&(r=t.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,Hh(t,s))));break;case 19:jn(n,t),kn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Hh(t,r)));break;case 30:break;case 21:break;default:jn(n,t),kn(t)}}function kn(t){var n=t.flags;if(n&2){try{for(var s,r=t.return;r!==null;){if(qg(r)){s=r;break}r=r.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var c=s.stateNode,f=jh(t);du(t,f,c);break;case 5:var y=s.stateNode;s.flags&32&&(Kn(y,""),s.flags&=-33);var T=jh(t);du(t,T,y);break;case 3:case 4:var R=s.stateNode.containerInfo,B=jh(t);kh(t,B,R);break;default:throw Error(l(161))}}catch(X){pe(t,t.return,X)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Zg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Zg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Rs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Qg(t,n.alternate,n),n=n.sibling}function wa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ws(4,n,n.return),wa(n);break;case 1:Di(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&jg(n,n.return,s),wa(n);break;case 27:Lr(n.stateNode);case 26:case 5:Di(n,n.return),wa(n);break;case 22:n.memoizedState===null&&wa(n);break;case 30:wa(n);break;default:wa(n)}t=t.sibling}}function Is(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var r=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Is(c,f,s),wr(4,f);break;case 1:if(Is(c,f,s),r=f,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){pe(r,r.return,B)}if(r=f,c=r.updateQueue,c!==null){var T=r.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)wm(R[c],T)}catch(B){pe(r,r.return,B)}}s&&y&64&&Bg(f),Rr(f,f.return);break;case 27:Hg(f);case 26:case 5:Is(c,f,s),s&&r===null&&y&4&&kg(f),Rr(f,f.return);break;case 12:Is(c,f,s);break;case 13:Is(c,f,s),s&&y&4&&Kg(c,f);break;case 22:f.memoizedState===null&&Is(c,f,s),Rr(f,f.return);break;case 30:break;default:Is(c,f,s)}n=n.sibling}}function Gh(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&hr(s))}function Qh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&hr(t))}function Ci(t,n,s,r){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Jg(t,n,s,r),n=n.sibling}function Jg(t,n,s,r){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Ci(t,n,s,r),c&2048&&wr(9,n);break;case 1:Ci(t,n,s,r);break;case 3:Ci(t,n,s,r),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&hr(t)));break;case 12:if(c&2048){Ci(t,n,s,r),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,T=f.onPostCommit;typeof T=="function"&&T(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){pe(n,n.return,R)}}else Ci(t,n,s,r);break;case 13:Ci(t,n,s,r);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Ci(t,n,s,r):Ir(t,n):f._visibility&2?Ci(t,n,s,r):(f._visibility|=2,dl(t,n,s,r,(n.subtreeFlags&10256)!==0)),c&2048&&Gh(y,n);break;case 24:Ci(t,n,s,r),c&2048&&Qh(n.alternate,n);break;default:Ci(t,n,s,r)}}function dl(t,n,s,r,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,T=s,R=r,B=y.flags;switch(y.tag){case 0:case 11:case 15:dl(f,y,T,R,c),wr(8,y);break;case 23:break;case 22:var X=y.stateNode;y.memoizedState!==null?X._visibility&2?dl(f,y,T,R,c):Ir(f,y):(X._visibility|=2,dl(f,y,T,R,c)),c&&B&2048&&Gh(y.alternate,y);break;case 24:dl(f,y,T,R,c),c&&B&2048&&Qh(y.alternate,y);break;default:dl(f,y,T,R,c)}n=n.sibling}}function Ir(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,r=n,c=r.flags;switch(r.tag){case 22:Ir(s,r),c&2048&&Gh(r.alternate,r);break;case 24:Ir(s,r),c&2048&&Qh(r.alternate,r);break;default:Ir(s,r)}n=n.sibling}}var Dr=8192;function ml(t){if(t.subtreeFlags&Dr)for(t=t.child;t!==null;)$g(t),t=t.sibling}function $g(t){switch(t.tag){case 26:ml(t),t.flags&Dr&&t.memoizedState!==null&&vT(fi,t.memoizedState,t.memoizedProps);break;case 5:ml(t);break;case 3:case 4:var n=fi;fi=Ru(t.stateNode.containerInfo),ml(t),fi=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Dr,Dr=16777216,ml(t),Dr=n):ml(t));break;default:ml(t)}}function Wg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Cr(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];on=r,ep(r,t)}Wg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)tp(t),t=t.sibling}function tp(t){switch(t.tag){case 0:case 11:case 15:Cr(t),t.flags&2048&&ws(9,t,t.return);break;case 3:Cr(t);break;case 12:Cr(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,mu(t)):Cr(t);break;default:Cr(t)}}function mu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];on=r,ep(r,t)}Wg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ws(8,n,n.return),mu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,mu(n));break;default:mu(n)}t=t.sibling}}function ep(t,n){for(;on!==null;){var s=on;switch(s.tag){case 0:case 11:case 15:ws(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:hr(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,on=r;else t:for(s=t;on!==null;){r=on;var c=r.sibling,f=r.return;if(Yg(r),r===s){on=null;break t}if(c!==null){c.return=f,on=c;break t}on=f}}}var L0={getCacheForType:function(t){var n=En(Ze),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},U0=typeof WeakMap=="function"?WeakMap:Map,ue=0,Te=null,Gt=null,Jt=0,ce=0,qn=null,Ds=!1,gl=!1,Yh=!1,as=0,xe=0,Cs=0,Ra=0,Fh=0,ii=0,pl=0,xr=null,On=null,Kh=!1,Xh=0,gu=1/0,pu=null,xs=null,mn=0,Vs=null,yl=null,_l=0,Zh=0,Jh=null,np=null,Vr=0,$h=null;function Hn(){if((ue&2)!==0&&Jt!==0)return Jt&-Jt;if(Q.T!==null){var t=al;return t!==0?t:lf()}return ve()}function ip(){ii===0&&(ii=(Jt&536870912)===0||ae?at():536870912);var t=ni.current;return t!==null&&(t.flags|=32),ii}function Gn(t,n,s){(t===Te&&(ce===2||ce===9)||t.cancelPendingCommit!==null)&&(vl(t,0),Ns(t,Jt,ii,!1)),sn(t,s),((ue&2)===0||t!==Te)&&(t===Te&&((ue&2)===0&&(Ra|=s),xe===4&&Ns(t,Jt,ii,!1)),xi(t))}function sp(t,n,s){if((ue&6)!==0)throw Error(l(327));var r=!s&&(n&124)===0&&(n&t.expiredLanes)===0||ht(t,n),c=r?B0(t,n):ef(t,n,!0),f=r;do{if(c===0){gl&&!r&&Ns(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!z0(s)){c=ef(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var T=t;c=xr;var R=T.current.memoizedState.isDehydrated;if(R&&(vl(T,y).flags|=256),y=ef(T,y,!1),y!==2){if(Yh&&!R){T.errorRecoveryDisabledLanes|=f,Ra|=f,c=4;break t}f=On,On=c,f!==null&&(On===null?On=f:On.push.apply(On,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){vl(t,0),Ns(t,n,0,!0);break}t:{switch(r=t,f=c,f){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:Ns(r,n,ii,!Ds);break t;case 2:On=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(c=Xh+300-Pe(),10<c)){if(Ns(r,n,ii,!Ds),Rt(r,0,!0)!==0)break t;r.timeoutHandle=Op(ap.bind(null,r,s,On,pu,Kh,n,ii,Ra,pl,Ds,f,2,-0,0),c);break t}ap(r,s,On,pu,Kh,n,ii,Ra,pl,Ds,f,0,-0,0)}}break}while(!0);xi(t)}function ap(t,n,s,r,c,f,y,T,R,B,X,$,q,G){if(t.timeoutHandle=-1,$=n.subtreeFlags,($&8192||($&16785408)===16785408)&&(Pr={stylesheets:null,count:0,unsuspend:_T},$g(n),$=TT(),$!==null)){t.cancelPendingCommit=$(fp.bind(null,t,n,f,s,r,c,y,T,R,X,1,q,G)),Ns(t,f,y,!B);return}fp(t,n,f,s,r,c,y,T,R)}function z0(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var c=s[r],f=c.getSnapshot;c=c.value;try{if(!Pn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ns(t,n,s,r){n&=~Fh,n&=~Ra,t.suspendedLanes|=n,t.pingedLanes&=~n,r&&(t.warmLanes|=n),r=t.expirationTimes;for(var c=n;0<c;){var f=31-nn(c),y=1<<f;r[f]=-1,c&=~y}s!==0&&Et(t,s,n)}function yu(){return(ue&6)===0?(Nr(0),!1):!0}function Wh(){if(Gt!==null){if(ce===0)var t=Gt.return;else t=Gt,Ji=Ta=null,ph(t),hl=null,Ar=0,t=Gt;for(;t!==null;)Pg(t.alternate,t),t=t.return;Gt=null}}function vl(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,eT(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Wh(),Te=t,Gt=s=Ki(t.current,null),Jt=n,ce=0,qn=null,Ds=!1,gl=ht(t,n),Yh=!1,pl=ii=Fh=Ra=Cs=xe=0,On=xr=null,Kh=!1,(n&8)!==0&&(n|=n&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=n;0<r;){var c=31-nn(r),f=1<<c;n|=t[c],r&=~f}return as=n,Bo(),s}function lp(t,n){qt=null,Q.H=su,n===dr||n===Ko?(n=Sm(),ce=3):n===Tm?(n=Sm(),ce=4):ce=n===bg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,qn=n,Gt===null&&(xe=1,uu(t,$n(n,t.current)))}function rp(){var t=Q.H;return Q.H=su,t===null?su:t}function op(){var t=Q.A;return Q.A=L0,t}function tf(){xe=4,Ds||(Jt&4194048)!==Jt&&ni.current!==null||(gl=!0),(Cs&134217727)===0&&(Ra&134217727)===0||Te===null||Ns(Te,Jt,ii,!1)}function ef(t,n,s){var r=ue;ue|=2;var c=rp(),f=op();(Te!==t||Jt!==n)&&(pu=null,vl(t,n)),n=!1;var y=xe;t:do try{if(ce!==0&&Gt!==null){var T=Gt,R=qn;switch(ce){case 8:Wh(),y=6;break t;case 3:case 2:case 9:case 6:ni.current===null&&(n=!0);var B=ce;if(ce=0,qn=null,Tl(t,T,R,B),s&&gl){y=0;break t}break;default:B=ce,ce=0,qn=null,Tl(t,T,R,B)}}P0(),y=xe;break}catch(X){lp(t,X)}while(!0);return n&&t.shellSuspendCounter++,Ji=Ta=null,ue=r,Q.H=c,Q.A=f,Gt===null&&(Te=null,Jt=0,Bo()),y}function P0(){for(;Gt!==null;)up(Gt)}function B0(t,n){var s=ue;ue|=2;var r=rp(),c=op();Te!==t||Jt!==n?(pu=null,gu=Pe()+500,vl(t,n)):gl=ht(t,n);t:do try{if(ce!==0&&Gt!==null){n=Gt;var f=qn;e:switch(ce){case 1:ce=0,qn=null,Tl(t,n,f,1);break;case 2:case 9:if(Em(f)){ce=0,qn=null,cp(n);break}n=function(){ce!==2&&ce!==9||Te!==t||(ce=7),xi(t)},f.then(n,n);break t;case 3:ce=7;break t;case 4:ce=5;break t;case 7:Em(f)?(ce=0,qn=null,cp(n)):(ce=0,qn=null,Tl(t,n,f,7));break;case 5:var y=null;switch(Gt.tag){case 26:y=Gt.memoizedState;case 5:case 27:var T=Gt;if(!y||Qp(y)){ce=0,qn=null;var R=T.sibling;if(R!==null)Gt=R;else{var B=T.return;B!==null?(Gt=B,_u(B)):Gt=null}break e}}ce=0,qn=null,Tl(t,n,f,5);break;case 6:ce=0,qn=null,Tl(t,n,f,6);break;case 8:Wh(),xe=6;break t;default:throw Error(l(462))}}j0();break}catch(X){lp(t,X)}while(!0);return Ji=Ta=null,Q.H=r,Q.A=c,ue=s,Gt!==null?0:(Te=null,Jt=0,Bo(),xe)}function j0(){for(;Gt!==null&&!ze();)up(Gt)}function up(t){var n=Ug(t.alternate,t,as);t.memoizedProps=t.pendingProps,n===null?_u(t):Gt=n}function cp(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=xg(s,n,n.pendingProps,n.type,void 0,Jt);break;case 11:n=xg(s,n,n.pendingProps,n.type.render,n.ref,Jt);break;case 5:ph(n);default:Pg(s,n),n=Gt=hm(n,as),n=Ug(s,n,as)}t.memoizedProps=t.pendingProps,n===null?_u(t):Gt=n}function Tl(t,n,s,r){Ji=Ta=null,ph(n),hl=null,Ar=0;var c=n.return;try{if(C0(t,c,n,s,Jt)){xe=1,uu(t,$n(s,t.current)),Gt=null;return}}catch(f){if(c!==null)throw Gt=c,f;xe=1,uu(t,$n(s,t.current)),Gt=null;return}n.flags&32768?(ae||r===1?t=!0:gl||(Jt&536870912)!==0?t=!1:(Ds=t=!0,(r===2||r===9||r===3||r===6)&&(r=ni.current,r!==null&&r.tag===13&&(r.flags|=16384))),hp(n,t)):_u(n)}function _u(t){var n=t;do{if((n.flags&32768)!==0){hp(n,Ds);return}t=n.return;var s=V0(n.alternate,n,as);if(s!==null){Gt=s;return}if(n=n.sibling,n!==null){Gt=n;return}Gt=n=t}while(n!==null);xe===0&&(xe=5)}function hp(t,n){do{var s=N0(t.alternate,t);if(s!==null){s.flags&=32767,Gt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Gt=t;return}Gt=t=s}while(t!==null);xe=6,Gt=null}function fp(t,n,s,r,c,f,y,T,R){t.cancelPendingCommit=null;do vu();while(mn!==0);if((ue&6)!==0)throw Error(l(327));if(n!==null){if(n===t.current)throw Error(l(177));if(f=n.lanes|n.childLanes,f|=Qc,Un(t,s,f,y,T,R),t===Te&&(Gt=Te=null,Jt=0),yl=n,Vs=t,_l=s,Zh=f,Jh=c,np=r,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,G0(Ln,function(){return yp(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||r){r=Q.T,Q.T=null,c=ut.p,ut.p=2,y=ue,ue|=4;try{O0(t,n,s)}finally{ue=y,ut.p=c,Q.T=r}}mn=1,dp(),mp(),gp()}}function dp(){if(mn===1){mn=0;var t=Vs,n=yl,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var r=ut.p;ut.p=2;var c=ue;ue|=4;try{Xg(n,t);var f=mf,y=em(t.containerInfo),T=f.focusedElem,R=f.selectionRange;if(y!==T&&T&&T.ownerDocument&&tm(T.ownerDocument.documentElement,T)){if(R!==null&&jc(T)){var B=R.start,X=R.end;if(X===void 0&&(X=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(X,T.value.length);else{var $=T.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var G=q.getSelection(),Lt=T.textContent.length,xt=Math.min(R.start,Lt),ge=R.end===void 0?xt:Math.min(R.end,Lt);!G.extend&&xt>ge&&(y=ge,ge=xt,xt=y);var U=Wd(T,xt),O=Wd(T,ge);if(U&&O&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==O.node||G.focusOffset!==O.offset)){var P=$.createRange();P.setStart(U.node,U.offset),G.removeAllRanges(),xt>ge?(G.addRange(P),G.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),G.addRange(P))}}}}for($=[],G=T;G=G.parentNode;)G.nodeType===1&&$.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var Z=$[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Vu=!!df,mf=df=null}finally{ue=c,ut.p=r,Q.T=s}}t.current=n,mn=2}}function mp(){if(mn===2){mn=0;var t=Vs,n=yl,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var r=ut.p;ut.p=2;var c=ue;ue|=4;try{Qg(t,n.alternate,n)}finally{ue=c,ut.p=r,Q.T=s}}mn=3}}function gp(){if(mn===4||mn===3){mn=0,Qe();var t=Vs,n=yl,s=_l,r=np;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?mn=5:(mn=0,yl=Vs=null,pp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(xs=null),Ye(s),n=n.stateNode,se&&typeof se.onCommitFiberRoot=="function")try{se.onCommitFiberRoot(be,n,void 0,(n.current.flags&128)===128)}catch{}if(r!==null){n=Q.T,c=ut.p,ut.p=2,Q.T=null;try{for(var f=t.onRecoverableError,y=0;y<r.length;y++){var T=r[y];f(T.value,{componentStack:T.stack})}}finally{Q.T=n,ut.p=c}}(_l&3)!==0&&vu(),xi(t),c=t.pendingLanes,(s&4194090)!==0&&(c&42)!==0?t===$h?Vr++:(Vr=0,$h=t):Vr=0,Nr(0)}}function pp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,hr(n)))}function vu(t){return dp(),mp(),gp(),yp()}function yp(){if(mn!==5)return!1;var t=Vs,n=Zh;Zh=0;var s=Ye(_l),r=Q.T,c=ut.p;try{ut.p=32>s?32:s,Q.T=null,s=Jh,Jh=null;var f=Vs,y=_l;if(mn=0,yl=Vs=null,_l=0,(ue&6)!==0)throw Error(l(331));var T=ue;if(ue|=4,tp(f.current),Jg(f,f.current,y,s),ue=T,Nr(0,!1),se&&typeof se.onPostCommitFiberRoot=="function")try{se.onPostCommitFiberRoot(be,f)}catch{}return!0}finally{ut.p=c,Q.T=r,pp(t,n)}}function _p(t,n,s){n=$n(s,n),n=xh(t.stateNode,n,2),t=Es(t,n,2),t!==null&&(sn(t,2),xi(t))}function pe(t,n,s){if(t.tag===3)_p(t,t,s);else for(;n!==null;){if(n.tag===3){_p(n,t,s);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xs===null||!xs.has(r))){t=$n(s,t),s=Ag(2),r=Es(n,s,2),r!==null&&(Sg(s,r,n,t),sn(r,2),xi(r));break}}n=n.return}}function nf(t,n,s){var r=t.pingCache;if(r===null){r=t.pingCache=new U0;var c=new Set;r.set(n,c)}else c=r.get(n),c===void 0&&(c=new Set,r.set(n,c));c.has(s)||(Yh=!0,c.add(s),t=k0.bind(null,t,n,s),n.then(t,t))}function k0(t,n,s){var r=t.pingCache;r!==null&&r.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Te===t&&(Jt&s)===s&&(xe===4||xe===3&&(Jt&62914560)===Jt&&300>Pe()-Xh?(ue&2)===0&&vl(t,0):Fh|=s,pl===Jt&&(pl=0)),xi(t)}function vp(t,n){n===0&&(n=Nt()),t=el(t,n),t!==null&&(sn(t,n),xi(t))}function q0(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),vp(t,s)}function H0(t,n){var s=0;switch(t.tag){case 13:var r=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(n),vp(t,s)}function G0(t,n){return en(t,n)}var Tu=null,El=null,sf=!1,Eu=!1,af=!1,Ia=0;function xi(t){t!==El&&t.next===null&&(El===null?Tu=El=t:El=El.next=t),Eu=!0,sf||(sf=!0,Y0())}function Nr(t,n){if(!af&&Eu){af=!0;do for(var s=!1,r=Tu;r!==null;){if(t!==0){var c=r.pendingLanes;if(c===0)var f=0;else{var y=r.suspendedLanes,T=r.pingedLanes;f=(1<<31-nn(42|t)+1)-1,f&=c&~(y&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Sp(r,f))}else f=Jt,f=Rt(r,r===Te?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||ht(r,f)||(s=!0,Sp(r,f));r=r.next}while(s);af=!1}}function Q0(){Tp()}function Tp(){Eu=sf=!1;var t=0;Ia!==0&&(tT()&&(t=Ia),Ia=0);for(var n=Pe(),s=null,r=Tu;r!==null;){var c=r.next,f=Ep(r,n);f===0?(r.next=null,s===null?Tu=c:s.next=c,c===null&&(El=s)):(s=r,(t!==0||(f&3)!==0)&&(Eu=!0)),r=c}Nr(t)}function Ep(t,n){for(var s=t.suspendedLanes,r=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-nn(f),T=1<<y,R=c[y];R===-1?((T&s)===0||(T&r)!==0)&&(c[y]=j(T,n)):R<=n&&(t.expiredLanes|=T),f&=~T}if(n=Te,s=Jt,s=Rt(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,s===0||t===n&&(ce===2||ce===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&ie(r),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ht(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(r!==null&&ie(r),Ye(s)){case 2:case 8:s=xn;break;case 32:s=Ln;break;case 268435456:s=ri;break;default:s=Ln}return r=Ap.bind(null,t),s=en(s,r),t.callbackPriority=n,t.callbackNode=s,n}return r!==null&&r!==null&&ie(r),t.callbackPriority=2,t.callbackNode=null,2}function Ap(t,n){if(mn!==0&&mn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(vu()&&t.callbackNode!==s)return null;var r=Jt;return r=Rt(t,t===Te?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(sp(t,r,n),Ep(t,Pe()),t.callbackNode!=null&&t.callbackNode===s?Ap.bind(null,t):null)}function Sp(t,n){if(vu())return null;sp(t,n,!0)}function Y0(){nT(function(){(ue&6)!==0?en(vn,Q0):Tp()})}function lf(){return Ia===0&&(Ia=at()),Ia}function bp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ha(""+t)}function wp(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function F0(t,n,s,r,c){if(n==="submit"&&s&&s.stateNode===c){var f=bp((c[Be]||null).action),y=r.submitter;y&&(n=(n=y[Be]||null)?bp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var T=new Ga("action","action",null,r,c);t.push({event:T,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Ia!==0){var R=y?wp(c,y):new FormData(c);wh(s,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=y?wp(c,y):new FormData(c),wh(s,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var rf=0;rf<Gc.length;rf++){var of=Gc[rf],K0=of.toLowerCase(),X0=of[0].toUpperCase()+of.slice(1);hi(K0,"on"+X0)}hi(sm,"onAnimationEnd"),hi(am,"onAnimationIteration"),hi(lm,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(f0,"onTransitionRun"),hi(d0,"onTransitionStart"),hi(m0,"onTransitionCancel"),hi(rm,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Or));function Rp(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var r=t[s],c=r.event;r=r.listeners;t:{var f=void 0;if(n)for(var y=r.length-1;0<=y;y--){var T=r[y],R=T.instance,B=T.currentTarget;if(T=T.listener,R!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=B;try{f(c)}catch(X){ou(X)}c.currentTarget=null,f=R}else for(y=0;y<r.length;y++){if(T=r[y],R=T.instance,B=T.currentTarget,T=T.listener,R!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=B;try{f(c)}catch(X){ou(X)}c.currentTarget=null,f=R}}}}function Qt(t,n){var s=n[Gl];s===void 0&&(s=n[Gl]=new Set);var r=t+"__bubble";s.has(r)||(Ip(n,t,2,!1),s.add(r))}function uf(t,n,s){var r=0;n&&(r|=4),Ip(s,t,r,n)}var Au="_reactListening"+Math.random().toString(36).slice(2);function cf(t){if(!t[Au]){t[Au]=!0,Ql.forEach(function(s){s!=="selectionchange"&&(Z0.has(s)||uf(s,!1,t),uf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Au]||(n[Au]=!0,uf("selectionchange",!1,n))}}function Ip(t,n,s,r){switch(Jp(n)){case 2:var c=ST;break;case 8:c=bT;break;default:c=bf}s=c.bind(null,n,s,t),c=void 0,!Zn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),r?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function hf(t,n,s,r,c){var f=r;if((n&1)===0&&(n&2)===0&&r!==null)t:for(;;){if(r===null)return;var y=r.tag;if(y===3||y===4){var T=r.stateNode.containerInfo;if(T===c)break;if(y===4)for(y=r.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;T!==null;){if(y=Pi(T),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){r=f=y;continue t}T=T.parentNode}}r=r.return}bo(function(){var B=f,X=Xn(s),$=[];t:{var q=om.get(t);if(q!==void 0){var G=Ga,Lt=t;switch(t){case"keypress":if(Ei(s)===0)break t;case"keydown":case"keyup":G=Za;break;case"focusin":Lt="focus",G=Fa;break;case"focusout":Lt="blur",G=Fa;break;case"beforeblur":case"afterblur":G=Fa;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Uc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=No;break;case sm:case am:case lm:G=Ka;break;case rm:G=Mo;break;case"scroll":case"scrollend":G=wo;break;case"wheel":G=Ja;break;case"copy":case"cut":case"paste":G=Xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=ir;break;case"toggle":case"beforetoggle":G=Uo}var xt=(n&4)!==0,ge=!xt&&(t==="scroll"||t==="scrollend"),U=xt?q!==null?q+"Capture":null:q;xt=[];for(var O=B,P;O!==null;){var Z=O;if(P=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||P===null||U===null||(Z=la(O,U),Z!=null&&xt.push(Mr(O,Z,P))),ge)break;O=O.return}0<xt.length&&(q=new G(q,Lt,null,s,X),$.push({event:q,listeners:xt}))}}if((n&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&s!==qi&&(Lt=s.relatedTarget||s.fromElement)&&(Pi(Lt)||Lt[Fn]))break t;if((G||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,G?(Lt=s.relatedTarget||s.toElement,G=B,Lt=Lt?Pi(Lt):null,Lt!==null&&(ge=h(Lt),xt=Lt.tag,Lt!==ge||xt!==5&&xt!==27&&xt!==6)&&(Lt=null)):(G=null,Lt=B),G!==Lt)){if(xt=Jn,Z="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(xt=ir,Z="onPointerLeave",U="onPointerEnter",O="pointer"),ge=G==null?q:yi(G),P=Lt==null?q:yi(Lt),q=new xt(Z,O+"leave",G,s,X),q.target=ge,q.relatedTarget=P,Z=null,Pi(X)===B&&(xt=new xt(U,O+"enter",Lt,s,X),xt.target=P,xt.relatedTarget=ge,Z=xt),ge=Z,G&&Lt)e:{for(xt=G,U=Lt,O=0,P=xt;P;P=Al(P))O++;for(P=0,Z=U;Z;Z=Al(Z))P++;for(;0<O-P;)xt=Al(xt),O--;for(;0<P-O;)U=Al(U),P--;for(;O--;){if(xt===U||U!==null&&xt===U.alternate)break e;xt=Al(xt),U=Al(U)}xt=null}else xt=null;G!==null&&Dp($,q,G,xt,!1),Lt!==null&&ge!==null&&Dp($,ge,Lt,xt,!0)}}t:{if(q=B?yi(B):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var yt=Fd;else if(Xe(q))if(Kd)yt=u0;else{yt=r0;var Ht=l0}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Zl(B.elementType)&&(yt=Fd):yt=o0;if(yt&&(yt=yt(t,B))){Fi($,yt,s,X);break t}Ht&&Ht(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&ps(q,"number",q.value)}switch(Ht=B?yi(B):window,t){case"focusin":(Xe(Ht)||Ht.contentEditable==="true")&&($a=Ht,kc=B,lr=null);break;case"focusout":lr=kc=$a=null;break;case"mousedown":qc=!0;break;case"contextmenu":case"mouseup":case"dragend":qc=!1,nm($,s,X);break;case"selectionchange":if(h0)break;case"keydown":case"keyup":nm($,s,X)}var wt;if(bi)t:{switch(t){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else Xt?Y(t,s)&&(Ot="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ot="onCompositionStart");Ot&&(p&&s.locale!=="ko"&&(Xt||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&Xt&&(wt=$l()):(Ti=X,ys="value"in Ti?Ti.value:Ti.textContent,Xt=!0)),Ht=Su(B,Ot),0<Ht.length&&(Ot=new er(Ot,t,null,s,X),$.push({event:Ot,listeners:Ht}),wt?Ot.data=wt:(wt=ft(s),wt!==null&&(Ot.data=wt)))),(wt=m?Ke(t,s):Zt(t,s))&&(Ot=Su(B,"onBeforeInput"),0<Ot.length&&(Ht=new er("onBeforeInput","beforeinput",null,s,X),$.push({event:Ht,listeners:Ot}),Ht.data=wt)),F0($,t,B,s,X)}Rp($,n)})}function Mr(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Su(t,n){for(var s=n+"Capture",r=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=la(t,s),c!=null&&r.unshift(Mr(t,c,f)),c=la(t,n),c!=null&&r.push(Mr(t,c,f))),t.tag===3)return r;t=t.return}return[]}function Al(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Dp(t,n,s,r,c){for(var f=n._reactName,y=[];s!==null&&s!==r;){var T=s,R=T.alternate,B=T.stateNode;if(T=T.tag,R!==null&&R===r)break;T!==5&&T!==26&&T!==27||B===null||(R=B,c?(B=la(s,f),B!=null&&y.unshift(Mr(s,B,R))):c||(B=la(s,f),B!=null&&y.push(Mr(s,B,R)))),s=s.return}y.length!==0&&t.push({event:n,listeners:y})}var J0=/\r\n?/g,$0=/\u0000|\uFFFD/g;function Cp(t){return(typeof t=="string"?t:""+t).replace(J0,`
`).replace($0,"")}function xp(t,n){return n=Cp(n),Cp(t)===n}function bu(){}function me(t,n,s,r,c,f){switch(s){case"children":typeof r=="string"?n==="body"||n==="textarea"&&r===""||Kn(t,r):(typeof r=="number"||typeof r=="bigint")&&n!=="body"&&Kn(t,""+r);break;case"className":_i(t,"class",r);break;case"tabIndex":_i(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":_i(t,s,r);break;case"style":Xl(t,r,f);break;case"data":if(n!=="object"){_i(t,"data",r);break}case"src":case"href":if(r===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(s);break}r=Ha(""+r),t.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&me(t,n,"name",c.name,c,null),me(t,n,"formEncType",c.formEncType,c,null),me(t,n,"formMethod",c.formMethod,c,null),me(t,n,"formTarget",c.formTarget,c,null)):(me(t,n,"encType",c.encType,c,null),me(t,n,"method",c.method,c,null),me(t,n,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(s);break}r=Ha(""+r),t.setAttribute(s,r);break;case"onClick":r!=null&&(t.onclick=bu);break;case"onScroll":r!=null&&Qt("scroll",t);break;case"onScrollEnd":r!=null&&Qt("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(l(60));t.innerHTML=s}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}s=Ha(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(s,""+r):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":r===!0?t.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(s,r):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(s,r):t.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(s):t.setAttribute(s,r);break;case"popover":Qt("beforetoggle",t),Qt("toggle",t),gs(t,"popover",r);break;case"xlinkActuate":hn(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":hn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":hn(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":hn(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":hn(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":hn(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":hn(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":hn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":hn(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":gs(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Mc.get(s)||s,gs(t,s,r))}}function ff(t,n,s,r,c,f){switch(s){case"style":Xl(t,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(l(60));t.innerHTML=s}}break;case"children":typeof r=="string"?Kn(t,r):(typeof r=="number"||typeof r=="bigint")&&Kn(t,""+r);break;case"onScroll":r!=null&&Qt("scroll",t);break;case"onScrollEnd":r!=null&&Qt("scrollend",t);break;case"onClick":r!=null&&(t.onclick=bu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pa.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[Be]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof r=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,r,c);break t}s in t?t[s]=r:r===!0?t.setAttribute(s,""):gs(t,s,r)}}}function gn(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",t),Qt("load",t);var r=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var y=s[f];if(y!=null)switch(f){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:me(t,n,f,y,s,null)}}c&&me(t,n,"srcSet",s.srcSet,s,null),r&&me(t,n,"src",s.src,s,null);return;case"input":Qt("invalid",t);var T=f=y=c=null,R=null,B=null;for(r in s)if(s.hasOwnProperty(r)){var X=s[r];if(X!=null)switch(r){case"name":c=X;break;case"type":y=X;break;case"checked":R=X;break;case"defaultChecked":B=X;break;case"value":f=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(l(137,n));break;default:me(t,n,r,X,s,null)}}ia(t,f,T,R,B,y,c,!1),qa(t);return;case"select":Qt("invalid",t),r=y=f=null;for(c in s)if(s.hasOwnProperty(c)&&(T=s[c],T!=null))switch(c){case"value":f=T;break;case"defaultValue":y=T;break;case"multiple":r=T;default:me(t,n,c,T,s,null)}n=f,s=y,t.multiple=!!r,n!=null?ki(t,!!r,n,!1):s!=null&&ki(t,!!r,s,!0);return;case"textarea":Qt("invalid",t),f=c=r=null;for(y in s)if(s.hasOwnProperty(y)&&(T=s[y],T!=null))switch(y){case"value":r=T;break;case"defaultValue":c=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(l(91));break;default:me(t,n,y,T,s,null)}sa(t,r,c,f),qa(t);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(r=s[R],r!=null))switch(R){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:me(t,n,R,r,s,null)}return;case"dialog":Qt("beforetoggle",t),Qt("toggle",t),Qt("cancel",t),Qt("close",t);break;case"iframe":case"object":Qt("load",t);break;case"video":case"audio":for(r=0;r<Or.length;r++)Qt(Or[r],t);break;case"image":Qt("error",t),Qt("load",t);break;case"details":Qt("toggle",t);break;case"embed":case"source":case"link":Qt("error",t),Qt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(r=s[B],r!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:me(t,n,B,r,s,null)}return;default:if(Zl(n)){for(X in s)s.hasOwnProperty(X)&&(r=s[X],r!==void 0&&ff(t,n,X,r,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(r=s[T],r!=null&&me(t,n,T,r,s,null))}function W0(t,n,s,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,T=null,R=null,B=null,X=null;for(G in s){var $=s[G];if(s.hasOwnProperty(G)&&$!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":R=$;default:r.hasOwnProperty(G)||me(t,n,G,null,r,$)}}for(var q in r){var G=r[q];if($=s[q],r.hasOwnProperty(q)&&(G!=null||$!=null))switch(q){case"type":f=G;break;case"name":c=G;break;case"checked":B=G;break;case"defaultChecked":X=G;break;case"value":y=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(l(137,n));break;default:G!==$&&me(t,n,q,G,r,$)}}zn(t,y,T,R,B,X,f,c);return;case"select":G=y=T=q=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":G=R;default:r.hasOwnProperty(f)||me(t,n,f,null,r,R)}for(c in r)if(f=r[c],R=s[c],r.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":q=f;break;case"defaultValue":T=f;break;case"multiple":y=f;default:f!==R&&me(t,n,c,f,r,R)}n=T,s=y,r=G,q!=null?ki(t,!!s,q,!1):!!r!=!!s&&(n!=null?ki(t,!!s,n,!0):ki(t,!!s,s?[]:"",!1));return;case"textarea":G=q=null;for(T in s)if(c=s[T],s.hasOwnProperty(T)&&c!=null&&!r.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:me(t,n,T,null,r,c)}for(y in r)if(c=r[y],f=s[y],r.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":q=c;break;case"defaultValue":G=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==f&&me(t,n,y,c,r,f)}fe(t,q,G);return;case"option":for(var Lt in s)if(q=s[Lt],s.hasOwnProperty(Lt)&&q!=null&&!r.hasOwnProperty(Lt))switch(Lt){case"selected":t.selected=!1;break;default:me(t,n,Lt,null,r,q)}for(R in r)if(q=r[R],G=s[R],r.hasOwnProperty(R)&&q!==G&&(q!=null||G!=null))switch(R){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:me(t,n,R,q,r,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in s)q=s[xt],s.hasOwnProperty(xt)&&q!=null&&!r.hasOwnProperty(xt)&&me(t,n,xt,null,r,q);for(B in r)if(q=r[B],G=s[B],r.hasOwnProperty(B)&&q!==G&&(q!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(l(137,n));break;default:me(t,n,B,q,r,G)}return;default:if(Zl(n)){for(var ge in s)q=s[ge],s.hasOwnProperty(ge)&&q!==void 0&&!r.hasOwnProperty(ge)&&ff(t,n,ge,void 0,r,q);for(X in r)q=r[X],G=s[X],!r.hasOwnProperty(X)||q===G||q===void 0&&G===void 0||ff(t,n,X,q,r,G);return}}for(var U in s)q=s[U],s.hasOwnProperty(U)&&q!=null&&!r.hasOwnProperty(U)&&me(t,n,U,null,r,q);for($ in r)q=r[$],G=s[$],!r.hasOwnProperty($)||q===G||q==null&&G==null||me(t,n,$,q,r,G)}var df=null,mf=null;function wu(t){return t.nodeType===9?t:t.ownerDocument}function Vp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Np(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function gf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pf=null;function tT(){var t=window.event;return t&&t.type==="popstate"?t===pf?!1:(pf=t,!0):(pf=null,!1)}var Op=typeof setTimeout=="function"?setTimeout:void 0,eT=typeof clearTimeout=="function"?clearTimeout:void 0,Mp=typeof Promise=="function"?Promise:void 0,nT=typeof queueMicrotask=="function"?queueMicrotask:typeof Mp<"u"?function(t){return Mp.resolve(null).then(t).catch(iT)}:Op;function iT(t){setTimeout(function(){throw t})}function Os(t){return t==="head"}function Lp(t,n){var s=n,r=0,c=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<r&&8>r){s=r;var y=t.ownerDocument;if(s&1&&Lr(y.documentElement),s&2&&Lr(y.body),s&4)for(s=y.head,Lr(s),y=s.firstChild;y;){var T=y.nextSibling,R=y.nodeName;y[Ws]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||s.removeChild(y),y=T}}if(c===0){t.removeChild(f),Hr(n);return}c--}else s==="$"||s==="$?"||s==="$!"?c++:r=s.charCodeAt(0)-48;else r=0;s=f}while(s);Hr(n)}function yf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":yf(s),ms(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function sT(t,n,s,r){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Ws])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=di(t.nextSibling),t===null)break}return null}function aT(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=di(t.nextSibling),t===null))return null;return t}function _f(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function lT(t,n){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")n();else{var r=function(){n(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function di(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var vf=null;function Up(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function zp(t,n,s){switch(n=wu(s),t){case"html":if(t=n.documentElement,!t)throw Error(l(452));return t;case"head":if(t=n.head,!t)throw Error(l(453));return t;case"body":if(t=n.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function Lr(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ms(t)}var si=new Map,Pp=new Set;function Ru(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ls=ut.d;ut.d={f:rT,r:oT,D:uT,C:cT,L:hT,m:fT,X:mT,S:dT,M:gT};function rT(){var t=ls.f(),n=yu();return t||n}function oT(t){var n=pi(t);n!==null&&n.tag===5&&n.type==="form"?sg(n):ls.r(t)}var Sl=typeof document>"u"?null:document;function Bp(t,n,s){var r=Sl;if(r&&typeof n=="string"&&n){var c=je(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Pp.has(c)||(Pp.add(c),t={rel:t,crossOrigin:s,href:n},r.querySelector(c)===null&&(n=r.createElement("link"),gn(n,"link",t),Ne(n),r.head.appendChild(n)))}}function uT(t){ls.D(t),Bp("dns-prefetch",t,null)}function cT(t,n){ls.C(t,n),Bp("preconnect",t,n)}function hT(t,n,s){ls.L(t,n,s);var r=Sl;if(r&&t&&n){var c='link[rel="preload"][as="'+je(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+je(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+je(s.imageSizes)+'"]')):c+='[href="'+je(t)+'"]';var f=c;switch(n){case"style":f=bl(t);break;case"script":f=wl(t)}si.has(f)||(t=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),si.set(f,t),r.querySelector(c)!==null||n==="style"&&r.querySelector(Ur(f))||n==="script"&&r.querySelector(zr(f))||(n=r.createElement("link"),gn(n,"link",t),Ne(n),r.head.appendChild(n)))}}function fT(t,n){ls.m(t,n);var s=Sl;if(s&&t){var r=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+je(r)+'"][href="'+je(t)+'"]',f=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=wl(t)}if(!si.has(f)&&(t=S({rel:"modulepreload",href:t},n),si.set(f,t),s.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(zr(f)))return}r=s.createElement("link"),gn(r,"link",t),Ne(r),s.head.appendChild(r)}}}function dT(t,n,s){ls.S(t,n,s);var r=Sl;if(r&&t){var c=Rn(r).hoistableStyles,f=bl(t);n=n||"default";var y=c.get(f);if(!y){var T={loading:0,preload:null};if(y=r.querySelector(Ur(f)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},s),(s=si.get(f))&&Tf(t,s);var R=y=r.createElement("link");Ne(R),gn(R,"link",t),R._p=new Promise(function(B,X){R.onload=B,R.onerror=X}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Iu(y,n,r)}y={type:"stylesheet",instance:y,count:1,state:T},c.set(f,y)}}}function mT(t,n){ls.X(t,n);var s=Sl;if(s&&t){var r=Rn(s).hoistableScripts,c=wl(t),f=r.get(c);f||(f=s.querySelector(zr(c)),f||(t=S({src:t,async:!0},n),(n=si.get(c))&&Ef(t,n),f=s.createElement("script"),Ne(f),gn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function gT(t,n){ls.M(t,n);var s=Sl;if(s&&t){var r=Rn(s).hoistableScripts,c=wl(t),f=r.get(c);f||(f=s.querySelector(zr(c)),f||(t=S({src:t,async:!0,type:"module"},n),(n=si.get(c))&&Ef(t,n),f=s.createElement("script"),Ne(f),gn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function jp(t,n,s,r){var c=(c=It.current)?Ru(c):null;if(!c)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=bl(s.href),s=Rn(c).hoistableStyles,r=s.get(n),r||(r={type:"style",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=bl(s.href);var f=Rn(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Ur(t)))&&!f._p&&(y.instance=f,y.state.loading=5),si.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},si.set(t,s),f||pT(c,t,s,y.state))),n&&r===null)throw Error(l(528,""));return y}if(n&&r!==null)throw Error(l(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=wl(s),s=Rn(c).hoistableScripts,r=s.get(n),r||(r={type:"script",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function bl(t){return'href="'+je(t)+'"'}function Ur(t){return'link[rel="stylesheet"]['+t+"]"}function kp(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function pT(t,n,s,r){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?r.loading=1:(n=t.createElement("link"),r.preload=n,n.addEventListener("load",function(){return r.loading|=1}),n.addEventListener("error",function(){return r.loading|=2}),gn(n,"link",s),Ne(n),t.head.appendChild(n))}function wl(t){return'[src="'+je(t)+'"]'}function zr(t){return"script[async]"+t}function qp(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var r=t.querySelector('style[data-href~="'+je(s.href)+'"]');if(r)return n.instance=r,Ne(r),r;var c=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Ne(r),gn(r,"style",c),Iu(r,s.precedence,t),n.instance=r;case"stylesheet":c=bl(s.href);var f=t.querySelector(Ur(c));if(f)return n.state.loading|=4,n.instance=f,Ne(f),f;r=kp(s),(c=si.get(c))&&Tf(r,c),f=(t.ownerDocument||t).createElement("link"),Ne(f);var y=f;return y._p=new Promise(function(T,R){y.onload=T,y.onerror=R}),gn(f,"link",r),n.state.loading|=4,Iu(f,s.precedence,t),n.instance=f;case"script":return f=wl(s.src),(c=t.querySelector(zr(f)))?(n.instance=c,Ne(c),c):(r=s,(c=si.get(f))&&(r=S({},s),Ef(r,c)),t=t.ownerDocument||t,c=t.createElement("script"),Ne(c),gn(c,"link",r),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(r=n.instance,n.state.loading|=4,Iu(r,s.precedence,t));return n.instance}function Iu(t,n,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,f=c,y=0;y<r.length;y++){var T=r[y];if(T.dataset.precedence===n)f=T;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Tf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Du=null;function Hp(t,n,s){if(Du===null){var r=new Map,c=Du=new Map;c.set(s,r)}else c=Du,r=c.get(s),r||(r=new Map,c.set(s,r));if(r.has(t))return r;for(r.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[Ws]||f[Fe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var T=r.get(y);T?T.push(f):r.set(y,[f])}}return r}function Gp(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function yT(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Qp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Pr=null;function _T(){}function vT(t,n,s){if(Pr===null)throw Error(l(475));var r=Pr;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=bl(s.href),f=t.querySelector(Ur(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=Cu.bind(r),t.then(r,r)),n.state.loading|=4,n.instance=f,Ne(f);return}f=t.ownerDocument||t,s=kp(s),(c=si.get(c))&&Tf(s,c),f=f.createElement("link"),Ne(f);var y=f;y._p=new Promise(function(T,R){y.onload=T,y.onerror=R}),gn(f,"link",s),n.instance=f}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(r.count++,n=Cu.bind(r),t.addEventListener("load",n),t.addEventListener("error",n))}}function TT(){if(Pr===null)throw Error(l(475));var t=Pr;return t.stylesheets&&t.count===0&&Af(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&Af(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Cu(){if(this.count--,this.count===0){if(this.stylesheets)Af(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xu=null;function Af(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xu=new Map,n.forEach(ET,t),xu=null,Cu.call(t))}function ET(t,n){if(!(n.state.loading&4)){var s=xu.get(t);if(s)var r=s.get(null);else{s=new Map,xu.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),r=y)}r&&s.set(null,r)}c=n.instance,y=c.getAttribute("data-precedence"),f=s.get(y)||r,f===r&&s.set(null,c),s.set(y,c),this.count++,r=Cu.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Br={$$typeof:ct,Provider:null,Consumer:null,_currentValue:_t,_currentValue2:_t,_threadCount:0};function AT(t,n,s,r,c,f,y,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ve(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ve(0),this.hiddenUpdates=Ve(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Yp(t,n,s,r,c,f,y,T,R,B,X,$){return t=new AT(t,n,s,y,T,R,B,$),n=1,f===!0&&(n|=24),f=Bn(3,null,null,n),t.current=f,f.stateNode=t,n=nh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:r,isDehydrated:s,cache:n},lh(f),t}function Fp(t){return t?(t=nl,t):nl}function Kp(t,n,s,r,c,f){c=Fp(c),r.context===null?r.context=c:r.pendingContext=c,r=Ts(n),r.payload={element:s},f=f===void 0?null:f,f!==null&&(r.callback=f),s=Es(t,r,n),s!==null&&(Gn(s,t,n),gr(s,t,n))}function Xp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Sf(t,n){Xp(t,n),(t=t.alternate)&&Xp(t,n)}function Zp(t){if(t.tag===13){var n=el(t,67108864);n!==null&&Gn(n,t,67108864),Sf(t,67108864)}}var Vu=!0;function ST(t,n,s,r){var c=Q.T;Q.T=null;var f=ut.p;try{ut.p=2,bf(t,n,s,r)}finally{ut.p=f,Q.T=c}}function bT(t,n,s,r){var c=Q.T;Q.T=null;var f=ut.p;try{ut.p=8,bf(t,n,s,r)}finally{ut.p=f,Q.T=c}}function bf(t,n,s,r){if(Vu){var c=wf(r);if(c===null)hf(t,n,r,Nu,s),$p(t,r);else if(RT(c,t,n,s,r))r.stopPropagation();else if($p(t,r),n&4&&-1<wT.indexOf(t)){for(;c!==null;){var f=pi(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=it(f.pendingLanes);if(y!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var R=1<<31-nn(y);T.entanglements[1]|=R,y&=~R}xi(f),(ue&6)===0&&(gu=Pe()+500,Nr(0))}}break;case 13:T=el(f,2),T!==null&&Gn(T,f,2),yu(),Sf(f,2)}if(f=wf(r),f===null&&hf(t,n,r,Nu,s),f===c)break;c=f}c!==null&&r.stopPropagation()}else hf(t,n,r,null,s)}}function wf(t){return t=Xn(t),Rf(t)}var Nu=null;function Rf(t){if(Nu=null,t=Pi(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Nu=t,null}function Jp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gi()){case vn:return 2;case xn:return 8;case Ln:case hs:return 32;case ri:return 268435456;default:return 32}default:return 32}}var If=!1,Ms=null,Ls=null,Us=null,jr=new Map,kr=new Map,zs=[],wT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $p(t,n){switch(t){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":jr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":kr.delete(n.pointerId)}}function qr(t,n,s,r,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:r,nativeEvent:f,targetContainers:[c]},n!==null&&(n=pi(n),n!==null&&Zp(n)),t):(t.eventSystemFlags|=r,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function RT(t,n,s,r,c){switch(n){case"focusin":return Ms=qr(Ms,t,n,s,r,c),!0;case"dragenter":return Ls=qr(Ls,t,n,s,r,c),!0;case"mouseover":return Us=qr(Us,t,n,s,r,c),!0;case"pointerover":var f=c.pointerId;return jr.set(f,qr(jr.get(f)||null,t,n,s,r,c)),!0;case"gotpointercapture":return f=c.pointerId,kr.set(f,qr(kr.get(f)||null,t,n,s,r,c)),!0}return!1}function Wp(t){var n=Pi(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,yo(t.priority,function(){if(s.tag===13){var r=Hn();r=oi(r);var c=el(s,r);c!==null&&Gn(c,s,r),Sf(s,r)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ou(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=wf(t.nativeEvent);if(s===null){s=t.nativeEvent;var r=new s.constructor(s.type,s);qi=r,s.target.dispatchEvent(r),qi=null}else return n=pi(s),n!==null&&Zp(n),t.blockedOn=s,!1;n.shift()}return!0}function ty(t,n,s){Ou(t)&&s.delete(n)}function IT(){If=!1,Ms!==null&&Ou(Ms)&&(Ms=null),Ls!==null&&Ou(Ls)&&(Ls=null),Us!==null&&Ou(Us)&&(Us=null),jr.forEach(ty),kr.forEach(ty)}function Mu(t,n){t.blockedOn===n&&(t.blockedOn=null,If||(If=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,IT)))}var Lu=null;function ey(t){Lu!==t&&(Lu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Lu===t&&(Lu=null);for(var n=0;n<t.length;n+=3){var s=t[n],r=t[n+1],c=t[n+2];if(typeof r!="function"){if(Rf(r||s)===null)continue;break}var f=pi(s);f!==null&&(t.splice(n,3),n-=3,wh(f,{pending:!0,data:c,method:s.method,action:r},r,c))}}))}function Hr(t){function n(R){return Mu(R,t)}Ms!==null&&Mu(Ms,t),Ls!==null&&Mu(Ls,t),Us!==null&&Mu(Us,t),jr.forEach(n),kr.forEach(n);for(var s=0;s<zs.length;s++){var r=zs[s];r.blockedOn===t&&(r.blockedOn=null)}for(;0<zs.length&&(s=zs[0],s.blockedOn===null);)Wp(s),s.blockedOn===null&&zs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var c=s[r],f=s[r+1],y=c[Be]||null;if(typeof f=="function")y||ey(s);else if(y){var T=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[Be]||null)T=y.formAction;else if(Rf(c)!==null)continue}else T=y.action;typeof T=="function"?s[r+1]=T:(s.splice(r,3),r-=3),ey(s)}}}function Df(t){this._internalRoot=t}Uu.prototype.render=Df.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(l(409));var s=n.current,r=Hn();Kp(s,r,t,n,null,null)},Uu.prototype.unmount=Df.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Kp(t.current,2,null,t,null,null),yu(),n[Fn]=null}};function Uu(t){this._internalRoot=t}Uu.prototype.unstable_scheduleHydration=function(t){if(t){var n=ve();t={blockedOn:null,target:t,priority:n};for(var s=0;s<zs.length&&n!==0&&n<zs[s].priority;s++);zs.splice(s,0,t),s===0&&Wp(t)}};var ny=e.version;if(ny!=="19.1.1")throw Error(l(527,ny,"19.1.1"));ut.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var DT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{be=zu.inject(DT),se=zu}catch{}}return Qr.createRoot=function(t,n){if(!o(t))throw Error(l(299));var s=!1,r="",c=_g,f=vg,y=Tg,T=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=Yp(t,1,!1,null,null,s,r,c,f,y,T,null),t[Fn]=n.current,cf(t),new Df(n)},Qr.hydrateRoot=function(t,n,s){if(!o(t))throw Error(l(299));var r=!1,c="",f=_g,y=vg,T=Tg,R=null,B=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks),s.formState!==void 0&&(B=s.formState)),n=Yp(t,1,!0,n,s??null,r,c,f,y,T,R,B),n.context=Fp(null),s=n.current,r=Hn(),r=oi(r),c=Ts(r),c.callback=null,Es(s,c,r),s=r,n.current.lanes=s,sn(n,s),xi(n),t[Fn]=n.current,cf(t),new Uu(n)},Qr.version="19.1.1",Qr}var fy;function PT(){if(fy)return Vf.exports;fy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Vf.exports=zT(),Vf.exports}var BT=PT();function jT({id:a,mouseOver:e,canPlaceItem:i,hasItem:l,mouseOverLocation:o,inSection:h,section:d,size:g}){return et.jsx("div",{className:`cell ${e?"hovered":""} ${i?"legal":"illegal"} ${l?"hasItem":""} ${o} ${h?"":"outside"}`,id:`${d==null?"":d.split(" ").join("")}${a.toId()}`,style:{width:`${g}px`,height:`${g}px`},children:et.jsx("div",{className:"cell cell-border",id:`${d==null?"":d.split(" ").join("")}${a.toId()}`})})}function Xu({width:a,height:e,cells:i,id:l,visibile:o,section:h}){return et.jsx("div",{className:`area ${o??!0?"":"invisible"}`,style:{width:`${a}px`,height:`${e}px`},id:l!=null?l.split(" ").join("-"):"",children:i.map(d=>et.jsx(jT,{size:d.size,id:d.id,canPlaceItem:d.canPlaceItem,mouseOver:d.mouseOver,hasItem:d.hasItem,itemId:d.itemId,mouseOverLocation:d.mouseOverLocation,inSection:d.inSection,section:h}))})}class gt{x;y;constructor({x:e,y:i}){this.x=e,this.y=i}toId(){return`Cell-${this.x}-${this.y}`}static fromString(e){return new gt({x:parseInt(e.split("-")[1]),y:parseInt(e.split("-")[2])})}}class Yt{name;id;icon;cellsLong;cellsTall;hasMoved;initialElement;moveable;roation;starterItem;isDisplayItem;sectionCell;constructor({id:e,cellsLong:i,cellsTall:l,initialElement:o,name:h,icon:d,moveable:g,starterItem:v,displayItem:_,sectionCell:S}){this.id=e,this.cellsLong=i,this.cellsTall=l,this.hasMoved=!1,this.initialElement=o,this.name=h,this.icon=d,this.roation=0,this.moveable=g??!0,this.starterItem=v??!1,this.isDisplayItem=_??!1,this.sectionCell=S}}class li{item;quantity;constructor({item:e,quantity:i}){this.item=e,this.quantity=i}static fromDoc(e){return new li({item:new Yt({id:e.item.id,name:e.item.name,icon:e.item.icon,cellsLong:e.item.cellsLong,cellsTall:e.item.cellsTall,moveable:e.item.moveable,starterItem:e.item.starterItem,displayItem:e.item.displayItem||!1}),quantity:e.quantity})}static fromJSON(e){return new li({item:new Yt({id:e.item.id,name:e.item.name,icon:e.item.icon,cellsLong:e.item.cellsLong,cellsTall:e.item.cellsTall,moveable:e.item.moveable,starterItem:e.item.starterItem,displayItem:e.item.displayItem||!1}),quantity:e.quantity})}toJSON(){return{item:{id:this.item.id,name:this.item.name,icon:this.item.icon,cellsLong:this.item.cellsLong,cellsTall:this.item.cellsTall,moveable:this.item.moveable,starterItem:this.item.starterItem,displayItem:this.item.isDisplayItem},quantity:this.quantity}}toDoc(){return{item:{id:this.item.id,name:this.item.name,icon:this.item.icon,cellsLong:this.item.cellsLong,cellsTall:this.item.cellsTall,moveable:this.item.moveable,starterItem:this.item.starterItem,displayItem:this.item.isDisplayItem},quantity:this.quantity}}}class Le{cell;item;constructor({cell:e,item:i}){this.cell=e,this.item=i}}class te{name;cellId;cellElement;cellsLong;cellsTall;startingItems;items;constructor({name:e,cellId:i,cellsLong:l,cellsTall:o,startingItems:h,items:d}){this.name=e,this.cellId=i,this.cellsLong=l,this.cellsTall=o,this.startingItems=h,this.cellElement=null,this.items=d||[]}static fromJSON(e){const i=JSON.parse(e);return new te({name:i.name,cellId:gt.fromString(i.cellId),cellsLong:i.cellsLong,cellsTall:i.cellsTall,startingItems:i.startingItems.map(l=>new Le({cell:gt.fromString(l.cell),item:new Yt({id:l.item.id,name:l.item.name,icon:l.item.icon,cellsLong:l.item.cellsLong,cellsTall:l.item.cellsTall,moveable:l.item.moveable,starterItem:l.item.starterItem,displayItem:l.item.displayItem||!1})}))})}static fromDoc(e){return new te({name:e.name,cellId:gt.fromString(e.cellId),cellsLong:e.cellsLong,cellsTall:e.cellsTall,startingItems:e.startingItems?e.startingItems.map(i=>new Le({cell:gt.fromString(i.cell),item:new Yt({id:i.item.id,name:i.item.name,icon:i.item.icon,cellsLong:i.item.cellsLong,cellsTall:i.item.cellsTall,moveable:i.item.moveable,starterItem:i.item.starterItem,displayItem:i.item.displayItem||!1})})):[]})}toJSON(){return{name:this.name,cellId:this.cellId.toId(),cellsLong:this.cellsLong,cellsTall:this.cellsTall,startingItems:this.startingItems.map(e=>({cell:e.cell.toId(),item:{id:e.item.id,name:e.item.name,icon:e.item.icon,cellsLong:e.item.cellsLong,cellsTall:e.item.cellsTall,moveable:e.item.moveable,starterItem:e.item.starterItem,displayItem:e.item.isDisplayItem}}))}}toDoc(){return{name:this.name,cellId:this.cellId.toId(),cellsLong:this.cellsLong,cellsTall:this.cellsTall,startingItems:this.startingItems.map(e=>({cell:e.cell.toId(),item:{id:e.item.id,name:e.item.name,icon:e.item.icon,cellsLong:e.item.cellsLong,cellsTall:e.item.cellsTall,moveable:e.item.moveable,starterItem:e.item.starterItem,displayItem:e.item.isDisplayItem}}))}}}class Yn{name;sections;id;constructor({name:e,sections:i,id:l}){this.name=e,this.sections=i,this.id=l}toJSON(){return JSON.stringify({name:this.name,id:this.id,sections:this.sections.map(e=>e.toJSON())})}toDoc(){return{name:this.name,id:this.id,sections:this.sections.map(e=>e.toDoc())}}static fromJSON(e){const i=JSON.parse(e);return new Yn({name:i.name,id:i.id,sections:i.sections.map(l=>te.fromJSON(l))})}static fromDoc(e){return new Yn({name:e.name,id:e.id,sections:e.sections?e.sections.map(i=>te.fromDoc(i)):[]})}}class no{id;name;sections;templates;inventoryItems;constructor({name:e,sections:i,templates:l,inventoryItems:o,id:h}){this.name=e,this.sections=i,this.templates=l,this.inventoryItems=o,this.id=h}static fromDoc(e){return new no({name:e.name,id:e.id,sections:e.sections?e.sections.map(i=>te.fromDoc(i)):[],templates:e.templates?e.templates.map(i=>Yn.fromDoc(i)):[],inventoryItems:e.inventoryItems?e.inventoryItems.map(i=>li.fromDoc(i)):[]})}static fromJSON(e){return new no({name:e.name,id:e.id,sections:e.sections?e.sections.map(i=>te.fromJSON(i)):[],templates:e.templates?e.templates.map(i=>Yn.fromJSON(i)):[],inventoryItems:e.inventoryItems?e.inventoryItems.map(i=>li.fromJSON(i)):[]})}toJSON(){return{name:this.name,id:this.id,sections:this.sections.map(e=>e.toJSON()),templates:this.templates.map(e=>e.toJSON()),inventoryItems:this.inventoryItems.map(e=>e.toJSON())}}toDoc(){return{name:this.name,id:this.id,sections:this.sections.map(e=>e.toJSON()),templates:this.templates.map(e=>e.toDoc()),inventoryItems:this.inventoryItems.map(e=>e.toDoc())}}}const dy="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAADwAAAADW5XGhAAABRUlEQVQoFY2Tz0oDMRDGv4lgPXkUPAiCvfUBbD3VLoJoBUuPPoI+jlffQIqiUC9tb/45+QIF7bXFB9jDZjrZNptN090a2M0km++XyZdZ4rPGH4AdaN2mwddI4tLGtdo29nd7ILqExq2S1w1AW1DqlaPj0zK1Jwb3MZk+kBFw1DiHoieJkqJMAvHPrEPjcZwCNkGKxEaXAYogZeIAEELQlS3uUsPMmZdpm3W2eRnYSecJKou59WLzTVmR109mIzC+3Zy+N4a5sYsCAFerFRzuyT2jLpBPWRqD1aPUS+RkLvIAOfGFXGkfv9MmNF+LB0pgL9w6aTnpIso8CMQ5wzJPmDU0tWn4PrSgFLDpqsziDGKKLaErC6H/iO1uHmT575CY05N66qRnzqVtRau9D6GmMedInud1RbIqNmMafLwh0bIhxSB9MAfmu9CGVRsdYgAAAABJRU5ErkJggg==",my="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGaADAAQAAAABAAAAGQAAAABY85deAAABrUlEQVRIDe1VPUsDQRB9ezk0GO0FwVhFBQtDWot09oqFCGopgp1ILoWNEEHRRmy0EmwEK7XxB1gIfjQWdmlFLEQRDcaM7y4f3O4lmJw2QhYuu29m3szeu2ECmGtZYsjKAVZk0HSFxVaAqNBL2ywiuIYjcwF/CIMqc0QhgwkoTBEnuCd9udaQU6s+3PKRbyIWsjhi4n2y83wOfVnyKOLEh0MdLb7BIgRpfCKFdeWghGMvk7DwK0axoa5CZdZIWbml9hnDNqLhXwKb/CFKdanlyak7D89LFB0INocWTLCHD0CVTHMVu0Wi1P29avD2jEyz8DYft9N+Xg4KUHJGeWewowomweb3uOddn2qOtNheEyg80rZJ/1fN1/iQoGsS3Tjn7jaQtmx+7GHNkkIfi8Ro22Xrbmm+RmBJOtHjSsb2r7OCeltwJXRXsbw18ftQi61yNVKwiOb+G9Au0pKObbn+g1w2XrxrlhBv+rpx9Fdiy1yDWPlnNKyO3HC0JDm33uhpOF19rC7GRxg/xjF14bN7x7pjgJ5xpl7g4BwgMWKSAljwzCKn9QoEYtuGnxT4Bng+WDuZ4k7PAAAAAElFTkSuQmCC";function S_({item:a,canPlaceItem:e,placeItem:i,deleteItem:l,deleteItemRotate:o,isSelected:h,onSelect:d,onDeselect:g,isUnselecting:v,highlightCells:_,unHighlightCells:S,visible:D,removeItem:V}){const[k,K]=mt.useState(0),[tt,H]=mt.useState(0),lt=mt.useRef(null),[ot,ct]=mt.useState(0),[Vt,vt]=mt.useState(0),[Tt,x]=mt.useState(!1),[A,w]=mt.useState(0),[b,N]=mt.useState(null),[M,I]=mt.useState(!0),[Se,ye]=mt.useState(12),Q=/Mobi|Android/i.test(navigator.userAgent)?5:10,ut=mt.useRef(null),[_t,Dt]=mt.useState(!0),C=bt=>{const kt=bt%2===1;return{width:kt?a.cellsTall*Q:a.cellsLong*Q,height:kt?a.cellsLong*Q:a.cellsTall*Q,cellsWide:kt?a.cellsTall:a.cellsLong,cellsTall:kt?a.cellsLong:a.cellsTall}},J=bt=>{const kt=a.cellsLong*Q,Bt=a.cellsTall*Q;switch(bt%4){case 0:return{x:0,y:0};case 1:return{x:(Bt-kt)/2,y:(kt-Bt)/2};case 2:return{x:0,y:0};case 3:return{x:(Bt-kt)/2,y:(kt-Bt)/2};default:return{x:0,y:0}}},dt=()=>{if(!a.hasMoved)return;const bt=A+1,kt=C(bt),Bt={...a,cellsLong:kt.cellsWide,cellsTall:kt.cellsTall};if(console.log("Rotating item",a.id,"to rotation",bt,"with tempItem",Bt),console.log("Current cell:",b),console.log("Can place item at cell:",e(gt.fromString(b?.id||""),Bt)),b&&e(gt.fromString(b.id),Bt)){w(bt),o(a,gt.fromString(b.id)),a.roation=bt;const ee=J(bt),en=b.offsetLeft,ie=b.offsetTop;K(en+ee.x),H(ie+ee.y),ct(en+ee.x),vt(ie+ee.y),i(gt.fromString(b.id),Bt,gt.fromString(b.id))}};function st(bt){const kt=lt.current,Bt=window.getComputedStyle(kt),ee=document.createElement("span");ee.style.font=Bt.font,ee.style.fontSize=bt+"px",ee.style.fontFamily=Bt.fontFamily,ee.style.fontWeight=Bt.fontWeight,ee.style.position="absolute",ee.style.visibility="hidden",ee.style.whiteSpace="nowrap",ee.textContent=kt.textContent,document.body.appendChild(ee);const en=ee.offsetWidth;return document.body.removeChild(ee),en}function St(bt){if(lt.current){const kt=lt.current;return st(bt-1)>kt.offsetWidth&&bt-1>8?St(bt-1):bt-1}return bt}mt.useEffect(()=>{setTimeout(()=>{lt.current&&ye(St(Se)),a.isDisplayItem&&!a.hasMoved&&(console.log("Starting item as dragging item"),x(!0))},100)},[]),mt.useEffect(()=>{if(a.initialElement!=null&&!a.hasMoved){if(a.initialElement&&!a.hasMoved){a.initialElement.classList.contains("cell")&&N(a.initialElement);const bt=document.querySelector(".toolbox"),kt=bt.scrollLeft,Bt=bt.scrollTop;a.isDisplayItem?(K(a.initialElement.offsetLeft-kt),H(a.initialElement.offsetTop-Bt),ct(a.initialElement.offsetLeft-kt),vt(a.initialElement.offsetTop-Bt)):(K(a.initialElement.offsetLeft),H(a.initialElement.offsetTop),ct(a.initialElement.offsetLeft),vt(a.initialElement.offsetTop))}setInterval(()=>{Tt||ut.current&&ut.current.classList.contains("dragging")||a.initialElement&&!a.hasMoved&&(K(a.initialElement.offsetLeft),H(a.initialElement.offsetTop),ct(a.initialElement.offsetLeft),vt(a.initialElement.offsetTop))},10)}},[a,Tt]);const Ut=()=>{if(Tt)return;if(b==null){K(a.initialElement.offsetLeft),ct(a.initialElement.offsetLeft),H(a.initialElement.offsetTop),vt(a.initialElement.offsetTop);return}const bt=b.offsetTop,kt=b.offsetLeft,Bt=J(A);K(kt+Bt.x),H(bt+Bt.y),ct(kt+Bt.x),vt(bt+Bt.y)};mt.useEffect(()=>(window.addEventListener("resize",Ut),()=>{window.removeEventListener("resize",Ut)}),[b,A,Tt]);const It=bt=>{bt.preventDefault()};mt.useEffect(()=>{if(console.log("IS Dragging: ",Tt),Tt){ct(k),vt(tt),document.body.addEventListener("touchmove",It,{passive:!1});const bt=document.getElementById(a.id)?.getBoundingClientRect(),kt=bt?bt.left-k:0,Bt=bt?bt.top-tt:0;h&&g();const ee=(ie,ze,Qe)=>{const Pe=C(A),gi={...a,cellsLong:Pe.cellsWide,cellsTall:Pe.cellsTall};let vn=Qe;if(!vn||!vn.classList?.contains("cell")){const xn=document.elementFromPoint(ie,ze);xn?.classList?.contains("cell")&&(vn=xn)}vn?.classList?.contains("cell")?(console.log("Target element:",vn.id),_(gt.fromString(vn.id),gi)):S(),K(ie-kt),H(ze-Bt+5)},en=(ie,ze)=>{console.log("Drag ended"),S(),document.body.removeEventListener("touchmove",It);const Qe=document.elementFromPoint(ie,ze);if(Qe?.classList?.contains("cell")){const Pe=C(A),gi={...a,cellsLong:Pe.cellsWide,cellsTall:Pe.cellsTall};if(!e(gt.fromString(Qe.id),gi)){if(a.isDisplayItem&&!a.hasMoved){console.log("Removing item from toolbox"),V(a);return}K(ot),H(Vt),x(!1);return}const vn=Qe.offsetTop,xn=Qe.offsetLeft,Ln=J(A),hs=xn+Ln.x,ri=vn+Ln.y;K(hs),H(ri),ct(hs),vt(ri),i(gt.fromString(Qe.id),gi,b!=null?gt.fromString(b.id):null),N(Qe)}else{if(a.isDisplayItem&&!a.hasMoved){console.log("Removing item from toolbox"),V(a);return}K(ot),H(Vt)}x(!1)};return document.onmousemove=ie=>{ie.preventDefault(),ee(ie.clientX,ie.clientY,ie.target)},document.onmouseup=ie=>{en(ie.clientX,ie.clientY),document.onmousemove=null,document.onmouseup=null,document.ontouchmove=null,document.ontouchend=null},document.ontouchmove=ie=>{ie.preventDefault();const ze=ie.touches[0];ee(ze.clientX,ze.clientY,ie.target)},document.ontouchend=ie=>{const ze=ie.changedTouches[0];en(ze.clientX,ze.clientY),document.removeEventListener("touchmove",It),document.onmousemove=null,document.onmouseup=null,document.ontouchmove=null,document.ontouchend=null},()=>{document.removeEventListener("touchmove",It)}}else document.onmousemove=null,document.onmouseup=null,document.ontouchmove=null,document.ontouchend=null,document.body.removeEventListener("touchmove",It)},[Tt,b,A]);const _e=C(A);function le(){if(b){const bt=A+1,kt=C(bt),Bt={...a,cellsLong:kt.cellsWide,cellsTall:kt.cellsTall};console.log("Can place item at cell:",e(gt.fromString(b?.id||""),Bt)),I(e(gt.fromString(b.id),Bt))}else I(!1)}return k==0||tt==0||!_t?null:et.jsxs(et.Fragment,{children:[et.jsx("div",{id:a.id,ref:ut,className:`draggable-item ${Tt?"dragging":h?"selected":""} ${a.moveable?"":"not-moveable"} ${D?"":"invisible"}`,style:{top:`${tt}px`,left:`${k}px`,width:`${a.cellsLong*(a.isDisplayItem&&!Tt&&!a.hasMoved?10:Q)-(h?4:0)}px`,height:`${a.cellsTall*(a.isDisplayItem&&!Tt&&!a.hasMoved?10:Q)-(h?4:0)}px`,rotate:`${A*90}deg`,transformOrigin:"center center",fontSize:`${Se}px`},onMouseDown:a.moveable?()=>x(!0):void 0,onTouchStart:a.moveable?bt=>{bt.preventDefault(),x(!0)}:void 0,onClick:bt=>{bt.stopPropagation(),a.hasMoved&&(h?g():(le(),d(a.id)))},children:a.icon.includes("custom-")?et.jsx("div",{className:"custom-icon",children:et.jsx("div",{children:et.jsx("p",{ref:lt,children:a.icon.split("custom-")[1]})})}):et.jsx("img",{src:a.icon,alt:"icon"})}),(h||v)&&et.jsx(et.Fragment,{children:/Mobi|Android/i.test(navigator.userAgent)?et.jsxs(et.Fragment,{children:[et.jsx("div",{className:`draggable-item-options mobile-left ${v?"exiting":""}`,style:{top:`${tt+a.cellsTall*Q/2-10}px`,left:`${k+a.cellsLong*Q/2-_e.width/2-20}px`,width:"10px"},children:et.jsx("img",{src:my,alt:"rotate",className:"rotate-icon"+(M?" can-rotate":" cannot-rotate"),onClick:bt=>{bt.stopPropagation(),dt()}})}),et.jsx("div",{className:`draggable-item-options mobile-right ${v?"exiting":""}`,style:{top:`${tt+a.cellsTall*Q/2-10}px`,left:`${k+a.cellsLong*Q/2+_e.width/2+10}px`,width:"10px"},children:et.jsx("img",{src:dy,alt:"delete",className:"delete-icon",onClick:bt=>{bt.stopPropagation(),l(a,gt.fromString(b?.id||""))}})})]}):et.jsxs("div",{className:`draggable-item-options ${v?"exiting":""}`,style:{top:`${tt+a.cellsTall*Q/2-_e.height/2-20}px`,left:`${k+a.cellsLong*Q/2-_e.width/2}px`,width:`${_e.width}px`},children:[et.jsx("img",{src:my,alt:"rotate",className:"rotate-icon"+(M?" can-rotate":" cannot-rotate"),onClick:bt=>{bt.stopPropagation(),dt()}}),et.jsx("img",{src:dy,alt:"delete",className:"delete-icon",onClick:bt=>{bt.stopPropagation(),l(a,gt.fromString(b?.id||""))}})]})})]})}function kT({inventoryItem:a,addDraggingItem:e,removeItem:i}){const l=mt.useRef(null),o=mt.useRef(null),[h,d]=mt.useState(12),[g,v]=mt.useState(a.item);function _(D){const V=o.current,k=window.getComputedStyle(V),K=document.createElement("span");K.style.font=k.font,K.style.fontSize=D+"px",K.style.fontFamily=k.fontFamily,K.style.fontWeight=k.fontWeight,K.style.position="absolute",K.style.visibility="hidden",K.style.whiteSpace="nowrap",K.textContent=V.textContent,document.body.appendChild(K);const tt=K.offsetWidth;return document.body.removeChild(K),tt}function S(D){if(o.current){const V=o.current;return _(D-1)>V.offsetWidth&&D-1>8?S(D-1):D-1}return D}return mt.useEffect(()=>{setTimeout(()=>{o.current&&d(S(h))},100)},[]),et.jsxs("div",{className:"display",children:[et.jsx("div",{ref:l,id:a.item.id,className:"display-item",style:{width:`${a.item.cellsLong*10}px`,height:`${a.item.cellsTall*10}px`},onMouseDown:D=>{D.preventDefault(),D.stopPropagation(),a.item.initialElement=l.current,a.item.id=a.item.name+(Math.random()*1e4).toString(),console.log("ADDING ITEM",a.item.id,"to initialElement",a.item.initialElement),v(new Yt({id:a.item.id,cellsLong:a.item.cellsLong,cellsTall:a.item.cellsTall,name:a.item.name,icon:a.item.icon,moveable:a.item.moveable,starterItem:a.item.starterItem,displayItem:a.item.isDisplayItem})),e(a.item)},onTouchStart:D=>{D.preventDefault(),D.stopPropagation(),a.item.initialElement=l.current,a.item.id=a.item.name+(Math.random()*1e4).toString(),console.log("ADDING ITEM",a.item.id,"to initialElement",a.item.initialElement),v(new Yt({id:a.item.id,cellsLong:a.item.cellsLong,cellsTall:a.item.cellsTall,name:a.item.name,icon:a.item.icon,moveable:a.item.moveable,starterItem:a.item.starterItem,displayItem:a.item.isDisplayItem})),e(a.item)},children:a.item.icon.includes("custom-")?et.jsx("div",{className:"custom-icon",children:et.jsx("div",{children:et.jsx("p",{ref:o,style:{fontSize:`${h}px`},children:a.item.icon.split("custom-")[1]})})}):et.jsx("img",{src:a.item.icon,alt:"icon"})}),et.jsx("p",{children:a.item.name}),et.jsxs("p",{className:"quantity",children:["x",a.quantity]})]})}const qT="/LayItOut/assets/plus.circle-D6tpdKzS.png";function HT({inventoryItems:a,addDraggingItem:e,maxHeight:i,removeItem:l,showAddCustomItem:o,isCreatingTemplate:h,isEditingTemplate:d}){return et.jsxs("div",{className:"toolbox",style:{maxHeight:i?`${i}px`:"200px"},children:[a.map(g=>et.jsx(kT,{inventoryItem:g,addDraggingItem:e,removeItem:l})),!(h||d)&&et.jsx("div",{className:"add-item",onClick:()=>{o()},children:et.jsx("img",{src:qT,alt:"Add Item"})})]})}function fd({section:a,visible:e,cellSize:i}){const[l,o]=mt.useState(a.cellElement?.offsetLeft??0),[h,d]=mt.useState(a.cellElement?.offsetTop??0),g=mt.useRef(null),[v,_]=mt.useState(16);function S(k){const K=g.current,tt=window.getComputedStyle(K),H=document.createElement("span");H.style.font=tt.font,H.style.fontSize=k+"px",H.style.fontFamily=tt.fontFamily,H.style.fontWeight=tt.fontWeight,H.style.position="absolute",H.style.visibility="hidden",H.style.whiteSpace="no-wrap",H.textContent=K.textContent,document.body.appendChild(H);const lt=H.offsetWidth;return document.body.removeChild(H),lt}function D(k){if(g.current){const K=g.current,tt=S(k-1);return console.log("Current text width:",tt),console.log("Paragraph width:",K.offsetWidth),tt>K.offsetWidth&&v>6?(console.log("Decreasing font size to:",k-1),D(k-1)):k-1}return k}mt.useEffect(()=>{setTimeout(()=>{g.current&&_(D(v))},100)},[]);const V=()=>{a.cellElement!=null&&(o(a.cellElement.offsetLeft),d(a.cellElement.offsetTop))};return mt.useEffect(()=>(window.addEventListener("resize",V),()=>{window.removeEventListener("resize",V)}),[a.cellElement]),a.cellElement&&et.jsx("div",{className:`section ${e??!0?"":"invisible"}`,style:{top:`${a.cellElement.offsetTop}px`,left:`${a.cellElement.offsetLeft}px`,width:`${a.cellsLong*i-2}px`,height:`${a.cellsTall*i-2}px`},children:et.jsx("h2",{className:"section-title",style:{fontSize:`${v}px`},ref:g,children:a.name})})}const Zu="/LayItOut/assets/forward-Drovs4r6.png";function GT({dialogRef:a,closeDialog:e,layoutSections:i,isOpen:l}){const[o,h]=mt.useState(0),[d,g]=mt.useState(0),[v,_]=mt.useState([]),[S,D]=mt.useState([...i]),V=/Mobi|Android/i.test(navigator.userAgent)?5:10;function k(tt){for(const H of S)if(tt.x>=H.cellId.x&&tt.x<H.cellId.x+H.cellsLong&&tt.y>=H.cellId.y&&tt.y<H.cellId.y+H.cellsTall)return H;return null}mt.useEffect(()=>{if(!l)return;console.log("Layout dialog opened, generating cells and sections",i);const tt=[];let H=0,lt=0;for(const ot of i)console.log("Generating cells for section",ot.name,"at",ot.cellId,"with size",ot.cellsLong,"x",ot.cellsTall),console.log("Added section Length:",ot.cellsLong*V+ot.cellId.x),(ot.cellsLong+ot.cellId.x)*V>H&&(H+=ot.cellsLong*V),(ot.cellsTall+ot.cellId.y)*V>lt&&(lt+=ot.cellsTall*V);console.log("Current width:",H,"Current height:",lt),h(H),g(lt),[...Array(lt/V).keys()].map(ot=>{const ct=[];[...Array(H/V).keys()].map(Vt=>{console.log(k(new gt({x:Vt,y:ot}))!=null?"In section":"Outside section"),ct.push({id:new gt({x:Vt,y:ot}),hasItem:!1,itemId:"",mouseOver:!1,canPlaceItem:!1,mouseOverLocation:"",inSection:!1,size:V})}),tt.push(ct)}),_([...tt]),setTimeout(()=>{const ot=[...i];for(const ct of ot)console.log("Adding section",ct.name,ct.cellId),ct.cellElement=document.querySelector(`.layout-dialog #${ct.cellId.toId()}.cell:not(.cell-border)`),console.log("Section element found",ct.cellElement);console.log("Setting sections",ot),D([...ot]),_([...tt])},100)},[l,i]);function K(tt){let H=[];return tt.map(lt=>H=[...H,...lt]),H}return et.jsxs("dialog",{ref:a,className:"layout-dialog",children:[et.jsxs("div",{className:"layout-dialog-div",children:[et.jsx("h2",{children:"Layout"}),et.jsx(Xu,{width:o,height:d,cells:K(v)}),et.jsx("br",{}),et.jsx("button",{className:"layout-dialog-close",onClick:e,children:"Close"})]}),S.map(tt=>et.jsx(fd,{section:tt,visible:!0,cellSize:V},tt.cellId.toId()))]})}const QT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAE2mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogIDxBdHRyaWI6QWRzPgogICA8cmRmOlNlcT4KICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDI1LTA4LTAzPC9BdHRyaWI6Q3JlYXRlZD4KICAgICA8QXR0cmliOkV4dElkPmE2MmM1Y2UxLTIzNTYtNGE3Ny1hNTAwLTViNWJjMjE1MDU3NzwvQXR0cmliOkV4dElkPgogICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICA8L3JkZjpsaT4KICAgPC9yZGY6U2VxPgogIDwvQXR0cmliOkFkcz4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6ZGM9J2h0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvJz4KICA8ZGM6dGl0bGU+CiAgIDxyZGY6QWx0PgogICAgPHJkZjpsaSB4bWw6bGFuZz0neC1kZWZhdWx0Jz5VbnRpdGxlZCBkZXNpZ24gLSAxPC9yZGY6bGk+CiAgIDwvcmRmOkFsdD4KICA8L2RjOnRpdGxlPgogPC9yZGY6RGVzY3JpcHRpb24+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpwZGY9J2h0dHA6Ly9ucy5hZG9iZS5jb20vcGRmLzEuMy8nPgogIDxwZGY6QXV0aG9yPlNhcmFoIEtlbW1lTmFzaDwvcGRmOkF1dGhvcj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wPSdodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvJz4KICA8eG1wOkNyZWF0b3JUb29sPkNhbnZhIChSZW5kZXJlcikgZG9jPURBR3UyeXVFTlpBIHVzZXI9VUFGakdXNnh0Q1EgYnJhbmQ9W0FSQ0hJVkVEXSBGb3J0IFdheW5lIENvbW11bml0eSBTY2hvb2xzIHRlbXBsYXRlPTwveG1wOkNyZWF0b3JUb29sPgogPC9yZGY6RGVzY3JpcHRpb24+CjwvcmRmOlJERj4KPC94OnhtcG1ldGE+Cjw/eHBhY2tldCBlbmQ9J3InPz7fMgZvAAADaElEQVR4nO3dO2gTAQDG8e8ujz6k6FBbUeOjKILV4CAiDgWxLqK4KM4dCuLiIIg6OQgibi5OgjgoDhZB7NIiIr6gCFFThIotaSsVtSJtadI87hykiKSNd/Uu9yX3/cZwyV3yv0fukYth27YNoWEGPQHyNwUhoyBkFISMgpBREDIKQkZByCgImajTAa88XMDTDyU/p8VXjTHg0vEGHNgeCXpSKnK8hNRyDADIFYCXI/zvwfESsujInig6N/i7prv+OO/puO6/LmB82kYtHLRzHSSZMNG9y/XTXFkMsjth4rAH4xpIFzE+XQs5tFGnoyBkFISMgpBREDIKQkZByCgIGQUhoyBkFISMvwelVujU/iiGJy3s3cp9qNwPlEF6D8aDnoTAaJVFRkHIKAgZBSGjIGQUhIyCkFEQMgpCRkHIKAgZymNZfvkxZ+NtpsqXkxrAtnYTqxoMR4OHKsjQaAlDo9W/vndzq4FbvU2Ohg3FKqtzY7CH8TPfnV/GGoolpKcrhp6uWNXHO5Au4tqjvKvnhGIJqSUKQkZByCgIGQUhoyBkFISMgpBREDIKQkZByFAGsSwgm6+N35V7jTLIubs5nLyRxdg3K+hJqTrKIOlJC7kCMDKlIBQW7yRsUk6dv0L4lrkpCBkFIeP6FO67CQslq1j2+I71Jra0qu//ch2kP1VEf6r88XgU6DvbhMa4s8tdZGmezdJrWwxEwvcbTc+5XkIuHIv7fke5MNNKn4yCkFEQMgpCRkHIUH9dujmYx+1nhbLHkwkT5482wKjDXR7qIDNZYCZbfqLqyWwJZ7pttDTVXxHqIMvdanzdGqMuYwDkQby61Xgt0UadTLhmv2XM5Wxc7lvA1E9vL6xYyYUaCgLg4xcLqQzH+XsFAZDcFMHpQzHML3j7up++Wnjh8k9kFARAxARO7PP+N4gD6aLrINqokwlsCUllSrj3qoBihRmoxLFar6rAgjwYKuLNWOVPfHaJvfR6F1iQnq4Ytrcvvca88/z38avVzfW5N15JYEE62kx0tFUOUo8HD/9FG3UyCkJGQcgoCBnPLiX1w/sJC1aVxuWH4c/ud6QM27Ydfdnvvjrv+sXlj8GLzY6Gc7zK2unzHxLXs2TC+WfneAmR6tBsT0ZByCgIGQUhoyBkFISMgpBREDIKQuYX+jTA4JQOFzkAAAAASUVORK5CYII=",YT="/LayItOut/assets/template-Cjj8EPhc.png";function FT({dialogRef:a,closeDialog:e,templates:i,isOpen:l}){const[o,h]=mt.useState([]),[d,g]=mt.useState([]),v=5,[_,S]=mt.useState([]),[D,V]=mt.useState(/Mobi|Android/i.test(navigator.userAgent)),[k,K]=mt.useState([]);function tt(lt,ot,ct){const Vt=[],vt=i.filter(Tt=>lt.some(x=>x.name===Tt.name));vt.sort((Tt,x)=>lt.indexOf(Tt)-lt.indexOf(x));for(const Tt of vt){const x=[];let A=0,w=0;for(const b of Tt.sections)console.log("Generating cells for section",b.name,"at",b.cellId,"with size",b.cellsLong,"x",b.cellsTall),console.log("Added section Length:",b.cellsLong*v+b.cellId.x),(b.cellsLong+b.cellId.x)*v>A&&(A+=b.cellsLong*v),(b.cellsTall+b.cellId.y)*v>w&&(w+=b.cellsTall*v);console.log("Current width:",A,"Current height:",w),[...Array(w/v).keys()].map(b=>{const N=[];[...Array(A/v).keys()].map(M=>{N.push({id:new gt({x:M,y:b}),hasItem:!1,itemId:"",mouseOver:!1,canPlaceItem:!1,mouseOverLocation:"",inSection:!1,size:v})}),x.push(N)}),Vt.push({width:A,height:w,templateName:Tt.name,cells:x})}g([...Vt]),setTimeout(()=>{const Tt=[],x=[];for(const A of vt){const w=[];for(const b of A.sections)console.log("Adding section",b.name,b.cellId,A.name.split(" ").join("-")),b.cellElement=document.querySelector(`.template-dialog #${A.name.split(" ").join("-")} #${b.cellId.toId()}.cell:not(.cell-border)`),console.log("Section element found",b.cellElement),Tt.push(b),w.push(...b.startingItems.map(N=>new Le({cell:new gt({x:b.cellId.x+N.cell.x,y:b.cellId.y+N.cell.y}),item:new Yt({id:N.item.id,name:N.item.name,cellsLong:N.item.cellsLong,cellsTall:N.item.cellsTall,icon:N.item.icon,initialElement:document.querySelector(`.template-dialog #${A.name.split(" ").join("-")} #${N.cell.toId()}.cell:not(.cell-border)`),starterItem:!0,moveable:!1})})));for(const b of w){console.log("Placing starting item",b.item.name,b.cell);for(let N=0;N<b.item.cellsTall;N++)for(let M=0;M<b.item.cellsLong;M++)Vt[Vt.findIndex(I=>I.templateName==A.name)].cells[b.cell.y+N][b.cell.x+M].hasItem=!0,Vt[Vt.findIndex(I=>I.templateName==A.name)].cells[b.cell.y+N][b.cell.x+M].itemId=b.item.id;b.item.initialElement=document.querySelector(`.template-dialog #${A.name.split(" ").join("-")} #${b.cell.toId()}.cell:not(.cell-border)`),console.log("Adding item to items",b.item.initialElement),x.push(new Yt({id:b.item.id,name:b.item.name,cellsLong:b.item.cellsLong,cellsTall:b.item.cellsTall,icon:b.item.icon,initialElement:b.item.initialElement,starterItem:!0,moveable:!1}))}}S(A=>[...A,...x]),h([...Tt])},100)}mt.useEffect(()=>{if(l&&(console.log("Layout dialog opened, generating cells and sections",i),i.length!==0)){if(i.length==1){tt([i[0]]);return}K(D?[i[0].name]:[i[0].name,i[1].name])}},[l,i]),mt.useEffect(()=>{const lt=i.filter(ot=>k.includes(ot.name));console.log("Viewing templates:",k),lt.sort((ot,ct)=>k.indexOf(ot.name)-k.indexOf(ct.name)),console.log("Generating templates for",lt.map(ot=>ot.name)),tt(lt)},[k]);function H(lt){let ot=[];return lt.map(ct=>ot=[...ot,...ct]),ot}return et.jsxs("dialog",{ref:a,className:"template-dialog",children:[et.jsxs("div",{className:"template-dialog-div",children:[et.jsx("h2",{children:"Templates"}),et.jsxs("div",{className:"templates",children:[i.length>1&&i.filter(lt=>!k.includes(lt.name)).length>0&&et.jsx("img",{src:Zu,onClick:()=>{if(D){const ot=(i.findIndex(ct=>ct.name===k[0])-1+i.length)%i.length;K([i[ot].name])}else K(lt=>{const ct=(i.findIndex(Vt=>Vt.name===lt[0])-1+i.length)%i.length;return[i[ct].name,lt[0]]})},className:"back-mobile-areas"}),d.map((lt,ot)=>et.jsxs("div",{children:[et.jsx(Xu,{width:lt.width,height:lt.height,cells:H(lt.cells),id:lt.templateName.split(" ").join("-"),visibile:!0},ot),et.jsx("h3",{children:lt.templateName}),et.jsx("button",{className:"template-select-btn",onClick:()=>{const ct=i.find(Tt=>Tt.name===lt.templateName),Vt=new Yn({name:ct.name,id:ct.id,sections:ct.sections.map(Tt=>new te({name:Tt.name,cellId:new gt({x:Tt.cellId.x*(D?20:10),y:Tt.cellId.y*(D?20:10)}),cellsLong:Tt.cellsLong*(D?20:10),cellsTall:Tt.cellsTall*(D?20:10),startingItems:Tt.startingItems.map(x=>new Le({cell:new gt({x:x.cell.x*(D?2:1),y:x.cell.y*(D?2:1)}),item:new Yt({id:x.item.id,name:x.item.name,icon:x.item.icon,cellsLong:x.item.cellsLong*2,cellsTall:x.item.cellsTall*2,starterItem:x.item.starterItem,moveable:x.item.moveable})}))}))}),vt=new URLSearchParams(window.location.search);vt.set("templateName",Vt.name),window.location.search=vt.toString()},children:" Select"})]})),i.length>1&&i.filter(lt=>!k.includes(lt.name)).length>0&&et.jsx("img",{src:Zu,onClick:()=>{if(D){const ot=(i.findIndex(ct=>ct.name===k[0])+1)%i.length;K([i[ot].name])}else K(lt=>{const ct=(i.findIndex(Vt=>Vt.name===lt[lt.length-1])+1)%i.length;return[lt[1],i[ct].name]})},className:"forward-mobile-areas"})]}),et.jsx("br",{}),et.jsx("button",{className:"template-dialog-close",onClick:e,children:"Close"})]}),o.map(lt=>et.jsx(fd,{section:lt,visible:!0,cellSize:v},lt.cellId.toId())),_.map(lt=>et.jsx(S_,{removeItem:()=>{},visible:!0,item:lt,canPlaceItem:()=>!1,placeItem:()=>{},deleteItemRotate:()=>{},highlightCells:()=>{},unHighlightCells:()=>{},deleteItem:()=>{},isSelected:!1,onSelect:ot=>{},isUnselecting:!1,onDeselect:()=>{}},lt.id))]})}function KT({dialogRef:a,closeDialog:e,addInventoryItem:i}){const[l,o]=mt.useState(""),[h,d]=mt.useState(1),[g,v]=mt.useState(1),[_,S]=mt.useState(1);return et.jsx("dialog",{ref:a,className:"custom-item-dialog",children:et.jsxs("div",{className:"custom-item-dialog-div",children:[et.jsx("h2",{children:"Add Custom Item"}),et.jsxs("div",{className:"custom-item-row",children:[et.jsx("label",{htmlFor:"item-name",children:"Name:"}),et.jsx("input",{type:"text",id:"item-name",name:"item-name",onChange:D=>o(D.target.value??""),value:l})]}),et.jsxs("div",{className:"custom-item-row",children:[et.jsx("label",{htmlFor:"item-icon",children:"Count:"}),et.jsx("input",{type:"number",id:"item-count",name:"item-count",min:"1",value:h,onChange:D=>d(parseInt(D.target.value)??1)})]}),et.jsxs("div",{className:"custom-item-row custom-item-size",children:[et.jsx("label",{htmlFor:"item-width",children:"Size (in feet):"}),et.jsx("input",{type:"number",id:"item-width",name:"item-width",min:"1",value:g,onChange:D=>v(parseFloat(D.target.value)??1)}),et.jsx("span",{children:" x "}),et.jsx("input",{type:"number",id:"item-height",name:"item-height",min:"1",value:_,onChange:D=>S(parseFloat(D.target.value)??1)})]}),et.jsx("br",{}),et.jsx("button",{className:"custom-item-dialog-add",onClick:()=>{if(l.trim()===""){alert("Item name cannot be empty");return}const D=new li({quantity:h,item:new Yt({id:l+(Math.random()*1e4).toString(),name:l,icon:`custom-${l}`,cellsLong:Math.ceil(g),cellsTall:Math.ceil(_),moveable:!0,starterItem:!1,displayItem:!0})});i(D),o(""),d(1),v(1),S(1),e()},children:"Add Item"}),et.jsx("br",{}),et.jsx("br",{}),et.jsx("button",{className:"custom-item-dialog-close",onClick:e,children:"Close"})]})})}const XT=()=>{};var gy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=function(a){const e=[];let i=0;for(let l=0;l<a.length;l++){let o=a.charCodeAt(l);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&l+1<a.length&&(a.charCodeAt(l+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++l)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},ZT=function(a){const e=[];let i=0,l=0;for(;i<a.length;){const o=a[i++];if(o<128)e[l++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[l++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],g=a[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[l++]=String.fromCharCode(55296+(v>>10)),e[l++]=String.fromCharCode(56320+(v&1023))}else{const h=a[i++],d=a[i++];e[l++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},w_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,g=d?a[o+1]:0,v=o+2<a.length,_=v?a[o+2]:0,S=h>>2,D=(h&3)<<4|g>>4;let V=(g&15)<<2|_>>6,k=_&63;v||(k=64,d||(V=64)),l.push(i[S],i[D],i[V],i[k])}return l.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(b_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):ZT(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const _=o<a.length?i[a.charAt(o)]:64;++o;const D=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||g==null||_==null||D==null)throw new JT;const V=h<<2|g>>4;if(l.push(V),_!==64){const k=g<<4&240|_>>2;if(l.push(k),D!==64){const K=_<<6&192|D;l.push(K)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class JT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $T=function(a){const e=b_(a);return w_.encodeByteArray(e,!0)},Ju=function(a){return $T(a).replace(/\./g,"")},WT=function(a){try{return w_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=()=>tE().__FIREBASE_DEFAULTS__,nE=()=>{if(typeof process>"u"||typeof gy>"u")return;const a=gy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},iE=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&WT(a[1]);return e&&JSON.parse(e)},dd=()=>{try{return XT()||eE()||nE()||iE()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},sE=a=>dd()?.emulatorHosts?.[a],aE=a=>{const e=sE(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const l=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),l]:[e.substring(0,i),l]},R_=()=>dd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,l)=>{i?this.reject(i):this.resolve(l),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rE(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},l=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${l}`,aud:l,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Ju(JSON.stringify(i)),Ju(JSON.stringify(d)),""].join(".")}const Zr={};function uE(){const a={prod:[],emulator:[]};for(const e of Object.keys(Zr))Zr[e]?a.emulator.push(e):a.prod.push(e);return a}function cE(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let py=!1;function hE(a,e){if(typeof window>"u"||typeof document>"u"||!md(window.location.host)||Zr[a]===e||Zr[a]||py)return;Zr[a]=e;function i(V){return`__firebase__banner__${V}`}const l="__firebase__banner",h=uE().prod.length>0;function d(){const V=document.getElementById(l);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,k){V.setAttribute("width","24"),V.setAttribute("id",k),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{py=!0,d()},V}function S(V,k){V.setAttribute("id",k),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function D(){const V=cE(l),k=i("text"),K=document.getElementById(k)||document.createElement("span"),tt=i("learnmore"),H=document.getElementById(tt)||document.createElement("a"),lt=i("preprendIcon"),ot=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const ct=V.element;g(ct),S(H,tt);const Vt=_();v(ot,lt),ct.append(ot,K,H,Vt),document.body.appendChild(ct)}h?(K.innerText="Preview backend disconnected.",ot.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ot.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",D):D()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dE(){const a=dd()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mE(){return!dE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gE(){try{return typeof indexedDB=="object"}catch{return!1}}function pE(){return new Promise((a,e)=>{try{let i=!0;const l="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(l);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(l),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="FirebaseError";class Pl extends Error{constructor(e,i,l){super(i),this.code=e,this.customData=l,this.name=yE,Object.setPrototypeOf(this,Pl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,I_.prototype.create)}}class I_{constructor(e,i,l){this.service=e,this.serviceName=i,this.errors=l}create(e,...i){const l=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?_E(h,l):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Pl(o,g,l)}}function _E(a,e){return a.replace(vE,(i,l)=>{const o=e[l];return o!=null?String(o):`<${l}?>`})}const vE=/\{\$([^}]+)}/g;function $u(a,e){if(a===e)return!0;const i=Object.keys(a),l=Object.keys(e);for(const o of i){if(!l.includes(o))return!1;const h=a[o],d=e[o];if(yy(h)&&yy(d)){if(!$u(h,d))return!1}else if(h!==d)return!1}for(const o of l)if(!i.includes(o))return!1;return!0}function yy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(a){return a&&a._delegate?a._delegate:a}class io{constructor(e,i,l){this.name=e,this.instanceFactory=i,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const l=new lE;if(this.instancesDeferred.set(i,l),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&l.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),l=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(l)return null;throw o}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AE(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[i,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});l.resolve(h)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,l=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:l,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);l===g&&d.resolve(o)}return o}onInit(e,i){const l=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(l)??new Set;o.add(e),this.onInitCallbacks.set(l,o);const h=this.instances.get(l);return h&&e(h,l),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const l=this.onInitCallbacks.get(i);if(l)for(const o of l)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let l=this.instances.get(e);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:EE(e),options:i}),this.instances.set(e,l),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(l,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,l)}catch{}return l||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EE(a){return a===Da?void 0:a}function AE(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new TE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Wt||(Wt={}));const bE={debug:Wt.DEBUG,verbose:Wt.VERBOSE,info:Wt.INFO,warn:Wt.WARN,error:Wt.ERROR,silent:Wt.SILENT},wE=Wt.INFO,RE={[Wt.DEBUG]:"log",[Wt.VERBOSE]:"log",[Wt.INFO]:"info",[Wt.WARN]:"warn",[Wt.ERROR]:"error"},IE=(a,e,...i)=>{if(e<a.logLevel)return;const l=new Date().toISOString(),o=RE[e];if(o)console[o](`[${l}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class D_{constructor(e){this.name=e,this._logLevel=wE,this._logHandler=IE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Wt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Wt.DEBUG,...e),this._logHandler(this,Wt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Wt.VERBOSE,...e),this._logHandler(this,Wt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Wt.INFO,...e),this._logHandler(this,Wt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Wt.WARN,...e),this._logHandler(this,Wt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Wt.ERROR,...e),this._logHandler(this,Wt.ERROR,...e)}}const DE=(a,e)=>e.some(i=>a instanceof i);let _y,vy;function CE(){return _y||(_y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xE(){return vy||(vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C_=new WeakMap,Gf=new WeakMap,x_=new WeakMap,Lf=new WeakMap,gd=new WeakMap;function VE(a){const e=new Promise((i,l)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(js(a.result)),o()},d=()=>{l(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&C_.set(i,a)}).catch(()=>{}),gd.set(e,a),e}function NE(a){if(Gf.has(a))return;const e=new Promise((i,l)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{l(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Gf.set(a,e)}let Qf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Gf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||x_.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return js(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function OE(a){Qf=a(Qf)}function ME(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const l=a.call(Uf(this),e,...i);return x_.set(l,e.sort?e.sort():[e]),js(l)}:xE().includes(a)?function(...e){return a.apply(Uf(this),e),js(C_.get(this))}:function(...e){return js(a.apply(Uf(this),e))}}function LE(a){return typeof a=="function"?ME(a):(a instanceof IDBTransaction&&NE(a),DE(a,CE())?new Proxy(a,Qf):a)}function js(a){if(a instanceof IDBRequest)return VE(a);if(Lf.has(a))return Lf.get(a);const e=LE(a);return e!==a&&(Lf.set(a,e),gd.set(e,a)),e}const Uf=a=>gd.get(a);function UE(a,e,{blocked:i,upgrade:l,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),g=js(d);return l&&d.addEventListener("upgradeneeded",v=>{l(js(d.result),v.oldVersion,v.newVersion,js(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const zE=["get","getKey","getAll","getAllKeys","count"],PE=["put","add","delete","clear"],zf=new Map;function Ty(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(zf.get(e))return zf.get(e);const i=e.replace(/FromIndex$/,""),l=e!==i,o=PE.includes(i);if(!(i in(l?IDBIndex:IDBObjectStore).prototype)||!(o||zE.includes(i)))return;const h=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return l&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&v.done]))[0]};return zf.set(e,h),h}OE(a=>({...a,get:(e,i,l)=>Ty(e,i)||a.get(e,i,l),has:(e,i)=>!!Ty(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(jE(i)){const l=i.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(i=>i).join(" ")}}function jE(a){return a.getComponent()?.type==="VERSION"}const Yf="@firebase/app",Ey="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new D_("@firebase/app"),kE="@firebase/app-compat",qE="@firebase/analytics-compat",HE="@firebase/analytics",GE="@firebase/app-check-compat",QE="@firebase/app-check",YE="@firebase/auth",FE="@firebase/auth-compat",KE="@firebase/database",XE="@firebase/data-connect",ZE="@firebase/database-compat",JE="@firebase/functions",$E="@firebase/functions-compat",WE="@firebase/installations",tA="@firebase/installations-compat",eA="@firebase/messaging",nA="@firebase/messaging-compat",iA="@firebase/performance",sA="@firebase/performance-compat",aA="@firebase/remote-config",lA="@firebase/remote-config-compat",rA="@firebase/storage",oA="@firebase/storage-compat",uA="@firebase/firestore",cA="@firebase/ai",hA="@firebase/firestore-compat",fA="firebase",dA="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="[DEFAULT]",mA={[Yf]:"fire-core",[kE]:"fire-core-compat",[HE]:"fire-analytics",[qE]:"fire-analytics-compat",[QE]:"fire-app-check",[GE]:"fire-app-check-compat",[YE]:"fire-auth",[FE]:"fire-auth-compat",[KE]:"fire-rtdb",[XE]:"fire-data-connect",[ZE]:"fire-rtdb-compat",[JE]:"fire-fn",[$E]:"fire-fn-compat",[WE]:"fire-iid",[tA]:"fire-iid-compat",[eA]:"fire-fcm",[nA]:"fire-fcm-compat",[iA]:"fire-perf",[sA]:"fire-perf-compat",[aA]:"fire-rc",[lA]:"fire-rc-compat",[rA]:"fire-gcs",[oA]:"fire-gcs-compat",[uA]:"fire-fst",[hA]:"fire-fst-compat",[cA]:"fire-vertex","fire-js":"fire-js",[fA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=new Map,gA=new Map,Kf=new Map;function Ay(a,e){try{a.container.addComponent(e)}catch(i){os.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function tc(a){const e=a.name;if(Kf.has(e))return os.debug(`There were multiple attempts to register component ${e}.`),!1;Kf.set(e,a);for(const i of Wu.values())Ay(i,a);for(const i of gA.values())Ay(i,a);return!0}function pA(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function yA(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ks=new I_("app","Firebase",_A);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,i,l){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=dA;function V_(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const l={name:Ff,automaticDataCollectionEnabled:!0,...e},o=l.name;if(typeof o!="string"||!o)throw ks.create("bad-app-name",{appName:String(o)});if(i||(i=R_()),!i)throw ks.create("no-options");const h=Wu.get(o);if(h){if($u(i,h.options)&&$u(l,h.config))return h;throw ks.create("duplicate-app",{appName:o})}const d=new SE(o);for(const v of Kf.values())d.addComponent(v);const g=new vA(i,l,d);return Wu.set(o,g),g}function EA(a=Ff){const e=Wu.get(a);if(!e&&a===Ff&&R_())return V_();if(!e)throw ks.create("no-app",{appName:a});return e}function xl(a,e,i){let l=mA[a]??a;i&&(l+=`-${i}`);const o=l.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${l}" with version "${e}":`];o&&d.push(`library name "${l}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),os.warn(d.join(" "));return}tc(new io(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="firebase-heartbeat-database",SA=1,so="firebase-heartbeat-store";let Pf=null;function N_(){return Pf||(Pf=UE(AA,SA,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(so)}catch(i){console.warn(i)}}}}).catch(a=>{throw ks.create("idb-open",{originalErrorMessage:a.message})})),Pf}async function bA(a){try{const i=(await N_()).transaction(so),l=await i.objectStore(so).get(O_(a));return await i.done,l}catch(e){if(e instanceof Pl)os.warn(e.message);else{const i=ks.create("idb-get",{originalErrorMessage:e?.message});os.warn(i.message)}}}async function Sy(a,e){try{const l=(await N_()).transaction(so,"readwrite");await l.objectStore(so).put(e,O_(a)),await l.done}catch(i){if(i instanceof Pl)os.warn(i.message);else{const l=ks.create("idb-set",{originalErrorMessage:i?.message});os.warn(l.message)}}}function O_(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=1024,RA=30;class IA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new CA(i),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=by();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(o=>o.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats.length>RA){const o=xA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){os.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=by(),{heartbeatsToSend:i,unsentEntries:l}=DA(this._heartbeatsCache.heartbeats),o=Ju(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return os.warn(e),""}}}function by(){return new Date().toISOString().substring(0,10)}function DA(a,e=wA){const i=[];let l=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),wy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),wy(i)>e){i.pop();break}l=l.slice(1)}return{heartbeatsToSend:i,unsentEntries:l}}class CA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gE()?pE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await bA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const l=await this.read();return Sy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const l=await this.read();return Sy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function wy(a){return Ju(JSON.stringify({version:2,heartbeats:a})).length}function xA(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let l=1;l<a.length;l++)a[l].date<i&&(i=a[l].date,e=l);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(a){tc(new io("platform-logger",e=>new BE(e),"PRIVATE")),tc(new io("heartbeat",e=>new IA(e),"PRIVATE")),xl(Yf,Ey,a),xl(Yf,Ey,"esm2020"),xl("fire-js","")}VA("");var Ry=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qs,M_;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,A){function w(){}w.prototype=A.prototype,x.D=A.prototype,x.prototype=new w,x.prototype.constructor=x,x.C=function(b,N,M){for(var I=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)I[Se-2]=arguments[Se];return A.prototype[N].apply(b,I)}}function i(){this.blockSize=-1}function l(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(l,i),l.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,A,w){w||(w=0);var b=Array(16);if(typeof A=="string")for(var N=0;16>N;++N)b[N]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(N=0;16>N;++N)b[N]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=x.g[0],w=x.g[1],N=x.g[2];var M=x.g[3],I=A+(M^w&(N^M))+b[0]+3614090360&4294967295;A=w+(I<<7&4294967295|I>>>25),I=M+(N^A&(w^N))+b[1]+3905402710&4294967295,M=A+(I<<12&4294967295|I>>>20),I=N+(w^M&(A^w))+b[2]+606105819&4294967295,N=M+(I<<17&4294967295|I>>>15),I=w+(A^N&(M^A))+b[3]+3250441966&4294967295,w=N+(I<<22&4294967295|I>>>10),I=A+(M^w&(N^M))+b[4]+4118548399&4294967295,A=w+(I<<7&4294967295|I>>>25),I=M+(N^A&(w^N))+b[5]+1200080426&4294967295,M=A+(I<<12&4294967295|I>>>20),I=N+(w^M&(A^w))+b[6]+2821735955&4294967295,N=M+(I<<17&4294967295|I>>>15),I=w+(A^N&(M^A))+b[7]+4249261313&4294967295,w=N+(I<<22&4294967295|I>>>10),I=A+(M^w&(N^M))+b[8]+1770035416&4294967295,A=w+(I<<7&4294967295|I>>>25),I=M+(N^A&(w^N))+b[9]+2336552879&4294967295,M=A+(I<<12&4294967295|I>>>20),I=N+(w^M&(A^w))+b[10]+4294925233&4294967295,N=M+(I<<17&4294967295|I>>>15),I=w+(A^N&(M^A))+b[11]+2304563134&4294967295,w=N+(I<<22&4294967295|I>>>10),I=A+(M^w&(N^M))+b[12]+1804603682&4294967295,A=w+(I<<7&4294967295|I>>>25),I=M+(N^A&(w^N))+b[13]+4254626195&4294967295,M=A+(I<<12&4294967295|I>>>20),I=N+(w^M&(A^w))+b[14]+2792965006&4294967295,N=M+(I<<17&4294967295|I>>>15),I=w+(A^N&(M^A))+b[15]+1236535329&4294967295,w=N+(I<<22&4294967295|I>>>10),I=A+(N^M&(w^N))+b[1]+4129170786&4294967295,A=w+(I<<5&4294967295|I>>>27),I=M+(w^N&(A^w))+b[6]+3225465664&4294967295,M=A+(I<<9&4294967295|I>>>23),I=N+(A^w&(M^A))+b[11]+643717713&4294967295,N=M+(I<<14&4294967295|I>>>18),I=w+(M^A&(N^M))+b[0]+3921069994&4294967295,w=N+(I<<20&4294967295|I>>>12),I=A+(N^M&(w^N))+b[5]+3593408605&4294967295,A=w+(I<<5&4294967295|I>>>27),I=M+(w^N&(A^w))+b[10]+38016083&4294967295,M=A+(I<<9&4294967295|I>>>23),I=N+(A^w&(M^A))+b[15]+3634488961&4294967295,N=M+(I<<14&4294967295|I>>>18),I=w+(M^A&(N^M))+b[4]+3889429448&4294967295,w=N+(I<<20&4294967295|I>>>12),I=A+(N^M&(w^N))+b[9]+568446438&4294967295,A=w+(I<<5&4294967295|I>>>27),I=M+(w^N&(A^w))+b[14]+3275163606&4294967295,M=A+(I<<9&4294967295|I>>>23),I=N+(A^w&(M^A))+b[3]+4107603335&4294967295,N=M+(I<<14&4294967295|I>>>18),I=w+(M^A&(N^M))+b[8]+1163531501&4294967295,w=N+(I<<20&4294967295|I>>>12),I=A+(N^M&(w^N))+b[13]+2850285829&4294967295,A=w+(I<<5&4294967295|I>>>27),I=M+(w^N&(A^w))+b[2]+4243563512&4294967295,M=A+(I<<9&4294967295|I>>>23),I=N+(A^w&(M^A))+b[7]+1735328473&4294967295,N=M+(I<<14&4294967295|I>>>18),I=w+(M^A&(N^M))+b[12]+2368359562&4294967295,w=N+(I<<20&4294967295|I>>>12),I=A+(w^N^M)+b[5]+4294588738&4294967295,A=w+(I<<4&4294967295|I>>>28),I=M+(A^w^N)+b[8]+2272392833&4294967295,M=A+(I<<11&4294967295|I>>>21),I=N+(M^A^w)+b[11]+1839030562&4294967295,N=M+(I<<16&4294967295|I>>>16),I=w+(N^M^A)+b[14]+4259657740&4294967295,w=N+(I<<23&4294967295|I>>>9),I=A+(w^N^M)+b[1]+2763975236&4294967295,A=w+(I<<4&4294967295|I>>>28),I=M+(A^w^N)+b[4]+1272893353&4294967295,M=A+(I<<11&4294967295|I>>>21),I=N+(M^A^w)+b[7]+4139469664&4294967295,N=M+(I<<16&4294967295|I>>>16),I=w+(N^M^A)+b[10]+3200236656&4294967295,w=N+(I<<23&4294967295|I>>>9),I=A+(w^N^M)+b[13]+681279174&4294967295,A=w+(I<<4&4294967295|I>>>28),I=M+(A^w^N)+b[0]+3936430074&4294967295,M=A+(I<<11&4294967295|I>>>21),I=N+(M^A^w)+b[3]+3572445317&4294967295,N=M+(I<<16&4294967295|I>>>16),I=w+(N^M^A)+b[6]+76029189&4294967295,w=N+(I<<23&4294967295|I>>>9),I=A+(w^N^M)+b[9]+3654602809&4294967295,A=w+(I<<4&4294967295|I>>>28),I=M+(A^w^N)+b[12]+3873151461&4294967295,M=A+(I<<11&4294967295|I>>>21),I=N+(M^A^w)+b[15]+530742520&4294967295,N=M+(I<<16&4294967295|I>>>16),I=w+(N^M^A)+b[2]+3299628645&4294967295,w=N+(I<<23&4294967295|I>>>9),I=A+(N^(w|~M))+b[0]+4096336452&4294967295,A=w+(I<<6&4294967295|I>>>26),I=M+(w^(A|~N))+b[7]+1126891415&4294967295,M=A+(I<<10&4294967295|I>>>22),I=N+(A^(M|~w))+b[14]+2878612391&4294967295,N=M+(I<<15&4294967295|I>>>17),I=w+(M^(N|~A))+b[5]+4237533241&4294967295,w=N+(I<<21&4294967295|I>>>11),I=A+(N^(w|~M))+b[12]+1700485571&4294967295,A=w+(I<<6&4294967295|I>>>26),I=M+(w^(A|~N))+b[3]+2399980690&4294967295,M=A+(I<<10&4294967295|I>>>22),I=N+(A^(M|~w))+b[10]+4293915773&4294967295,N=M+(I<<15&4294967295|I>>>17),I=w+(M^(N|~A))+b[1]+2240044497&4294967295,w=N+(I<<21&4294967295|I>>>11),I=A+(N^(w|~M))+b[8]+1873313359&4294967295,A=w+(I<<6&4294967295|I>>>26),I=M+(w^(A|~N))+b[15]+4264355552&4294967295,M=A+(I<<10&4294967295|I>>>22),I=N+(A^(M|~w))+b[6]+2734768916&4294967295,N=M+(I<<15&4294967295|I>>>17),I=w+(M^(N|~A))+b[13]+1309151649&4294967295,w=N+(I<<21&4294967295|I>>>11),I=A+(N^(w|~M))+b[4]+4149444226&4294967295,A=w+(I<<6&4294967295|I>>>26),I=M+(w^(A|~N))+b[11]+3174756917&4294967295,M=A+(I<<10&4294967295|I>>>22),I=N+(A^(M|~w))+b[2]+718787259&4294967295,N=M+(I<<15&4294967295|I>>>17),I=w+(M^(N|~A))+b[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+M&4294967295}l.prototype.u=function(x,A){A===void 0&&(A=x.length);for(var w=A-this.blockSize,b=this.B,N=this.h,M=0;M<A;){if(N==0)for(;M<=w;)o(this,x,M),M+=this.blockSize;if(typeof x=="string"){for(;M<A;)if(b[N++]=x.charCodeAt(M++),N==this.blockSize){o(this,b),N=0;break}}else for(;M<A;)if(b[N++]=x[M++],N==this.blockSize){o(this,b),N=0;break}}this.h=N,this.o+=A},l.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;var w=8*this.o;for(A=x.length-8;A<x.length;++A)x[A]=w&255,w/=256;for(this.u(x),x=Array(16),A=w=0;4>A;++A)for(var b=0;32>b;b+=8)x[w++]=this.g[A]>>>b&255;return x};function h(x,A){var w=g;return Object.prototype.hasOwnProperty.call(w,x)?w[x]:w[x]=A(x)}function d(x,A){this.h=A;for(var w=[],b=!0,N=x.length-1;0<=N;N--){var M=x[N]|0;b&&M==A||(w[N]=M,b=!1)}this.g=w}var g={};function v(x){return-128<=x&&128>x?h(x,function(A){return new d([A|0],0>A?-1:0)}):new d([x|0],0>x?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return D;if(0>x)return H(_(-x));for(var A=[],w=1,b=0;x>=w;b++)A[b]=x/w|0,w*=4294967296;return new d(A,0)}function S(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return H(S(x.substring(1),A));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(A,8)),b=D,N=0;N<x.length;N+=8){var M=Math.min(8,x.length-N),I=parseInt(x.substring(N,N+M),A);8>M?(M=_(Math.pow(A,M)),b=b.j(M).add(_(I))):(b=b.j(w),b=b.add(_(I)))}return b}var D=v(0),V=v(1),k=v(16777216);a=d.prototype,a.m=function(){if(tt(this))return-H(this).m();for(var x=0,A=1,w=0;w<this.g.length;w++){var b=this.i(w);x+=(0<=b?b:4294967296+b)*A,A*=4294967296}return x},a.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(K(this))return"0";if(tt(this))return"-"+H(this).toString(x);for(var A=_(Math.pow(x,6)),w=this,b="";;){var N=Vt(w,A).g;w=lt(w,N.j(A));var M=((0<w.g.length?w.g[0]:w.h)>>>0).toString(x);if(w=N,K(w))return M+b;for(;6>M.length;)M="0"+M;b=M+b}},a.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function K(x){if(x.h!=0)return!1;for(var A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function tt(x){return x.h==-1}a.l=function(x){return x=lt(this,x),tt(x)?-1:K(x)?0:1};function H(x){for(var A=x.g.length,w=[],b=0;b<A;b++)w[b]=~x.g[b];return new d(w,~x.h).add(V)}a.abs=function(){return tt(this)?H(this):this},a.add=function(x){for(var A=Math.max(this.g.length,x.g.length),w=[],b=0,N=0;N<=A;N++){var M=b+(this.i(N)&65535)+(x.i(N)&65535),I=(M>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);b=I>>>16,M&=65535,I&=65535,w[N]=I<<16|M}return new d(w,w[w.length-1]&-2147483648?-1:0)};function lt(x,A){return x.add(H(A))}a.j=function(x){if(K(this)||K(x))return D;if(tt(this))return tt(x)?H(this).j(H(x)):H(H(this).j(x));if(tt(x))return H(this.j(H(x)));if(0>this.l(k)&&0>x.l(k))return _(this.m()*x.m());for(var A=this.g.length+x.g.length,w=[],b=0;b<2*A;b++)w[b]=0;for(b=0;b<this.g.length;b++)for(var N=0;N<x.g.length;N++){var M=this.i(b)>>>16,I=this.i(b)&65535,Se=x.i(N)>>>16,ye=x.i(N)&65535;w[2*b+2*N]+=I*ye,ot(w,2*b+2*N),w[2*b+2*N+1]+=M*ye,ot(w,2*b+2*N+1),w[2*b+2*N+1]+=I*Se,ot(w,2*b+2*N+1),w[2*b+2*N+2]+=M*Se,ot(w,2*b+2*N+2)}for(b=0;b<A;b++)w[b]=w[2*b+1]<<16|w[2*b];for(b=A;b<2*A;b++)w[b]=0;return new d(w,0)};function ot(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function ct(x,A){this.g=x,this.h=A}function Vt(x,A){if(K(A))throw Error("division by zero");if(K(x))return new ct(D,D);if(tt(x))return A=Vt(H(x),A),new ct(H(A.g),H(A.h));if(tt(A))return A=Vt(x,H(A)),new ct(H(A.g),A.h);if(30<x.g.length){if(tt(x)||tt(A))throw Error("slowDivide_ only works with positive integers.");for(var w=V,b=A;0>=b.l(x);)w=vt(w),b=vt(b);var N=Tt(w,1),M=Tt(b,1);for(b=Tt(b,2),w=Tt(w,2);!K(b);){var I=M.add(b);0>=I.l(x)&&(N=N.add(w),M=I),b=Tt(b,1),w=Tt(w,1)}return A=lt(x,N.j(A)),new ct(N,A)}for(N=D;0<=x.l(A);){for(w=Math.max(1,Math.floor(x.m()/A.m())),b=Math.ceil(Math.log(w)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),M=_(w),I=M.j(A);tt(I)||0<I.l(x);)w-=b,M=_(w),I=M.j(A);K(M)&&(M=V),N=N.add(M),x=lt(x,I)}return new ct(N,x)}a.A=function(x){return Vt(this,x).h},a.and=function(x){for(var A=Math.max(this.g.length,x.g.length),w=[],b=0;b<A;b++)w[b]=this.i(b)&x.i(b);return new d(w,this.h&x.h)},a.or=function(x){for(var A=Math.max(this.g.length,x.g.length),w=[],b=0;b<A;b++)w[b]=this.i(b)|x.i(b);return new d(w,this.h|x.h)},a.xor=function(x){for(var A=Math.max(this.g.length,x.g.length),w=[],b=0;b<A;b++)w[b]=this.i(b)^x.i(b);return new d(w,this.h^x.h)};function vt(x){for(var A=x.g.length+1,w=[],b=0;b<A;b++)w[b]=x.i(b)<<1|x.i(b-1)>>>31;return new d(w,x.h)}function Tt(x,A){var w=A>>5;A%=32;for(var b=x.g.length-w,N=[],M=0;M<b;M++)N[M]=0<A?x.i(M+w)>>>A|x.i(M+w+1)<<32-A:x.i(M+w);return new d(N,x.h)}l.prototype.digest=l.prototype.v,l.prototype.reset=l.prototype.s,l.prototype.update=l.prototype.u,M_=l,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,qs=d}).apply(typeof Ry<"u"?Ry:typeof self<"u"?self:typeof window<"u"?window:{});var Pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var L_,Yr,U_,Hu,Xf,z_,P_,B_;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pu=="object"&&Pu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var l=i(this);function o(u,m){if(m)t:{var p=l;u=u.split(".");for(var E=0;E<u.length-1;E++){var z=u[E];if(!(z in p))break t;p=p[z]}u=u[u.length-1],E=p[u],m=m(E),m!=E&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,E=!1,z={next:function(){if(!E&&p<u.length){var Y=p++;return{value:m(Y,u[Y]),done:!1}}return E=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function v(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function S(u,m,p){return u.call.apply(u.bind,arguments)}function D(u,m,p){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,E),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function V(u,m,p){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:D,V.apply(null,arguments)}function k(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var E=p.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function K(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(E,z,Y){for(var ft=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)ft[Xt-2]=arguments[Xt];return m.prototype[z].apply(E,ft)}}function tt(u){const m=u.length;if(0<m){const p=Array(m);for(let E=0;E<m;E++)p[E]=u[E];return p}return[]}function H(u,m){for(let p=1;p<arguments.length;p++){const E=arguments[p];if(v(E)){const z=u.length||0,Y=E.length||0;u.length=z+Y;for(let ft=0;ft<Y;ft++)u[z+ft]=E[ft]}else u.push(E)}}class lt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ot(u){return/^[\s\xa0]*$/.test(u)}function ct(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Vt(u){return Vt[" "](u),u}Vt[" "]=function(){};var vt=ct().indexOf("Gecko")!=-1&&!(ct().toLowerCase().indexOf("webkit")!=-1&&ct().indexOf("Edge")==-1)&&!(ct().indexOf("Trident")!=-1||ct().indexOf("MSIE")!=-1)&&ct().indexOf("Edge")==-1;function Tt(u,m,p){for(const E in u)m.call(p,u[E],E,u)}function x(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function A(u){const m={};for(const p in u)m[p]=u[p];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(u,m){let p,E;for(let z=1;z<arguments.length;z++){E=arguments[z];for(p in E)u[p]=E[p];for(let Y=0;Y<w.length;Y++)p=w[Y],Object.prototype.hasOwnProperty.call(E,p)&&(u[p]=E[p])}}function N(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function M(u){g.setTimeout(()=>{throw u},0)}function I(){var u=Dt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Se{constructor(){this.h=this.g=null}add(m,p){const E=ye.get();E.set(m,p),this.h?this.h.next=E:this.g=E,this.h=E}}var ye=new lt(()=>new Q,u=>u.reset());class Q{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,_t=!1,Dt=new Se,C=()=>{const u=g.Promise.resolve(void 0);ut=()=>{u.then(J)}};var J=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(p){M(p)}var m=ye;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}_t=!1};function dt(){this.s=this.s,this.C=this.C}dt.prototype.s=!1,dt.prototype.ma=function(){this.s||(this.s=!0,this.N())},dt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var St=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function Ut(u,m){if(st.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(vt){t:{try{Vt(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:It[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ut.aa.h.call(this)}}K(Ut,st);var It={2:"touch",3:"pen",4:"mouse"};Ut.prototype.h=function(){Ut.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var _e="closure_listenable_"+(1e6*Math.random()|0),le=0;function bt(u,m,p,E,z){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!E,this.ha=z,this.key=++le,this.da=this.fa=!1}function kt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Bt(u){this.src=u,this.g={},this.h=0}Bt.prototype.add=function(u,m,p,E,z){var Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);var ft=en(u,m,E,z);return-1<ft?(m=u[ft],p||(m.fa=!1)):(m=new bt(m,this.src,Y,!!E,z),m.fa=p,u.push(m)),m};function ee(u,m){var p=m.type;if(p in u.g){var E=u.g[p],z=Array.prototype.indexOf.call(E,m,void 0),Y;(Y=0<=z)&&Array.prototype.splice.call(E,z,1),Y&&(kt(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function en(u,m,p,E){for(var z=0;z<u.length;++z){var Y=u[z];if(!Y.da&&Y.listener==m&&Y.capture==!!p&&Y.ha==E)return z}return-1}var ie="closure_lm_"+(1e6*Math.random()|0),ze={};function Qe(u,m,p,E,z){if(Array.isArray(m)){for(var Y=0;Y<m.length;Y++)Qe(u,m[Y],p,E,z);return null}return p=Ua(p),u&&u[_e]?u.K(m,p,_(E)?!!E.capture:!1,z):Pe(u,m,p,!1,E,z)}function Pe(u,m,p,E,z,Y){if(!m)throw Error("Invalid event type");var ft=_(z)?!!z.capture:!!z,Xt=ri(u);if(Xt||(u[ie]=Xt=new Bt(u)),p=Xt.add(m,p,E,ft,Y),p.proxy)return p;if(E=gi(),p.proxy=E,E.src=u,E.listener=p,u.addEventListener)St||(z=ft),z===void 0&&(z=!1),u.addEventListener(m.toString(),E,z);else if(u.attachEvent)u.attachEvent(Ln(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return p}function gi(){function u(p){return m.call(u.src,u.listener,p)}const m=hs;return u}function vn(u,m,p,E,z){if(Array.isArray(m))for(var Y=0;Y<m.length;Y++)vn(u,m[Y],p,E,z);else E=_(E)?!!E.capture:!!E,p=Ua(p),u&&u[_e]?(u=u.i,m=String(m).toString(),m in u.g&&(Y=u.g[m],p=en(Y,p,E,z),-1<p&&(kt(Y[p]),Array.prototype.splice.call(Y,p,1),Y.length==0&&(delete u.g[m],u.h--)))):u&&(u=ri(u))&&(m=u.g[m.toString()],u=-1,m&&(u=en(m,p,E,z)),(p=-1<u?m[u]:null)&&xn(p))}function xn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[_e])ee(m.i,u);else{var p=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(p,E,u.capture):m.detachEvent?m.detachEvent(Ln(p),E):m.addListener&&m.removeListener&&m.removeListener(E),(p=ri(m))?(ee(p,u),p.h==0&&(p.src=null,m[ie]=null)):kt(u)}}}function Ln(u){return u in ze?ze[u]:ze[u]="on"+u}function hs(u,m){if(u.da)u=!0;else{m=new Ut(m,this);var p=u.listener,E=u.ha||u.src;u.fa&&xn(u),u=p.call(E,m)}return u}function ri(u){return u=u[ie],u instanceof Bt?u:null}var fs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ua(u){return typeof u=="function"?u:(u[fs]||(u[fs]=function(m){return u.handleEvent(m)}),u[fs])}function be(){dt.call(this),this.i=new Bt(this),this.M=this,this.F=null}K(be,dt),be.prototype[_e]=!0,be.prototype.removeEventListener=function(u,m,p,E){vn(this,u,m,p,E)};function se(u,m){var p,E=u.F;if(E)for(p=[];E;E=E.F)p.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new st(m,u);else if(m instanceof st)m.target=m.target||u;else{var z=m;m=new st(E,u),b(m,z)}if(z=!0,p)for(var Y=p.length-1;0<=Y;Y--){var ft=m.g=p[Y];z=Tn(ft,E,!0,m)&&z}if(ft=m.g=u,z=Tn(ft,E,!0,m)&&z,z=Tn(ft,E,!1,m)&&z,p)for(Y=0;Y<p.length;Y++)ft=m.g=p[Y],z=Tn(ft,E,!1,m)&&z}be.prototype.N=function(){if(be.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],E=0;E<p.length;E++)kt(p[E]);delete u.g[m],u.h--}}this.F=null},be.prototype.K=function(u,m,p,E){return this.i.add(String(u),m,!1,p,E)},be.prototype.L=function(u,m,p,E){return this.i.add(String(u),m,!0,p,E)};function Tn(u,m,p,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,Y=0;Y<m.length;++Y){var ft=m[Y];if(ft&&!ft.da&&ft.capture==p){var Xt=ft.listener,Ke=ft.ha||ft.src;ft.fa&&ee(u.i,ft),z=Xt.call(Ke,E)!==!1&&z}}return z&&!E.defaultPrevented}function nn(u,m,p){if(typeof u=="function")p&&(u=V(u,p));else if(u&&typeof u.handleEvent=="function")u=V(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function za(u){u.g=nn(()=>{u.g=null,u.i&&(u.i=!1,za(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Hl extends dt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:za(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function L(u){dt.call(this),this.h=u,this.g={}}K(L,dt);var F=[];function rt(u){Tt(u.g,function(m,p){this.g.hasOwnProperty(p)&&xn(m)},u),u.g={}}L.prototype.N=function(){L.aa.N.call(this),rt(this)},L.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var it=g.JSON.stringify,Rt=g.JSON.parse,ht=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function j(){}j.prototype.h=null;function at(u){return u.h||(u.h=u.i())}function Nt(){}var Ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sn(){st.call(this,"d")}K(sn,st);function Un(){st.call(this,"c")}K(Un,st);var Et={},he=null;function oi(){return he=he||new be}Et.La="serverreachability";function Ye(u){st.call(this,Et.La,u)}K(Ye,st);function ve(u){const m=oi();se(m,new Ye(m))}Et.STAT_EVENT="statevent";function yo(u,m){st.call(this,Et.STAT_EVENT,u),this.stat=m}K(yo,st);function we(u){const m=oi();se(m,new yo(m,u))}Et.Ma="timingevent";function Fe(u,m){st.call(this,Et.Ma,u),this.size=m}K(Fe,st);function Be(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function Fn(){this.g=!0}Fn.prototype.xa=function(){this.g=!1};function Gl(u,m,p,E,z,Y){u.info(function(){if(u.g)if(Y)for(var ft="",Xt=Y.split("&"),Ke=0;Ke<Xt.length;Ke++){var Zt=Xt[Ke].split("=");if(1<Zt.length){var ln=Zt[0];Zt=Zt[1];var Xe=ln.split("_");ft=2<=Xe.length&&Xe[1]=="type"?ft+(ln+"="+Zt+"&"):ft+(ln+"=redacted&")}}else ft=null;else ft=Y;return"XMLHTTP REQ ("+E+") [attempt "+z+"]: "+m+`
`+p+`
`+ft})}function Vc(u,m,p,E,z,Y,ft){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+z+"]: "+m+`
`+p+`
`+Y+" "+ft})}function ds(u,m,p,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ws(u,p)+(E?" "+E:"")})}function _o(u,m){u.info(function(){return"TIMEOUT: "+m})}Fn.prototype.info=function(){};function Ws(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var E=p[u];if(!(2>E.length)){var z=E[1];if(Array.isArray(z)&&!(1>z.length)){var Y=z[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ft=1;ft<z.length;ft++)z[ft]=""}}}}return it(p)}catch{return m}}var ms={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pi;function yi(){}K(yi,j),yi.prototype.g=function(){return new XMLHttpRequest},yi.prototype.i=function(){return{}},pi=new yi;function Rn(u,m,p,E){this.j=u,this.i=m,this.l=p,this.R=E||1,this.U=new L(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ne}function Ne(){this.i=null,this.g="",this.h=!1}var Ql={},Pa={};function ui(u,m,p){u.L=1,u.v=sa(zn(m)),u.m=p,u.P=!0,Bi(u,null)}function Bi(u,m){u.F=Date.now(),ta(u),u.A=zn(u.v);var p=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),Jl(p.i,"t",E),u.C=0,p=u.j.J,u.h=new Ne,u.g=Mo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Hl(V(u.Y,u,u.g),u.O)),m=u.U,p=u.g,E=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(F[0]=z.toString()),z=F);for(var Y=0;Y<z.length;Y++){var ft=Qe(p,z[Y],E||m.handleEvent,!1,m.h||m);if(!ft)break;m.g[ft.key]=ft}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),ve(),Gl(u.i,u.u,u.A,u.l,u.R,u.m)}Rn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Jn(u)==3?m.j():this.Y(u)},Rn.prototype.Y=function(u){try{if(u==this.g)t:{const Xe=Jn(this.g);var m=this.g.Ba();const Fi=this.g.Z();if(!(3>Xe)&&(Xe!=3||this.g&&(this.h.h||this.g.oa()||Ro(this.g)))){this.J||Xe!=4||m==7||(m==8||0>=Fi?ve(3):ve(2)),gs(this);var p=this.g.Z();this.X=p;e:if(vo(this)){var E=Ro(this.g);u="";var z=E.length,Y=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hn(this),_i(this);var ft="";break e}this.h.i=new g.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!(Y&&m==z-1)});E.length=0,this.h.g+=u,this.C=0,ft=this.h.g}else ft=this.g.oa();if(this.o=p==200,Vc(this.i,this.u,this.A,this.l,this.R,Xe,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Xt,Ke=this.g;if((Xt=Ke.g?Ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ot(Xt)){var Zt=Xt;break e}}Zt=null}if(p=Zt)ds(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ea(this,p);else{this.o=!1,this.s=3,we(12),hn(this),_i(this);break t}}if(this.P){p=!0;let fn;for(;!this.J&&this.C<ft.length;)if(fn=To(this,ft),fn==Pa){Xe==4&&(this.s=4,we(14),p=!1),ds(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==Ql){this.s=4,we(15),ds(this.i,this.l,ft,"[Invalid Chunk]"),p=!1;break}else ds(this.i,this.l,fn,null),ea(this,fn);if(vo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xe!=4||ft.length!=0||this.h.h||(this.s=1,we(16),p=!1),this.o=this.o&&p,!p)ds(this.i,this.l,ft,"[Invalid Chunked Response]"),hn(this),_i(this);else if(0<ft.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+ft.length),fa(ln),ln.M=!0,we(11))}}else ds(this.i,this.l,ft,null),ea(this,ft);Xe==4&&hn(this),this.o&&!this.J&&(Xe==4?Vo(this.j,this):(this.o=!1,ta(this)))}else Uc(this.g),p==400&&0<ft.indexOf("Unknown SID")?(this.s=3,we(12)):(this.s=0,we(13)),hn(this),_i(this)}}}catch{}finally{}};function vo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function To(u,m){var p=u.C,E=m.indexOf(`
`,p);return E==-1?Pa:(p=Number(m.substring(p,E)),isNaN(p)?Ql:(E+=1,E+p>m.length?Pa:(m=m.slice(E,E+p),u.C=E+p,m)))}Rn.prototype.cancel=function(){this.J=!0,hn(this)};function ta(u){u.S=Date.now()+u.I,Eo(u,u.I)}function Eo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Be(V(u.ba,u),m)}function gs(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Rn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(_o(this.i,this.A),this.L!=2&&(ve(),we(17)),hn(this),this.s=2,_i(this)):Eo(this,this.S-u)};function _i(u){u.j.G==0||u.J||Vo(u.j,u)}function hn(u){gs(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,rt(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ea(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Yl(p.h,u))){if(!u.K&&Yl(p.h,u)&&p.G==3){try{var E=p.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var z=E;if(z[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Za(p),Ka(p);else break t;nr(p),we(18)}}else p.za=z[1],0<p.za-p.T&&37500>z[2]&&p.F&&p.v==0&&!p.C&&(p.C=Be(V(p.Za,p),6e3));if(1>=ja(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Yi(p,11)}else if((u.K||p.g==u)&&Za(p),!ot(m))for(z=p.Da.g.parse(m),m=0;m<z.length;m++){let Zt=z[m];if(p.T=Zt[0],Zt=Zt[1],p.G==2)if(Zt[0]=="c"){p.K=Zt[1],p.ia=Zt[2];const ln=Zt[3];ln!=null&&(p.la=ln,p.j.info("VER="+p.la));const Xe=Zt[4];Xe!=null&&(p.Aa=Xe,p.j.info("SVER="+p.Aa));const Fi=Zt[5];Fi!=null&&typeof Fi=="number"&&0<Fi&&(E=1.5*Fi,p.L=E,p.j.info("backChannelRequestTimeoutMs_="+E)),E=p;const fn=u.g;if(fn){const wi=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wi){var Y=E.h;Y.g||wi.indexOf("spdy")==-1&&wi.indexOf("quic")==-1&&wi.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(ka(Y,Y.h),Y.h=null))}if(E.D){const sr=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;sr&&(E.ya=sr,fe(E.I,E.D,sr))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),E=p;var ft=u;if(E.qa=Oo(E,E.J?E.ia:null,E.W),ft.K){In(E.h,ft);var Xt=ft,Ke=E.L;Ke&&(Xt.I=Ke),Xt.B&&(gs(Xt),ta(Xt)),E.g=ft}else Co(E);0<p.i.length&&Xa(p)}else Zt[0]!="stop"&&Zt[0]!="close"||Yi(p,7);else p.G==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?Yi(p,7):tr(p):Zt[0]!="noop"&&p.l&&p.l.ta(Zt),p.v=0)}}ve(4)}catch{}}var Ao=class{constructor(u,m){this.g=u,this.map=m}};function ji(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ba(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ja(u){return u.h?1:u.g?u.g.size:0}function Yl(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ka(u,m){u.g?u.g.add(m):u.h=m}function In(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ji.prototype.cancel=function(){if(this.i=Fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Fl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return tt(u.i)}function Nc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var m=[],p=u.length,E=0;E<p;E++)m.push(u[E]);return m}m=[],p=0;for(E in u)m[p++]=u[E];return m}function qa(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const E in u)m[p++]=E;return m}}}function Kl(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=qa(u),E=Nc(u),z=E.length,Y=0;Y<z;Y++)m.call(void 0,E[Y],p&&p[Y],u)}var na=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var E=u[p].indexOf("="),z=null;if(0<=E){var Y=u[p].substring(0,E);z=u[p].substring(E+1)}else Y=u[p];m(Y,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function je(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof je){this.h=u.h,ia(this,u.j),this.o=u.o,this.g=u.g,ps(this,u.s),this.l=u.l;var m=u.i,p=new qi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),ki(this,p),this.m=u.m}else u&&(m=String(u).match(na))?(this.h=!1,ia(this,m[1]||"",!0),this.o=Kn(m[2]||""),this.g=Kn(m[3]||"",!0),ps(this,m[4]),this.l=Kn(m[5]||"",!0),ki(this,m[6]||"",!0),this.m=Kn(m[7]||"")):(this.h=!1,this.i=new qi(null,this.h))}je.prototype.toString=function(){var u=[],m=this.j;m&&u.push(aa(m,Xl,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(aa(m,Xl,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(aa(p,p.charAt(0)=="/"?Mc:Zl,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",aa(p,Ha)),u.join("")};function zn(u){return new je(u)}function ia(u,m,p){u.j=p?Kn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ps(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function ki(u,m,p){m instanceof qi?(u.i=m,bo(u.i,u.h)):(p||(m=aa(m,Lc)),u.i=new qi(m,u.h))}function fe(u,m,p){u.i.set(m,p)}function sa(u){return fe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Kn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function aa(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,So),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function So(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Xl=/[#\/\?@]/g,Zl=/[#\?:]/g,Mc=/[#\?]/g,Lc=/[#\?@]/g,Ha=/#/g;function qi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Xn(u){u.g||(u.g=new Map,u.h=0,u.i&&Oc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=qi.prototype,a.add=function(u,m){Xn(this),this.i=null,u=vi(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Hi(u,m){Xn(u),m=vi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Gi(u,m){return Xn(u),m=vi(u,m),u.g.has(m)}a.forEach=function(u,m){Xn(this),this.g.forEach(function(p,E){p.forEach(function(z){u.call(m,z,E,this)},this)},this)},a.na=function(){Xn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let E=0;E<m.length;E++){const z=u[E];for(let Y=0;Y<z.length;Y++)p.push(m[E])}return p},a.V=function(u){Xn(this);let m=[];if(typeof u=="string")Gi(this,u)&&(m=m.concat(this.g.get(vi(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},a.set=function(u,m){return Xn(this),this.i=null,u=vi(this,u),Gi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Jl(u,m,p){Hi(u,m),0<p.length&&(u.i=null,u.g.set(vi(u,m),tt(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var E=m[p];const Y=encodeURIComponent(String(E)),ft=this.V(E);for(E=0;E<ft.length;E++){var z=Y;ft[E]!==""&&(z+="="+encodeURIComponent(String(ft[E]))),u.push(z)}}return this.i=u.join("&")};function vi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function bo(u,m){m&&!u.j&&(Xn(u),u.i=null,u.g.forEach(function(p,E){var z=E.toLowerCase();E!=z&&(Hi(this,E),Jl(this,z,p))},u)),u.j=m}function la(u,m){const p=new Fn;if(g.Image){const E=new Image;E.onload=k(Zn,p,"TestLoadImage: loaded",!0,m,E),E.onerror=k(Zn,p,"TestLoadImage: error",!1,m,E),E.onabort=k(Zn,p,"TestLoadImage: abort",!1,m,E),E.ontimeout=k(Zn,p,"TestLoadImage: timeout",!1,m,E),g.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function ci(u,m){const p=new Fn,E=new AbortController,z=setTimeout(()=>{E.abort(),Zn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(Y=>{clearTimeout(z),Y.ok?Zn(p,"TestPingServer: ok",!0,m):Zn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),Zn(p,"TestPingServer: error",!1,m)})}function Zn(u,m,p,E,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),E(p)}catch{}}function ra(){this.g=new ht}function Ti(u,m,p){const E=p||"";try{Kl(u,function(z,Y){let ft=z;_(z)&&(ft=it(z)),m.push(E+Y+"="+encodeURIComponent(ft))})}catch(z){throw m.push(E+"type="+encodeURIComponent("_badmap")),z}}function ys(u){this.l=u.Ub||null,this.j=u.eb||!1}K(ys,j),ys.prototype.g=function(){return new Qi(this.l,this.j)},ys.prototype.i=function(u){return function(){return u}}({});function Qi(u,m){be.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}K(Qi,be),a=Qi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Ai(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ei(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$l(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function $l(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ei(this):Ai(this),this.readyState==3&&$l(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Ei(this))},a.Qa=function(u){this.g&&(this.response=u,Ei(this))},a.ga=function(){this.g&&Ei(this)};function Ei(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ai(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Ai(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Wl(u){let m="";return Tt(u,function(p,E){m+=E,m+=":",m+=p,m+=`\r
`}),m}function an(u,m,p){t:{for(E in p){var E=!1;break t}E=!0}E||(p=Wl(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):fe(u,m,p))}function re(u){be.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}K(re,be);var Ga=/^https?$/i,oa=["POST","PUT"];a=re.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,p,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pi.g(),this.v=this.o?at(this.o):at(pi),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Y){wo(this,Y);return}if(u=p||"",p=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var z in E)p.set(z,E[z]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const Y of E.keys())p.set(Y,E.get(Y));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(p.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(oa,m,void 0))||E||z||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ft]of p)this.g.setRequestHeader(Y,ft);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ua(this),this.u=!0,this.g.send(u),this.u=!1}catch(Y){wo(this,Y)}};function wo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Qa(u),Si(u)}function Qa(u){u.A||(u.A=!0,se(u,"complete"),se(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,se(this,"complete"),se(this,"abort"),Si(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Si(this,!0)),re.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Ya(this):this.bb())},a.bb=function(){Ya(this)};function Ya(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Jn(u)!=4||u.Z()!=2)){if(u.u&&Jn(u)==4)nn(u.Ea,0,u);else if(se(u,"readystatechange"),Jn(u)==4){u.h=!1;try{const ft=u.Z();t:switch(ft){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var E;if(E=ft===0){var z=String(u.D).match(na)[1]||null;!z&&g.self&&g.self.location&&(z=g.self.location.protocol.slice(0,-1)),E=!Ga.test(z?z.toLowerCase():"")}p=E}if(p)se(u,"complete"),se(u,"success");else{u.m=6;try{var Y=2<Jn(u)?u.g.statusText:""}catch{Y=""}u.l=Y+" ["+u.Z()+"]",Qa(u)}}finally{Si(u)}}}}function Si(u,m){if(u.g){ua(u);const p=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||se(u,"ready");try{p.onreadystatechange=E}catch{}}}function ua(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function Jn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Rt(m)}};function Ro(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Uc(u){const m={};u=(u.g&&2<=Jn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(ot(u[E]))continue;var p=N(u[E]);const z=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const Y=m[z]||[];m[z]=Y,Y.push(p)}x(m,function(E){return E.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ca(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Fa(u){this.Aa=0,this.i=[],this.j=new Fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ca("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ca("baseRetryDelayMs",5e3,u),this.cb=ca("retryDelaySeedMs",1e4,u),this.Wa=ca("forwardChannelMaxRetries",2,u),this.wa=ca("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ji(u&&u.concurrentRequestLimit),this.Da=new ra,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Fa.prototype,a.la=8,a.G=1,a.connect=function(u,m,p,E){we(0),this.W=u,this.H=m||{},p&&E!==void 0&&(this.H.OSID=p,this.H.OAID=E),this.F=this.X,this.I=Oo(this,null,this.W),Xa(this)};function tr(u){if(Io(u),u.G==3){var m=u.U++,p=zn(u.I);if(fe(p,"SID",u.K),fe(p,"RID",m),fe(p,"TYPE","terminate"),ha(u,p),m=new Rn(u,u.j,m),m.L=2,m.v=sa(zn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Mo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ta(m)}No(u)}function Ka(u){u.g&&(fa(u),u.g.cancel(),u.g=null)}function Io(u){Ka(u),u.u&&(g.clearTimeout(u.u),u.u=null),Za(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Xa(u){if(!Ba(u.h)&&!u.s){u.s=!0;var m=u.Ga;ut||C(),_t||(ut(),_t=!0),Dt.add(m,u),u.B=0}}function zc(u,m){return ja(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Be(V(u.Ga,u,m),ir(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new Rn(this,this.j,u);let Y=this.o;if(this.S&&(Y?(Y=A(Y),b(Y,this.S)):Y=this.S),this.m!==null||this.O||(z.H=Y,Y=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var E=this.i[p];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break e}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Do(this,z,m),p=zn(this.I),fe(p,"RID",u),fe(p,"CVER",22),this.D&&fe(p,"X-HTTP-Session-Id",this.D),ha(this,p),Y&&(this.O?m="headers="+encodeURIComponent(String(Wl(Y)))+"&"+m:this.m&&an(p,this.m,Y)),ka(this.h,z),this.Ua&&fe(p,"TYPE","init"),this.P?(fe(p,"$req",m),fe(p,"SID","null"),z.T=!0,ui(z,p,null)):ui(z,p,m),this.G=2}}else this.G==3&&(u?er(this,u):this.i.length==0||Ba(this.h)||er(this))};function er(u,m){var p;m?p=m.l:p=u.U++;const E=zn(u.I);fe(E,"SID",u.K),fe(E,"RID",p),fe(E,"AID",u.T),ha(u,E),u.m&&u.o&&an(E,u.m,u.o),p=new Rn(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Do(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ka(u.h,p),ui(p,E,m)}function ha(u,m){u.H&&Tt(u.H,function(p,E){fe(m,E,p)}),u.l&&Kl({},function(p,E){fe(m,E,p)})}function Do(u,m,p){p=Math.min(u.i.length,p);var E=u.l?V(u.l.Na,u.l,u):null;t:{var z=u.i;let Y=-1;for(;;){const ft=["count="+p];Y==-1?0<p?(Y=z[0].g,ft.push("ofs="+Y)):Y=0:ft.push("ofs="+Y);let Xt=!0;for(let Ke=0;Ke<p;Ke++){let Zt=z[Ke].g;const ln=z[Ke].map;if(Zt-=Y,0>Zt)Y=Math.max(0,z[Ke].g-100),Xt=!1;else try{Ti(ln,ft,"req"+Zt+"_")}catch{E&&E(ln)}}if(Xt){E=ft.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,E}function Co(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ut||C(),_t||(ut(),_t=!0),Dt.add(m,u),u.v=0}}function nr(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Be(V(u.Fa,u),ir(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,xo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Be(V(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,we(10),Ka(this),xo(this))};function fa(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function xo(u){u.g=new Rn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=zn(u.qa);fe(m,"RID","rpc"),fe(m,"SID",u.K),fe(m,"AID",u.T),fe(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&fe(m,"TO",u.ja),fe(m,"TYPE","xmlhttp"),ha(u,m),u.m&&u.o&&an(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=sa(zn(m)),p.m=null,p.P=!0,Bi(p,u)}a.Za=function(){this.C!=null&&(this.C=null,Ka(this),nr(this),we(19))};function Za(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Vo(u,m){var p=null;if(u.g==m){Za(u),fa(u),u.g=null;var E=2}else if(Yl(u.h,m))p=m.D,In(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;E=oi(),se(E,new Fe(E,p)),Xa(u)}else Co(u);else if(z=m.s,z==3||z==0&&0<m.X||!(E==1&&zc(u,m)||E==2&&nr(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),z){case 1:Yi(u,5);break;case 4:Yi(u,10);break;case 3:Yi(u,6);break;default:Yi(u,2)}}}function ir(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function Yi(u,m){if(u.j.info("Error code "+m),m==2){var p=V(u.fb,u),E=u.Xa;const z=!E;E=new je(E||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ia(E,"https"),sa(E),z?la(E.toString(),p):ci(E.toString(),p)}else we(2);u.G=0,u.l&&u.l.sa(m),No(u),Io(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function No(u){if(u.G=0,u.ka=[],u.l){const m=Fl(u.h);(m.length!=0||u.i.length!=0)&&(H(u.ka,m),H(u.ka,u.i),u.h.i.length=0,tt(u.i),u.i.length=0),u.l.ra()}}function Oo(u,m,p){var E=p instanceof je?zn(p):new je(p);if(E.g!="")m&&(E.g=m+"."+E.g),ps(E,E.s);else{var z=g.location;E=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var Y=new je(null);E&&ia(Y,E),m&&(Y.g=m),z&&ps(Y,z),p&&(Y.l=p),E=Y}return p=u.D,m=u.ya,p&&m&&fe(E,p,m),fe(E,"VER",u.la),ha(u,E),E}function Mo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new re(new ys({eb:p})):new re(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lo(){}a=Lo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Ja(){}Ja.prototype.g=function(u,m){return new Dn(u,m)};function Dn(u,m){be.call(this),this.g=new Fa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ot(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ot(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new bi(this)}K(Dn,be),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){tr(this.g)},Dn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=it(u),u=p);m.i.push(new Ao(m.Ya++,u)),m.G==3&&Xa(m)},Dn.prototype.N=function(){this.g.l=null,delete this.j,tr(this.g),delete this.g,Dn.aa.N.call(this)};function Uo(u){sn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}K(Uo,sn);function zo(){Un.call(this),this.status=1}K(zo,Un);function bi(u){this.g=u}K(bi,Lo),bi.prototype.ua=function(){se(this.g,"a")},bi.prototype.ta=function(u){se(this.g,new Uo(u))},bi.prototype.sa=function(u){se(this.g,new zo)},bi.prototype.ra=function(){se(this.g,"b")},Ja.prototype.createWebChannel=Ja.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,B_=function(){return new Ja},P_=function(){return oi()},z_=Et,Xf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ms.NO_ERROR=0,ms.TIMEOUT=8,ms.HTTP_ERROR=6,Hu=ms,Pi.COMPLETE="complete",U_=Pi,Nt.EventType=Ve,Ve.OPEN="a",Ve.CLOSE="b",Ve.ERROR="c",Ve.MESSAGE="d",be.prototype.listen=be.prototype.K,Yr=Nt,re.prototype.listenOnce=re.prototype.L,re.prototype.getLastError=re.prototype.Ka,re.prototype.getLastErrorCode=re.prototype.Ba,re.prototype.getStatus=re.prototype.Z,re.prototype.getResponseJson=re.prototype.Oa,re.prototype.getResponseText=re.prototype.oa,re.prototype.send=re.prototype.ea,re.prototype.setWithCredentials=re.prototype.Ha,L_=re}).apply(typeof Pu<"u"?Pu:typeof self<"u"?self:typeof window<"u"?window:{});const Iy="@firebase/firestore",Dy="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new D_("@firebase/firestore");function Rl(){return Va.logLevel}function pt(a,...e){if(Va.logLevel<=Wt.DEBUG){const i=e.map(pd);Va.debug(`Firestore (${Bl}): ${a}`,...i)}}function us(a,...e){if(Va.logLevel<=Wt.ERROR){const i=e.map(pd);Va.error(`Firestore (${Bl}): ${a}`,...i)}}function Nl(a,...e){if(Va.logLevel<=Wt.WARN){const i=e.map(pd);Va.warn(`Firestore (${Bl}): ${a}`,...i)}}function pd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(a,e,i){let l="Unexpected state";typeof e=="string"?l=e:i=e,j_(a,l,i)}function j_(a,e,i){let l=`FIRESTORE (${Bl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{l+=" CONTEXT: "+JSON.stringify(i)}catch{l+=" CONTEXT: "+i}throw us(l),new Error(l)}function oe(a,e,i,l){let o="Unexpected state";typeof i=="string"?o=i:l=i,a||j_(e,o,l)}function Pt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class At extends Pl{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(bn.UNAUTHENTICATED))}shutdown(){}}class OA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class MA{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){oe(this.o===void 0,42304);let l=this.i;const o=v=>this.i!==l?(l=this.i,i(v)):Promise.resolve();let h=new Hs;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Hs,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await o(this.currentUser)})},g=v=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Hs)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(l=>this.i!==e?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(oe(typeof l.accessToken=="string",31837,{l}),new k_(l.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return oe(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class LA{constructor(e,i,l){this.P=e,this.T=i,this.I=l,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UA{constructor(e,i,l){this.P=e,this.T=i,this.I=l}getToken(){return Promise.resolve(new LA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){oe(this.o===void 0,3512);const l=h=>{h.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,pt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>l(h))};const o=h=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Cy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(oe(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Cy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let l=0;l<a;l++)i[l]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let l="";for(;l.length<20;){const o=PA(40);for(let h=0;h<o.length;++h)l.length<20&&o[h]<i&&(l+=e.charAt(o[h]%62))}return l}}function Ft(a,e){return a<e?-1:a>e?1:0}function Zf(a,e){const i=Math.min(a.length,e.length);for(let l=0;l<i;l++){const o=a.charAt(l),h=e.charAt(l);if(o!==h)return Bf(o)===Bf(h)?Ft(o,h):Bf(o)?1:-1}return Ft(a.length,e.length)}const BA=55296,jA=57343;function Bf(a){const e=a.charCodeAt(0);return e>=BA&&e<=jA}function Ol(a,e,i){return a.length===e.length&&a.every((l,o)=>i(l,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="__name__";class Vi{constructor(e,i,l){i===void 0?i=0:i>e.length&&Mt(637,{offset:i,range:e.length}),l===void 0?l=e.length-i:l>e.length-i&&Mt(1746,{length:l,range:e.length-i}),this.segments=e,this.offset=i,this.len=l}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach(l=>{i.push(l)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,l=this.limit();i<l;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const l=Math.min(e.length,i.length);for(let o=0;o<l;o++){const h=Vi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Ft(e.length,i.length)}static compareSegments(e,i){const l=Vi.isNumericId(e),o=Vi.isNumericId(i);return l&&!o?-1:!l&&o?1:l&&o?Vi.extractNumericId(e).compare(Vi.extractNumericId(i)):Zf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qs.fromString(e.substring(4,e.length-2))}}class Ee extends Vi{construct(e,i,l){return new Ee(e,i,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const l of e){if(l.indexOf("//")>=0)throw new At(nt.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);i.push(...l.split("/").filter(o=>o.length>0))}return new Ee(i)}static emptyPath(){return new Ee([])}}const kA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends Vi{construct(e,i,l){return new yn(e,i,l)}static isValidIdentifier(e){return kA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xy}static keyField(){return new yn([xy])}static fromServerFormat(e){const i=[];let l="",o=0;const h=()=>{if(l.length===0)throw new At(nt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(l),l=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new At(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new At(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);l+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(l+=g,o++):(h(),o++)}if(h(),d)throw new At(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(i)}static emptyPath(){return new yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.path=e}static fromPath(e){return new Ct(Ee.fromString(e))}static fromName(e){return new Ct(Ee.fromString(e).popFirst(5))}static empty(){return new Ct(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ct(new Ee(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(a,e,i){if(!i)throw new At(nt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function qA(a,e,i,l){if(e===!0&&l===!0)throw new At(nt.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Vy(a){if(!Ct.isDocumentKey(a))throw new At(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Ny(a){if(Ct.isDocumentKey(a))throw new At(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function H_(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function _d(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(l){return l.constructor?l.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Mt(12329,{type:typeof a})}function ao(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new At(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=_d(a);throw new At(nt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(a,e){const i={typeString:a};return e&&(i.value=e),i}function fo(a,e){if(!H_(a))throw new At(nt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const l in e)if(e[l]){const o=e[l].typeString,h="value"in e[l]?{value:e[l].value}:void 0;if(!(l in a)){i=`JSON missing required field: '${l}'`;break}const d=a[l];if(o&&typeof d!==o){i=`JSON field '${l}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${l}' field to equal '${h.value}'`;break}}if(i)throw new At(nt.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=-62135596800,My=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),l=Math.floor((e-1e3*i)*My);return new Ae(i,l)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new At(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new At(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Oy)throw new At(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new At(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/My}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fo(e,Ae._jsonSchema))return new Ae(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Oy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ae._jsonSchemaVersion="firestore/timestamp/1.0",Ae._jsonSchema={type:Ge("string",Ae._jsonSchemaVersion),seconds:Ge("number"),nanoseconds:Ge("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{static fromTimestamp(e){return new zt(e)}static min(){return new zt(new Ae(0,0))}static max(){return new zt(new Ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=-1;function HA(a,e){const i=a.toTimestamp().seconds,l=a.toTimestamp().nanoseconds+1,o=zt.fromTimestamp(l===1e9?new Ae(i+1,0):new Ae(i,l));return new Ys(o,Ct.empty(),e)}function GA(a){return new Ys(a.readTime,a.key,lo)}class Ys{constructor(e,i,l){this.readTime=e,this.documentKey=i,this.largestBatchId=l}static min(){return new Ys(zt.min(),Ct.empty(),lo)}static max(){return new Ys(zt.max(),Ct.empty(),lo)}}function QA(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=Ct.comparator(a.documentKey,e.documentKey),i!==0?i:Ft(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(a){if(a.code!==nt.FAILED_PRECONDITION||a.message!==YA)throw a;pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new W((l,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(l,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(l,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):W.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):W.reject(i)}static resolve(e){return new W((i,l)=>{i(e)})}static reject(e){return new W((i,l)=>{l(e)})}static waitFor(e){return new W((i,l)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},v=>l(v))}),d=!0,h===o&&i()})}static or(e){let i=W.resolve(!1);for(const l of e)i=i.next(o=>o?W.resolve(o):l());return i}static forEach(e,i){const l=[];return e.forEach((o,h)=>{l.push(i.call(this,o,h))}),this.waitFor(l)}static mapArray(e,i){return new W((l,o)=>{const h=e.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(S=>{d[_]=S,++g,g===h&&l(d)},S=>o(S))}})}static doWhile(e,i){return new W((l,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):l()};h()})}}function KA(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function kl(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=l=>this.ae(l),this.ue=l=>i.writeSequenceNumber(l))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=-1;function gc(a){return a==null}function ec(a){return a===0&&1/a==-1/0}function XA(a){return typeof a=="number"&&Number.isInteger(a)&&!ec(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="";function ZA(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Ly(e)),e=JA(a.get(i),e);return Ly(e)}function JA(a,e){let i=e;const l=a.length;for(let o=0;o<l;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case G_:i+="";break;default:i+=h}}return i}function Ly(a){return a+G_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function $s(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function Q_(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,i){this.comparator=e,this.root=i||pn.EMPTY}insert(e,i){return new De(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const l=this.comparator(e,i.key);if(l===0)return i.value;l<0?i=i.left:l>0&&(i=i.right)}return null}indexOf(e){let i=0,l=this.root;for(;!l.isEmpty();){const o=this.comparator(e,l.key);if(o===0)return i+l.left.size;o<0?l=l.left:(i+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,l)=>(e(i,l),!1))}toString(){const e=[];return this.inorderTraversal((i,l)=>(e.push(`${i}:${l}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bu(this.root,e,this.comparator,!0)}}class Bu{constructor(e,i,l,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?l(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,i,l,o,h){this.key=e,this.value=i,this.color=l??pn.RED,this.left=o??pn.EMPTY,this.right=h??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,l,o,h){return new pn(e??this.key,i??this.value,l??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,l){let o=this;const h=l(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,l),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,l)),o.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let l,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return pn.EMPTY;l=o.right.min(),o=o.copy(l.key,l.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Mt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Mt(27949);return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt(57766)}get value(){throw Mt(16141)}get color(){throw Mt(16727)}get left(){throw Mt(29726)}get right(){throw Mt(36894)}copy(e,i,l,o,h){return this}insert(e,i,l){return new pn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,l)=>(e(i),!1))}forEachInRange(e,i){const l=this.data.getIteratorFrom(e[0]);for(;l.hasNext();){const o=l.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let l;for(l=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();l.hasNext();)if(!e(l.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new zy(this.data.getIterator())}getIteratorFrom(e){return new zy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(l=>{i=i.add(l)}),i}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const i=this.data.getIterator(),l=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=l.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new tn(this.comparator);return i.data=e,i}}class zy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new mi([])}unionWith(e){let i=new tn(yn.comparator);for(const l of this.fields)i=i.add(l);for(const l of e)i=i.add(l);return new mi(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ol(this.fields,e.fields,(i,l)=>i.isEqual(l))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Y_("Invalid base64 string: "+h):h}}(e);return new _n(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new _n(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const l=new Uint8Array(i.length);for(let o=0;o<i.length;o++)l[o]=i.charCodeAt(o);return l}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const $A=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(a){if(oe(!!a,39018),typeof a=="string"){let e=0;const i=$A.exec(a);if(oe(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const l=new Date(a);return{seconds:Math.floor(l.getTime()/1e3),nanos:e}}return{seconds:Ue(a.seconds),nanos:Ue(a.nanos)}}function Ue(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Ks(a){return typeof a=="string"?_n.fromBase64String(a):_n.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="server_timestamp",K_="__type__",X_="__previous_value__",Z_="__local_write_time__";function Td(a){return(a?.mapValue?.fields||{})[K_]?.stringValue===F_}function pc(a){const e=a.mapValue.fields[X_];return Td(e)?pc(e):e}function ro(a){const e=Fs(a.mapValue.fields[Z_].timestampValue);return new Ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,i,l,o,h,d,g,v,_,S){this.databaseId=e,this.appId=i,this.persistenceKey=l,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=S}}const nc="(default)";class oo{constructor(e,i){this.projectId=e,this.database=i||nc}static empty(){return new oo("","")}get isDefaultDatabase(){return this.database===nc}isEqual(e){return e instanceof oo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="__type__",t1="__max__",ju={mapValue:{}},$_="__vector__",ic="value";function Xs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Td(a)?4:n1(a)?9007199254740991:e1(a)?10:11:Mt(28295,{value:a})}function Ui(a,e){if(a===e)return!0;const i=Xs(a);if(i!==Xs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return ro(a).isEqual(ro(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Fs(o.timestampValue),g=Fs(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,h){return Ks(o.bytesValue).isEqual(Ks(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,h){return Ue(o.geoPointValue.latitude)===Ue(h.geoPointValue.latitude)&&Ue(o.geoPointValue.longitude)===Ue(h.geoPointValue.longitude)}(a,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return Ue(o.integerValue)===Ue(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=Ue(o.doubleValue),g=Ue(h.doubleValue);return d===g?ec(d)===ec(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return Ol(a.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(Uy(d)!==Uy(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Ui(d[v],g[v])))return!1;return!0}(a,e);default:return Mt(52216,{left:a})}}function uo(a,e){return(a.values||[]).find(i=>Ui(i,e))!==void 0}function Ml(a,e){if(a===e)return 0;const i=Xs(a),l=Xs(e);if(i!==l)return Ft(i,l);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ft(a.booleanValue,e.booleanValue);case 2:return function(h,d){const g=Ue(h.integerValue||h.doubleValue),v=Ue(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(a,e);case 3:return Py(a.timestampValue,e.timestampValue);case 4:return Py(ro(a),ro(e));case 5:return Zf(a.stringValue,e.stringValue);case 6:return function(h,d){const g=Ks(h),v=Ks(d);return g.compareTo(v)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const S=Ft(g[_],v[_]);if(S!==0)return S}return Ft(g.length,v.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Ft(Ue(h.latitude),Ue(d.latitude));return g!==0?g:Ft(Ue(h.longitude),Ue(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return By(a.arrayValue,e.arrayValue);case 10:return function(h,d){const g=h.fields||{},v=d.fields||{},_=g[ic]?.arrayValue,S=v[ic]?.arrayValue,D=Ft(_?.values?.length||0,S?.values?.length||0);return D!==0?D:By(_,S)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===ju.mapValue&&d===ju.mapValue)return 0;if(h===ju.mapValue)return 1;if(d===ju.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},S=Object.keys(_);v.sort(),S.sort();for(let D=0;D<v.length&&D<S.length;++D){const V=Zf(v[D],S[D]);if(V!==0)return V;const k=Ml(g[v[D]],_[S[D]]);if(k!==0)return k}return Ft(v.length,S.length)}(a.mapValue,e.mapValue);default:throw Mt(23264,{he:i})}}function Py(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ft(a,e);const i=Fs(a),l=Fs(e),o=Ft(i.seconds,l.seconds);return o!==0?o:Ft(i.nanos,l.nanos)}function By(a,e){const i=a.values||[],l=e.values||[];for(let o=0;o<i.length&&o<l.length;++o){const h=Ml(i[o],l[o]);if(h)return h}return Ft(i.length,l.length)}function Ll(a){return Jf(a)}function Jf(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const l=Fs(i);return`time(${l.seconds},${l.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Ks(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return Ct.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let l="[",o=!0;for(const h of i.values||[])o?o=!1:l+=",",l+=Jf(h);return l+"]"}(a.arrayValue):"mapValue"in a?function(i){const l=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of l)h?h=!1:o+=",",o+=`${d}:${Jf(i.fields[d])}`;return o+"}"}(a.mapValue):Mt(61005,{value:a})}function Gu(a){switch(Xs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pc(a);return e?16+Gu(e):16;case 5:return 2*a.stringValue.length;case 6:return Ks(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(l){return(l.values||[]).reduce((o,h)=>o+Gu(h),0)}(a.arrayValue);case 10:case 11:return function(l){let o=0;return $s(l.fields,(h,d)=>{o+=h.length+Gu(d)}),o}(a.mapValue);default:throw Mt(13486,{value:a})}}function $f(a){return!!a&&"integerValue"in a}function Ed(a){return!!a&&"arrayValue"in a}function jy(a){return!!a&&"nullValue"in a}function ky(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Qu(a){return!!a&&"mapValue"in a}function e1(a){return(a?.mapValue?.fields||{})[J_]?.stringValue===$_}function Jr(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return $s(a.mapValue.fields,(i,l)=>e.mapValue.fields[i]=Jr(l)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Jr(a.arrayValue.values[i]);return e}return{...a}}function n1(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===t1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let l=0;l<e.length-1;++l)if(i=(i.mapValue.fields||{})[e.get(l)],!Qu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jr(i)}setAll(e){let i=yn.emptyPath(),l={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,l,o),l={},o=[],i=g.popLast()}d?l[g.lastSegment()]=Jr(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,l,o)}delete(e){const i=this.field(e.popLast());Qu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let l=0;l<e.length;++l){let o=i.mapValue.fields[e.get(l)];Qu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(l)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,l){$s(i,(o,h)=>e[o]=h);for(const o of l)delete e[o]}clone(){return new Qn(Jr(this.value))}}function W_(a){const e=[];return $s(a.fields,(i,l)=>{const o=new yn([i]);if(Qu(l)){const h=W_(l.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new mi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,i,l,o,h,d,g){this.key=e,this.documentType=i,this.version=l,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new wn(e,0,zt.min(),zt.min(),zt.min(),Qn.empty(),0)}static newFoundDocument(e,i,l,o){return new wn(e,1,i,zt.min(),l,o,0)}static newNoDocument(e,i){return new wn(e,2,i,zt.min(),zt.min(),Qn.empty(),0)}static newUnknownDocument(e,i){return new wn(e,3,i,zt.min(),zt.min(),Qn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=zt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i){this.position=e,this.inclusive=i}}function qy(a,e,i){let l=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?l=Ct.comparator(Ct.fromName(d.referenceValue),i.key):l=Ml(d,i.data.field(h.field)),h.dir==="desc"&&(l*=-1),l!==0)break}return l}function Hy(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ui(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,i="asc"){this.field=e,this.dir=i}}function i1(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{}class $e extends tv{constructor(e,i,l){super(),this.field=e,this.op=i,this.value=l}static create(e,i,l){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,l):new a1(e,i,l):i==="array-contains"?new o1(e,l):i==="in"?new u1(e,l):i==="not-in"?new c1(e,l):i==="array-contains-any"?new h1(e,l):new $e(e,i,l)}static createKeyFieldInFilter(e,i,l){return i==="in"?new l1(e,l):new r1(e,l)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ml(i,this.value)):i!==null&&Xs(this.value)===Xs(i)&&this.matchesComparison(Ml(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zi extends tv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new zi(e,i)}matches(e){return ev(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ev(a){return a.op==="and"}function nv(a){return s1(a)&&ev(a)}function s1(a){for(const e of a.filters)if(e instanceof zi)return!1;return!0}function Wf(a){if(a instanceof $e)return a.field.canonicalString()+a.op.toString()+Ll(a.value);if(nv(a))return a.filters.map(e=>Wf(e)).join(",");{const e=a.filters.map(i=>Wf(i)).join(",");return`${a.op}(${e})`}}function iv(a,e){return a instanceof $e?function(l,o){return o instanceof $e&&l.op===o.op&&l.field.isEqual(o.field)&&Ui(l.value,o.value)}(a,e):a instanceof zi?function(l,o){return o instanceof zi&&l.op===o.op&&l.filters.length===o.filters.length?l.filters.reduce((h,d,g)=>h&&iv(d,o.filters[g]),!0):!1}(a,e):void Mt(19439)}function sv(a){return a instanceof $e?function(i){return`${i.field.canonicalString()} ${i.op} ${Ll(i.value)}`}(a):a instanceof zi?function(i){return i.op.toString()+" {"+i.getFilters().map(sv).join(" ,")+"}"}(a):"Filter"}class a1 extends $e{constructor(e,i,l){super(e,i,l),this.key=Ct.fromName(l.referenceValue)}matches(e){const i=Ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class l1 extends $e{constructor(e,i){super(e,"in",i),this.keys=av("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class r1 extends $e{constructor(e,i){super(e,"not-in",i),this.keys=av("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function av(a,e){return(e.arrayValue?.values||[]).map(i=>Ct.fromName(i.referenceValue))}class o1 extends $e{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ed(i)&&uo(i.arrayValue,this.value)}}class u1 extends $e{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&uo(this.value.arrayValue,i)}}class c1 extends $e{constructor(e,i){super(e,"not-in",i)}matches(e){if(uo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!uo(this.value.arrayValue,i)}}class h1 extends $e{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ed(i)||!i.arrayValue.values)&&i.arrayValue.values.some(l=>uo(this.value.arrayValue,l))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,i=null,l=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=l,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function Gy(a,e=null,i=[],l=[],o=null,h=null,d=null){return new f1(a,e,i,l,o,h,d)}function Ad(a){const e=Pt(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(l=>Wf(l)).join(","),i+="|ob:",i+=e.orderBy.map(l=>function(h){return h.field.canonicalString()+h.dir}(l)).join(","),gc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(l=>Ll(l)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(l=>Ll(l)).join(",")),e.Te=i}return e.Te}function Sd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!i1(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!iv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Hy(a.startAt,e.startAt)&&Hy(a.endAt,e.endAt)}function td(a){return Ct.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i=null,l=[],o=[],h=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=l,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function d1(a,e,i,l,o,h,d,g){return new yc(a,e,i,l,o,h,d,g)}function bd(a){return new yc(a)}function Qy(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function m1(a){return a.collectionGroup!==null}function $r(a){const e=Pt(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new tn(yn.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new ac(h,l))}),i.has(yn.keyField().canonicalString())||e.Ie.push(new ac(yn.keyField(),l))}return e.Ie}function Ni(a){const e=Pt(a);return e.Ee||(e.Ee=g1(e,$r(a))),e.Ee}function g1(a,e){if(a.limitType==="F")return Gy(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new ac(o.field,h)});const i=a.endAt?new sc(a.endAt.position,a.endAt.inclusive):null,l=a.startAt?new sc(a.startAt.position,a.startAt.inclusive):null;return Gy(a.path,a.collectionGroup,e,a.filters,a.limit,i,l)}}function ed(a,e,i){return new yc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function _c(a,e){return Sd(Ni(a),Ni(e))&&a.limitType===e.limitType}function lv(a){return`${Ad(Ni(a))}|lt:${a.limitType}`}function Il(a){return`Query(target=${function(i){let l=i.path.canonicalString();return i.collectionGroup!==null&&(l+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(l+=`, filters: [${i.filters.map(o=>sv(o)).join(", ")}]`),gc(i.limit)||(l+=", limit: "+i.limit),i.orderBy.length>0&&(l+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(l+=", startAt: ",l+=i.startAt.inclusive?"b:":"a:",l+=i.startAt.position.map(o=>Ll(o)).join(",")),i.endAt&&(l+=", endAt: ",l+=i.endAt.inclusive?"a:":"b:",l+=i.endAt.position.map(o=>Ll(o)).join(",")),`Target(${l})`}(Ni(a))}; limitType=${a.limitType})`}function vc(a,e){return e.isFoundDocument()&&function(l,o){const h=o.key.path;return l.collectionGroup!==null?o.key.hasCollectionId(l.collectionGroup)&&l.path.isPrefixOf(h):Ct.isDocumentKey(l.path)?l.path.isEqual(h):l.path.isImmediateParentOf(h)}(a,e)&&function(l,o){for(const h of $r(l))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(a,e)&&function(l,o){for(const h of l.filters)if(!h.matches(o))return!1;return!0}(a,e)&&function(l,o){return!(l.startAt&&!function(d,g,v){const _=qy(d,g,v);return d.inclusive?_<=0:_<0}(l.startAt,$r(l),o)||l.endAt&&!function(d,g,v){const _=qy(d,g,v);return d.inclusive?_>=0:_>0}(l.endAt,$r(l),o))}(a,e)}function p1(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function rv(a){return(e,i)=>{let l=!1;for(const o of $r(a)){const h=y1(o,e,i);if(h!==0)return h;l=l||o.field.isKeyField()}return 0}}function y1(a,e,i){const l=a.field.isKeyField()?Ct.comparator(e.key,i.key):function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?Ml(v,_):Mt(42886)}(a.field,e,i);switch(a.dir){case"asc":return l;case"desc":return-1*l;default:return Mt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),l=this.inner[i];if(l!==void 0){for(const[o,h]of l)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const l=this.mapKeyFn(e),o=this.inner[l];if(o===void 0)return this.inner[l]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),l=this.inner[i];if(l===void 0)return!1;for(let o=0;o<l.length;o++)if(this.equalsFn(l[o][0],e))return l.length===1?delete this.inner[i]:l.splice(o,1),this.innerSize--,!0;return!1}forEach(e){$s(this.inner,(i,l)=>{for(const[o,h]of l)e(o,h)})}isEmpty(){return Q_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=new De(Ct.comparator);function cs(){return _1}const ov=new De(Ct.comparator);function Fr(...a){let e=ov;for(const i of a)e=e.insert(i.key,i);return e}function uv(a){let e=ov;return a.forEach((i,l)=>e=e.insert(i,l.overlayedDocument)),e}function Ca(){return Wr()}function cv(){return Wr()}function Wr(){return new Oa(a=>a.toString(),(a,e)=>a.isEqual(e))}const v1=new De(Ct.comparator),T1=new tn(Ct.comparator);function Kt(...a){let e=T1;for(const i of a)e=e.add(i);return e}const E1=new tn(Ft);function A1(){return E1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ec(e)?"-0":e}}function hv(a){return{integerValue:""+a}}function S1(a,e){return XA(e)?hv(e):wd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(){this._=void 0}}function b1(a,e,i){return a instanceof lc?function(o,h){const d={fields:{[K_]:{stringValue:F_},[Z_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Td(h)&&(h=pc(h)),h&&(d.fields[X_]=h),{mapValue:d}}(i,e):a instanceof co?dv(a,e):a instanceof ho?mv(a,e):function(o,h){const d=fv(o,h),g=Yy(d)+Yy(o.Ae);return $f(d)&&$f(o.Ae)?hv(g):wd(o.serializer,g)}(a,e)}function w1(a,e,i){return a instanceof co?dv(a,e):a instanceof ho?mv(a,e):i}function fv(a,e){return a instanceof rc?function(l){return $f(l)||function(h){return!!h&&"doubleValue"in h}(l)}(e)?e:{integerValue:0}:null}class lc extends Tc{}class co extends Tc{constructor(e){super(),this.elements=e}}function dv(a,e){const i=gv(e);for(const l of a.elements)i.some(o=>Ui(o,l))||i.push(l);return{arrayValue:{values:i}}}class ho extends Tc{constructor(e){super(),this.elements=e}}function mv(a,e){let i=gv(e);for(const l of a.elements)i=i.filter(o=>!Ui(o,l));return{arrayValue:{values:i}}}class rc extends Tc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Yy(a){return Ue(a.integerValue||a.doubleValue)}function gv(a){return Ed(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function R1(a,e){return a.field.isEqual(e.field)&&function(l,o){return l instanceof co&&o instanceof co||l instanceof ho&&o instanceof ho?Ol(l.elements,o.elements,Ui):l instanceof rc&&o instanceof rc?Ui(l.Ae,o.Ae):l instanceof lc&&o instanceof lc}(a.transform,e.transform)}class I1{constructor(e,i){this.version=e,this.transformResults=i}}class rs{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new rs}static exists(e){return new rs(void 0,e)}static updateTime(e){return new rs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yu(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Ec{}function pv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new _v(a.key,rs.none()):new Ac(a.key,a.data,rs.none());{const i=a.data,l=Qn.empty();let o=new tn(yn.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?l.delete(h):l.set(h,d),o=o.add(h)}return new Ma(a.key,l,new mi(o.toArray()),rs.none())}}function D1(a,e,i){a instanceof Ac?function(o,h,d){const g=o.value.clone(),v=Ky(o.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof Ma?function(o,h,d){if(!Yu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Ky(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(yv(o)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(a,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function to(a,e,i,l){return a instanceof Ac?function(h,d,g,v){if(!Yu(h.precondition,d))return g;const _=h.value.clone(),S=Xy(h.fieldTransforms,v,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(a,e,i,l):a instanceof Ma?function(h,d,g,v){if(!Yu(h.precondition,d))return g;const _=Xy(h.fieldTransforms,v,d),S=d.data;return S.setAll(yv(h)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(D=>D.field))}(a,e,i,l):function(h,d,g){return Yu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function C1(a,e){let i=null;for(const l of a.fieldTransforms){const o=e.data.field(l.field),h=fv(l.transform,o||null);h!=null&&(i===null&&(i=Qn.empty()),i.set(l.field,h))}return i||null}function Fy(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(l,o){return l===void 0&&o===void 0||!(!l||!o)&&Ol(l,o,(h,d)=>R1(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Ac extends Ec{constructor(e,i,l,o=[]){super(),this.key=e,this.value=i,this.precondition=l,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ma extends Ec{constructor(e,i,l,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=l,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function yv(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const l=a.data.field(i);e.set(i,l)}}),e}function Ky(a,e,i){const l=new Map;oe(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,g=e.data.field(h.field);l.set(h.field,w1(d,g,i[o]))}return l}function Xy(a,e,i){const l=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);l.set(o.field,b1(h,d,e))}return l}class _v extends Ec{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class x1 extends Ec{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,i,l,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=l,this.mutations=o}applyToRemoteDocument(e,i){const l=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&D1(h,e,l[o])}}applyToLocalView(e,i){for(const l of this.baseMutations)l.key.isEqual(e.key)&&(i=to(l,e,i,this.localWriteTime));for(const l of this.mutations)l.key.isEqual(e.key)&&(i=to(l,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const l=cv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const v=pv(d,g);v!==null&&l.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(zt.min())}),l}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Kt())}isEqual(e){return this.batchId===e.batchId&&Ol(this.mutations,e.mutations,(i,l)=>Fy(i,l))&&Ol(this.baseMutations,e.baseMutations,(i,l)=>Fy(i,l))}}class Rd{constructor(e,i,l,o){this.batch=e,this.commitVersion=i,this.mutationResults=l,this.docVersions=o}static from(e,i,l){oe(e.mutations.length===l.length,58842,{me:e.mutations.length,fe:l.length});let o=function(){return v1}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,l[d].version);return new Rd(e,i,l,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He,$t;function M1(a){switch(a){case nt.OK:return Mt(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return Mt(15467,{code:a})}}function vv(a){if(a===void 0)return us("GRPC error has no .code"),nt.UNKNOWN;switch(a){case He.OK:return nt.OK;case He.CANCELLED:return nt.CANCELLED;case He.UNKNOWN:return nt.UNKNOWN;case He.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case He.INTERNAL:return nt.INTERNAL;case He.UNAVAILABLE:return nt.UNAVAILABLE;case He.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case He.NOT_FOUND:return nt.NOT_FOUND;case He.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case He.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case He.ABORTED:return nt.ABORTED;case He.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case He.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case He.DATA_LOSS:return nt.DATA_LOSS;default:return Mt(39323,{code:a})}}($t=He||(He={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=new qs([4294967295,4294967295],0);function Zy(a){const e=L1().encode(a),i=new M_;return i.update(e),new Uint8Array(i.digest())}function Jy(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),l=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new qs([i,l],0),new qs([o,h],0)]}class Id{constructor(e,i,l){if(this.bitmap=e,this.padding=i,this.hashCount=l,i<0||i>=8)throw new Kr(`Invalid padding: ${i}`);if(l<0)throw new Kr(`Invalid hash count: ${l}`);if(e.length>0&&this.hashCount===0)throw new Kr(`Invalid hash count: ${l}`);if(e.length===0&&i!==0)throw new Kr(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=qs.fromNumber(this.ge)}ye(e,i,l){let o=e.add(i.multiply(qs.fromNumber(l)));return o.compare(U1)===1&&(o=new qs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Zy(e),[l,o]=Jy(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(l,o,h);if(!this.we(d))return!1}return!0}static create(e,i,l){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Id(h,o,i);return l.forEach(g=>d.insert(g)),d}insert(e){if(this.ge===0)return;const i=Zy(e),[l,o]=Jy(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(l,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),l=e%8;this.bitmap[i]|=1<<l}}class Kr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,i,l,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=l,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,l){const o=new Map;return o.set(e,mo.createSynthesizedTargetChangeForCurrentChange(e,i,l)),new Sc(zt.min(),o,new De(Ft),cs(),Kt())}}class mo{constructor(e,i,l,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=l,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,l){return new mo(l,i,Kt(),Kt(),Kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,i,l,o){this.be=e,this.removedTargetIds=i,this.key=l,this.De=o}}class Tv{constructor(e,i){this.targetId=e,this.Ce=i}}class Ev{constructor(e,i,l=_n.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=l,this.cause=o}}class $y{constructor(){this.ve=0,this.Fe=Wy(),this.Me=_n.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Kt(),i=Kt(),l=Kt();return this.Fe.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:l=l.add(o);break;default:Mt(38017,{changeType:h})}}),new mo(this.Me,this.xe,e,i,l)}qe(){this.Oe=!1,this.Fe=Wy()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,oe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class z1{constructor(e){this.Ge=e,this.ze=new Map,this.je=cs(),this.Je=ku(),this.He=ku(),this.Ye=new De(Ft)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,i=>{const l=this.nt(i);switch(e.state){case 0:this.rt(i)&&l.Le(e.resumeToken);break;case 1:l.Ke(),l.Ne||l.qe(),l.Le(e.resumeToken);break;case 2:l.Ke(),l.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(l.We(),l.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),l.Le(e.resumeToken));break;default:Mt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach((l,o)=>{this.rt(o)&&i(o)})}st(e){const i=e.targetId,l=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(td(h))if(l===0){const d=new Ct(h.path);this.et(i,d,wn.newNoDocument(d,zt.min()))}else oe(l===1,20013,{expectedCount:l});else{const d=this._t(i);if(d!==l){const g=this.ut(e),v=g?this.ct(g,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:l="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Ks(l).toUint8Array()}catch(v){if(v instanceof Y_)return Nl("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Id(d,o,h)}catch(v){return Nl(v instanceof Kr?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(e,i,l){return i.Ce.count===l-this.Pt(e,i.targetId)?0:2}Pt(e,i){const l=this.Ge.getRemoteKeysForTarget(i);let o=0;return l.forEach(h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.et(i,h,null),o++)}),o}Tt(e){const i=new Map;this.ze.forEach((h,d)=>{const g=this.ot(d);if(g){if(h.current&&td(g.target)){const v=new Ct(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,wn.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}});let l=Kt();this.He.forEach((h,d)=>{let g=!0;d.forEachWhile(v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(l=l.add(h))}),this.je.forEach((h,d)=>d.setReadTime(e));const o=new Sc(e,i,this.Ye,this.je,l);return this.je=cs(),this.Je=ku(),this.He=ku(),this.Ye=new De(Ft),o}Xe(e,i){if(!this.rt(e))return;const l=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,l),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,l){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),l&&(this.je=this.je.insert(i,l))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new $y,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new tn(Ft),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new tn(Ft),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||pt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $y),this.Ge.getRemoteKeysForTarget(e).forEach(i=>{this.et(e,i,null)})}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function ku(){return new De(Ct.comparator)}function Wy(){return new De(Ct.comparator)}const P1={asc:"ASCENDING",desc:"DESCENDING"},B1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},j1={and:"AND",or:"OR"};class k1{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function nd(a,e){return a.useProto3Json||gc(e)?e:{value:e}}function oc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Av(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function q1(a,e){return oc(a,e.toTimestamp())}function Oi(a){return oe(!!a,49232),zt.fromTimestamp(function(i){const l=Fs(i);return new Ae(l.seconds,l.nanos)}(a))}function Dd(a,e){return id(a,e).canonicalString()}function id(a,e){const i=function(o){return new Ee(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function Sv(a){const e=Ee.fromString(a);return oe(Dv(e),10190,{key:e.toString()}),e}function sd(a,e){return Dd(a.databaseId,e.path)}function jf(a,e){const i=Sv(e);if(i.get(1)!==a.databaseId.projectId)throw new At(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new At(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new Ct(wv(i))}function bv(a,e){return Dd(a.databaseId,e)}function H1(a){const e=Sv(a);return e.length===4?Ee.emptyPath():wv(e)}function ad(a){return new Ee(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function wv(a){return oe(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function t_(a,e,i){return{name:sd(a,e),fields:i.value.mapValue.fields}}function G1(a,e){let i;if("targetChange"in e){e.targetChange;const l=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Mt(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(_,S){return _.useProto3Json?(oe(S===void 0||typeof S=="string",58123),_n.fromBase64String(S||"")):(oe(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),_n.fromUint8Array(S||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const S=_.code===void 0?nt.UNKNOWN:vv(_.code);return new At(S,_.message||"")}(d);i=new Ev(l,o,h,g||null)}else if("documentChange"in e){e.documentChange;const l=e.documentChange;l.document,l.document.name,l.document.updateTime;const o=jf(a,l.document.name),h=Oi(l.document.updateTime),d=l.document.createTime?Oi(l.document.createTime):zt.min(),g=new Qn({mapValue:{fields:l.document.fields}}),v=wn.newFoundDocument(o,h,d,g),_=l.targetIds||[],S=l.removedTargetIds||[];i=new Fu(_,S,v.key,v)}else if("documentDelete"in e){e.documentDelete;const l=e.documentDelete;l.document;const o=jf(a,l.document),h=l.readTime?Oi(l.readTime):zt.min(),d=wn.newNoDocument(o,h),g=l.removedTargetIds||[];i=new Fu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const l=e.documentRemove;l.document;const o=jf(a,l.document),h=l.removedTargetIds||[];i=new Fu([],h,o,null)}else{if(!("filter"in e))return Mt(11601,{Rt:e});{e.filter;const l=e.filter;l.targetId;const{count:o=0,unchangedNames:h}=l,d=new O1(o,h),g=l.targetId;i=new Tv(g,d)}}return i}function Q1(a,e){let i;if(e instanceof Ac)i={update:t_(a,e.key,e.value)};else if(e instanceof _v)i={delete:sd(a,e.key)};else if(e instanceof Ma)i={update:t_(a,e.key,e.data),updateMask:tS(e.fieldMask)};else{if(!(e instanceof x1))return Mt(16599,{Vt:e.type});i={verify:sd(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(l=>function(h,d){const g=d.transform;if(g instanceof lc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof co)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ho)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof rc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Mt(20930,{transform:d.transform})}(0,l))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:q1(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Mt(27497)}(a,e.precondition)),i}function Y1(a,e){return a&&a.length>0?(oe(e!==void 0,14353),a.map(i=>function(o,h){let d=o.updateTime?Oi(o.updateTime):Oi(h);return d.isEqual(zt.min())&&(d=Oi(h)),new I1(d,o.transformResults||[])}(i,e))):[]}function F1(a,e){return{documents:[bv(a,e.path)]}}function K1(a,e){const i={structuredQuery:{}},l=e.path;let o;e.collectionGroup!==null?(o=l,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=l.popLast(),i.structuredQuery.from=[{collectionId:l.lastSegment()}]),i.parent=bv(a,o);const h=function(_){if(_.length!==0)return Iv(zi.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(S=>function(V){return{field:Dl(V.field),direction:J1(V.dir)}}(S))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=nd(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ft:i,parent:o}}function X1(a){let e=H1(a.parent);const i=a.structuredQuery,l=i.from?i.from.length:0;let o=null;if(l>0){oe(l===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let h=[];i.where&&(h=function(D){const V=Rv(D);return V instanceof zi&&nv(V)?V.getFilters():[V]}(i.where));let d=[];i.orderBy&&(d=function(D){return D.map(V=>function(K){return new ac(Cl(K.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(K.direction))}(V))}(i.orderBy));let g=null;i.limit&&(g=function(D){let V;return V=typeof D=="object"?D.value:D,gc(V)?null:V}(i.limit));let v=null;i.startAt&&(v=function(D){const V=!!D.before,k=D.values||[];return new sc(k,V)}(i.startAt));let _=null;return i.endAt&&(_=function(D){const V=!D.before,k=D.values||[];return new sc(k,V)}(i.endAt)),d1(e,o,d,h,g,"F",v,_)}function Z1(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Rv(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const l=Cl(i.unaryFilter.field);return $e.create(l,"==",{doubleValue:NaN});case"IS_NULL":const o=Cl(i.unaryFilter.field);return $e.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Cl(i.unaryFilter.field);return $e.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Cl(i.unaryFilter.field);return $e.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Mt(61313);default:return Mt(60726)}}(a):a.fieldFilter!==void 0?function(i){return $e.create(Cl(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Mt(58110);default:return Mt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return zi.create(i.compositeFilter.filters.map(l=>Rv(l)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Mt(1026)}}(i.compositeFilter.op))}(a):Mt(30097,{filter:a})}function J1(a){return P1[a]}function $1(a){return B1[a]}function W1(a){return j1[a]}function Dl(a){return{fieldPath:a.canonicalString()}}function Cl(a){return yn.fromServerFormat(a.fieldPath)}function Iv(a){return a instanceof $e?function(i){if(i.op==="=="){if(ky(i.value))return{unaryFilter:{field:Dl(i.field),op:"IS_NAN"}};if(jy(i.value))return{unaryFilter:{field:Dl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(ky(i.value))return{unaryFilter:{field:Dl(i.field),op:"IS_NOT_NAN"}};if(jy(i.value))return{unaryFilter:{field:Dl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dl(i.field),op:$1(i.op),value:i.value}}}(a):a instanceof zi?function(i){const l=i.getFilters().map(o=>Iv(o));return l.length===1?l[0]:{compositeFilter:{op:W1(i.op),filters:l}}}(a):Mt(54877,{filter:a})}function tS(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Dv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,i,l,o,h=zt.min(),d=zt.min(),g=_n.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=l,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new Bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.yt=e}}function nS(a){const e=X1({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?ed(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this.Cn=new sS}addToCollectionParentIndex(e,i){return this.Cn.add(i),W.resolve()}getCollectionParents(e,i){return W.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return W.resolve()}deleteFieldIndex(e,i){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,i){return W.resolve()}getDocumentsMatchingTarget(e,i){return W.resolve(null)}getIndexType(e,i){return W.resolve(0)}getFieldIndexes(e,i){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,i){return W.resolve(Ys.min())}getMinOffsetFromCollectionGroup(e,i){return W.resolve(Ys.min())}updateCollectionGroup(e,i,l){return W.resolve()}updateIndexEntries(e,i){return W.resolve()}}class sS{constructor(){this.index={}}add(e){const i=e.lastSegment(),l=e.popLast(),o=this.index[i]||new tn(Ee.comparator),h=!o.has(l);return this.index[i]=o.add(l),h}has(e){const i=e.lastSegment(),l=e.popLast(),o=this.index[i];return o&&o.has(l)}getEntries(e){return(this.index[e]||new tn(Ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Cv=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,l){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(Cv,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ul(0)}static cr(){return new Ul(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="LruGarbageCollector",aS=1048576;function i_([a,e],[i,l]){const o=Ft(a,i);return o===0?Ft(e,l):o}class lS{constructor(e){this.Ir=e,this.buffer=new tn(i_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const l=this.buffer.last();i_(i,l)<0&&(this.buffer=this.buffer.delete(l).add(i))}}get maxValue(){return this.buffer.last()[0]}}class rS{constructor(e,i,l){this.garbageCollector=e,this.asyncQueue=i,this.localStore=l,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pt(n_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){kl(i)?pt(n_,"Ignoring IndexedDB error during garbage collection: ",i):await jl(i)}await this.Vr(3e5)})}}class oS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next(l=>Math.floor(i/100*l))}nthSequenceNumber(e,i){if(i===0)return W.resolve(mc.ce);const l=new lS(i);return this.mr.forEachTarget(e,o=>l.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>l.Ar(o))).next(()=>l.maxValue)}removeTargets(e,i,l){return this.mr.removeTargets(e,i,l)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(e_)):this.getCacheSize(e).next(l=>l<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e_):this.yr(e,i))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let l,o,h,d,g,v,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),o=this.params.maximumSequenceNumbersToCollect):o=D,d=Date.now(),this.nthSequenceNumber(e,o))).next(D=>(l=D,g=Date.now(),this.removeTargets(e,l,i))).next(D=>(h=D,v=Date.now(),this.removeOrphanedDocuments(e,l))).next(D=>(_=Date.now(),Rl()<=Wt.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${D} documents in `+(_-v)+`ms
Total Duration: ${_-S}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:D})))}}function uS(a,e){return new oS(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.changes=new Oa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const l=this.changes.get(i);return l!==void 0?W.resolve(l):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,i,l,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=l,this.indexManager=o}getDocument(e,i){let l=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(l=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(l!==null&&to(l.mutation,o,mi.empty(),Ae.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(l=>this.getLocalViewOfDocuments(e,l,Kt()).next(()=>l))}getLocalViewOfDocuments(e,i,l=Kt()){const o=Ca();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,l).next(h=>{let d=Fr();return h.forEach((g,v)=>{d=d.insert(g,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const l=Ca();return this.populateOverlays(e,l,i).next(()=>this.computeViews(e,i,l,Kt()))}populateOverlays(e,i,l){const o=[];return l.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,l,o){let h=cs();const d=Wr(),g=function(){return Wr()}();return i.forEach((v,_)=>{const S=l.get(_.key);o.has(_.key)&&(S===void 0||S.mutation instanceof Ma)?h=h.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),to(S.mutation,_,S.mutation.getFieldMask(),Ae.now())):d.set(_.key,mi.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,S)=>d.set(_,S)),i.forEach((_,S)=>g.set(_,new hS(S,d.get(_)??null))),g))}recalculateAndSaveOverlays(e,i){const l=Wr();let o=new De((d,g)=>d-g),h=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let S=l.get(v)||mi.empty();S=g.applyToLocalView(_,S),l.set(v,S);const D=(o.get(g.batchId)||Kt()).add(v);o=o.insert(g.batchId,D)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,S=v.value,D=cv();S.forEach(V=>{if(!h.has(V)){const k=pv(i.get(V),l.get(V));k!==null&&D.set(V,k),h=h.add(V)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,D))}return W.waitFor(d)}).next(()=>l)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(l=>this.recalculateAndSaveOverlays(e,l))}getDocumentsMatchingQuery(e,i,l,o){return function(d){return Ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):m1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,l,o):this.getDocumentsMatchingCollectionQuery(e,i,l,o)}getNextDocuments(e,i,l,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,l,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,l.largestBatchId,o-h.size):W.resolve(Ca());let g=lo,v=h;return d.next(_=>W.forEach(_,(S,D)=>(g<D.largestBatchId&&(g=D.largestBatchId),h.get(S)?W.resolve():this.remoteDocumentCache.getEntry(e,S).next(V=>{v=v.insert(S,V)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,Kt())).next(S=>({batchId:g,changes:uv(S)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Ct(i)).next(l=>{let o=Fr();return l.isFoundDocument()&&(o=o.insert(l.key,l)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,l,o){const h=i.collectionGroup;let d=Fr();return this.indexManager.getCollectionParents(e,h).next(g=>W.forEach(g,v=>{const _=function(D,V){return new yc(V,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,l,o).next(S=>{S.forEach((D,V)=>{d=d.insert(D,V)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,l,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,l.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,l,h,o))).next(d=>{h.forEach((v,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,wn.newInvalidDocument(S)))});let g=Fr();return d.forEach((v,_)=>{const S=h.get(v);S!==void 0&&to(S.mutation,_,mi.empty(),Ae.now()),vc(i,_)&&(g=g.insert(v,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return W.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:Oi(o.createTime)}}(i)),W.resolve()}getNamedQuery(e,i){return W.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,function(o){return{name:o.name,query:nS(o.bundledQuery),readTime:Oi(o.readTime)}}(i)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this.overlays=new De(Ct.comparator),this.qr=new Map}getOverlay(e,i){return W.resolve(this.overlays.get(i))}getOverlays(e,i){const l=Ca();return W.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&l.set(o,h)})).next(()=>l)}saveOverlays(e,i,l){return l.forEach((o,h)=>{this.St(e,i,h)}),W.resolve()}removeOverlaysForBatchId(e,i,l){const o=this.qr.get(l);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.qr.delete(l)),W.resolve()}getOverlaysForCollection(e,i,l){const o=Ca(),h=i.length+1,d=new Ct(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>l&&o.set(v.getKey(),v)}return W.resolve(o)}getOverlaysForCollectionGroup(e,i,l,o){let h=new De((_,S)=>_-S);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>l){let S=h.get(_.largestBatchId);S===null&&(S=Ca(),h=h.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const g=Ca(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,S)=>g.set(_,S)),!(g.size()>=o)););return W.resolve(g)}St(e,i,l){const o=this.overlays.get(l.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(l.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(l.key,new N1(i,l));let h=this.qr.get(i);h===void 0&&(h=Kt(),this.qr.set(i,h)),this.qr.set(i,h.add(l.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(){this.Qr=new tn(cn.$r),this.Ur=new tn(cn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const l=new cn(e,i);this.Qr=this.Qr.add(l),this.Ur=this.Ur.add(l)}Wr(e,i){e.forEach(l=>this.addReference(l,i))}removeReference(e,i){this.Gr(new cn(e,i))}zr(e,i){e.forEach(l=>this.removeReference(l,i))}jr(e){const i=new Ct(new Ee([])),l=new cn(i,e),o=new cn(i,e+1),h=[];return this.Ur.forEachInRange([l,o],d=>{this.Gr(d),h.push(d.key)}),h}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Ct(new Ee([])),l=new cn(i,e),o=new cn(i,e+1);let h=Kt();return this.Ur.forEachInRange([l,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new cn(e,0),l=this.Qr.firstAfterOrEqual(i);return l!==null&&e.isEqual(l.key)}}class cn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Ct.comparator(e.key,i.key)||Ft(e.Yr,i.Yr)}static Kr(e,i){return Ft(e.Yr,i.Yr)||Ct.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new tn(cn.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,l,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new V1(h,i,l,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new cn(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,i){return W.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const l=i+1,o=this.ei(l),h=o<0?0:o;return W.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?vd:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const l=new cn(i,0),o=new cn(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([l,o],d=>{const g=this.Xr(d.Yr);h.push(g)}),W.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let l=new tn(Ft);return i.forEach(o=>{const h=new cn(o,0),d=new cn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],g=>{l=l.add(g.Yr)})}),W.resolve(this.ti(l))}getAllMutationBatchesAffectingQuery(e,i){const l=i.path,o=l.length+1;let h=l;Ct.isDocumentKey(h)||(h=h.child(""));const d=new cn(new Ct(h),0);let g=new tn(Ft);return this.Zr.forEachWhile(v=>{const _=v.key.path;return!!l.isPrefixOf(_)&&(_.length===o&&(g=g.add(v.Yr)),!0)},d),W.resolve(this.ti(g))}ti(e){const i=[];return e.forEach(l=>{const o=this.Xr(l);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){oe(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let l=this.Zr;return W.forEach(i.mutations,o=>{const h=new cn(o.key,i.batchId);return l=l.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=l})}ir(e){}containsKey(e,i){const l=new cn(i,0),o=this.Zr.firstAfterOrEqual(l);return W.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.ri=e,this.docs=function(){return new De(Ct.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const l=i.key,o=this.docs.get(l),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(l,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,l.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const l=this.docs.get(i);return W.resolve(l?l.document.mutableCopy():wn.newInvalidDocument(i))}getEntries(e,i){let l=cs();return i.forEach(o=>{const h=this.docs.get(o);l=l.insert(o,h?h.document.mutableCopy():wn.newInvalidDocument(o))}),W.resolve(l)}getDocumentsMatchingQuery(e,i,l,o){let h=cs();const d=i.path,g=new Ct(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:S}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||QA(GA(S),l)<=0||(o.has(S.key)||vc(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return W.resolve(h)}getAllFromCollectionGroup(e,i,l,o){Mt(9500)}ii(e,i){return W.forEach(this.docs,l=>i(l))}newChangeBuffer(e){return new _S(this)}getSize(e){return W.resolve(this.size)}}class _S extends cS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach((l,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(l)}),W.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.persistence=e,this.si=new Oa(i=>Ad(i),Sd),this.lastRemoteSnapshotVersion=zt.min(),this.highestTargetId=0,this.oi=0,this._i=new Cd,this.targetCount=0,this.ai=Ul.ur()}forEachTarget(e,i){return this.si.forEach((l,o)=>i(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,i,l){return l&&(this.lastRemoteSnapshotVersion=l),i>this.oi&&(this.oi=i),W.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Ul(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,W.resolve()}updateTargetData(e,i){return this.Pr(i),W.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,i,l){let o=0;const h=[];return this.si.forEach((d,g)=>{g.sequenceNumber<=i&&l.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),W.waitFor(h).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,i){const l=this.si.get(i)||null;return W.resolve(l)}addMatchingKeys(e,i,l){return this._i.Wr(i,l),W.resolve()}removeMatchingKeys(e,i,l){this._i.zr(i,l);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),W.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),W.resolve()}getMatchingKeysForTargetId(e,i){const l=this._i.Hr(i);return W.resolve(l)}containsKey(e,i){return W.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,i){this.ui={},this.overlays={},this.ci=new mc(0),this.li=!1,this.li=!0,this.hi=new gS,this.referenceDelegate=e(this),this.Pi=new vS(this),this.indexManager=new iS,this.remoteDocumentCache=function(o){return new yS(o)}(l=>this.referenceDelegate.Ti(l)),this.serializer=new eS(i),this.Ii=new dS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new mS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let l=this.ui[e.toKey()];return l||(l=new pS(i,this.referenceDelegate),this.ui[e.toKey()]=l),l}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,l){pt("MemoryPersistence","Starting transaction:",e);const o=new TS(this.ci.next());return this.referenceDelegate.Ei(),l(o).next(h=>this.referenceDelegate.di(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ai(e,i){return W.or(Object.values(this.ui).map(l=>()=>l.containsKey(e,i)))}}class TS extends FA{constructor(e){super(),this.currentSequenceNumber=e}}class xd{constructor(e){this.persistence=e,this.Ri=new Cd,this.Vi=null}static mi(e){return new xd(e)}get fi(){if(this.Vi)return this.Vi;throw Mt(60996)}addReference(e,i,l){return this.Ri.addReference(l,i),this.fi.delete(l.toString()),W.resolve()}removeReference(e,i,l){return this.Ri.removeReference(l,i),this.fi.add(l.toString()),W.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),W.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach(o=>this.fi.add(o.toString()));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.fi.add(h.toString()))}).next(()=>l.removeTargetData(e,i))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,l=>{const o=Ct.fromPath(l);return this.gi(e,o).next(h=>{h||i.removeEntry(o,zt.min())})}).next(()=>(this.Vi=null,i.apply(e)))}updateLimboDocument(e,i){return this.gi(e,i).next(l=>{l?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(e){return 0}gi(e,i){return W.or([()=>W.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class uc{constructor(e,i){this.persistence=e,this.pi=new Oa(l=>ZA(l.path),(l,o)=>l.isEqual(o)),this.garbageCollector=uS(this,i)}static mi(e,i){return new uc(e,i)}Ei(){}di(e){return W.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(l=>i.next(o=>l+o))}wr(e){let i=0;return this.pr(e,l=>{i++}).next(()=>i)}pr(e,i){return W.forEach(this.pi,(l,o)=>this.br(e,l,o).next(h=>h?W.resolve():i(o)))}removeTargets(e,i,l){return this.persistence.getTargetCache().removeTargets(e,i,l)}removeOrphanedDocuments(e,i){let l=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,d=>this.br(e,d,i).next(g=>{g||(l++,h.removeEntry(d,zt.min()))})).next(()=>h.apply(e)).next(()=>l)}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}removeTarget(e,i){const l=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,l)}addReference(e,i,l){return this.pi.set(l,e.currentSequenceNumber),W.resolve()}removeReference(e,i,l){return this.pi.set(l,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Gu(e.data.value)),i}br(e,i,l){return W.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return W.resolve(o!==void 0&&o>l)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,i,l,o){this.targetId=e,this.fromCache=i,this.Es=l,this.ds=o}static As(e,i){let l=Kt(),o=Kt();for(const h of i.docChanges)switch(h.type){case 0:l=l.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Vd(e,i.fromCache,l,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return mE()?8:KA(fE())>0?6:4}()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,l,o){const h={result:null};return this.ys(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ws(e,i,o,l).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new ES;return this.Ss(e,i,d).next(g=>{if(h.result=g,this.Vs)return this.bs(e,i,d,g.size)})}).next(()=>h.result)}bs(e,i,l,o){return l.documentReadCount<this.fs?(Rl()<=Wt.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",Il(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Rl()<=Wt.DEBUG&&pt("QueryEngine","Query:",Il(i),"scans",l.documentReadCount,"local documents and returns",o,"documents as results."),l.documentReadCount>this.gs*o?(Rl()<=Wt.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",Il(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(i))):W.resolve())}ys(e,i){if(Qy(i))return W.resolve(null);let l=Ni(i);return this.indexManager.getIndexType(e,l).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=ed(i,null,"F"),l=Ni(i)),this.indexManager.getDocumentsMatchingTarget(e,l).next(h=>{const d=Kt(...h);return this.ps.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,l).next(v=>{const _=this.Ds(i,g);return this.Cs(i,_,d,v.readTime)?this.ys(e,ed(i,null,"F")):this.vs(e,_,i,v)}))})))}ws(e,i,l,o){return Qy(i)||o.isEqual(zt.min())?W.resolve(null):this.ps.getDocuments(e,l).next(h=>{const d=this.Ds(i,h);return this.Cs(i,d,l,o)?W.resolve(null):(Rl()<=Wt.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Il(i)),this.vs(e,d,i,HA(o,lo)).next(g=>g))})}Ds(e,i){let l=new tn(rv(e));return i.forEach((o,h)=>{vc(e,h)&&(l=l.add(h))}),l}Cs(e,i,l,o){if(e.limit===null)return!1;if(l.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,l){return Rl()<=Wt.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",Il(i)),this.ps.getDocumentsMatchingQuery(e,i,Ys.min(),l)}vs(e,i,l,o){return this.ps.getDocumentsMatchingQuery(e,l,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="LocalStore",SS=3e8;class bS{constructor(e,i,l,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new De(Ft),this.xs=new Oa(h=>Ad(h),Sd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(l)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ms))}}function wS(a,e,i,l){return new bS(a,e,i,l)}async function Vv(a,e){const i=Pt(a);return await i.persistence.runTransaction("Handle user change","readonly",l=>{let o;return i.mutationQueue.getAllMutationBatches(l).next(h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(l))).next(h=>{const d=[],g=[];let v=Kt();for(const _ of o){d.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}for(const _ of h){g.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(l,v).next(_=>({Ls:_,removedBatchIds:d,addedBatchIds:g}))})})}function RS(a,e){const i=Pt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",l=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return function(g,v,_,S){const D=_.batch,V=D.keys();let k=W.resolve();return V.forEach(K=>{k=k.next(()=>S.getEntry(v,K)).next(tt=>{const H=_.docVersions.get(K);oe(H!==null,48541),tt.version.compareTo(H)<0&&(D.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),S.addEntry(tt)))})}),k.next(()=>g.mutationQueue.removeMutationBatch(v,D))}(i,l,e,h).next(()=>h.apply(l)).next(()=>i.mutationQueue.performConsistencyCheck(l)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(l,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,function(g){let v=Kt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(l,o))})}function Nv(a){const e=Pt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Pi.getLastRemoteSnapshotVersion(i))}function IS(a,e){const i=Pt(a),l=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach((S,D)=>{const V=o.get(D);if(!V)return;g.push(i.Pi.removeMatchingKeys(h,S.removedDocuments,D).next(()=>i.Pi.addMatchingKeys(h,S.addedDocuments,D)));let k=V.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(D)!==null?k=k.withResumeToken(_n.EMPTY_BYTE_STRING,zt.min()).withLastLimboFreeSnapshotVersion(zt.min()):S.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(S.resumeToken,l)),o=o.insert(D,k),function(tt,H,lt){return tt.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=SS?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0}(V,k,S)&&g.push(i.Pi.updateTargetData(h,k))});let v=cs(),_=Kt();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))}),g.push(DS(h,d,e.documentUpdates).next(S=>{v=S.ks,_=S.qs})),!l.isEqual(zt.min())){const S=i.Pi.getLastRemoteSnapshotVersion(h).next(D=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,l));g.push(S)}return W.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.Ms=o,h))}function DS(a,e,i){let l=Kt(),o=Kt();return i.forEach(h=>l=l.add(h)),e.getEntries(a,l).next(h=>{let d=cs();return i.forEach((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(zt.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):pt(Nd,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)}),{ks:d,qs:o}})}function CS(a,e){const i=Pt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",l=>(e===void 0&&(e=vd),i.mutationQueue.getNextMutationBatchAfterBatchId(l,e)))}function xS(a,e){const i=Pt(a);return i.persistence.runTransaction("Allocate target","readwrite",l=>{let o;return i.Pi.getTargetData(l,e).next(h=>h?(o=h,W.resolve(o)):i.Pi.allocateTargetId(l).next(d=>(o=new Bs(e,d,"TargetPurposeListen",l.currentSequenceNumber),i.Pi.addTargetData(l,o).next(()=>o))))}).then(l=>{const o=i.Ms.get(l.targetId);return(o===null||l.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(l.targetId,l),i.xs.set(e,l.targetId)),l})}async function ld(a,e,i){const l=Pt(a),o=l.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await l.persistence.runTransaction("Release target",h,d=>l.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!kl(d))throw d;pt(Nd,`Failed to update sequence numbers for target ${e}: ${d}`)}l.Ms=l.Ms.remove(e),l.xs.delete(o.target)}function s_(a,e,i){const l=Pt(a);let o=zt.min(),h=Kt();return l.persistence.runTransaction("Execute query","readwrite",d=>function(v,_,S){const D=Pt(v),V=D.xs.get(S);return V!==void 0?W.resolve(D.Ms.get(V)):D.Pi.getTargetData(_,S)}(l,d,Ni(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,l.Pi.getMatchingKeysForTargetId(d,g.targetId).next(v=>{h=v})}).next(()=>l.Fs.getDocumentsMatchingQuery(d,e,i?o:zt.min(),i?h:Kt())).next(g=>(VS(l,p1(e),g),{documents:g,Qs:h})))}function VS(a,e,i){let l=a.Os.get(e)||zt.min();i.forEach((o,h)=>{h.readTime.compareTo(l)>0&&(l=h.readTime)}),a.Os.set(e,l)}class a_{constructor(){this.activeTargetIds=A1()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NS{constructor(){this.Mo=new a_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,l){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,l){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new a_,Promise.resolve()}handleUserChange(e,i,l){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="ConnectivityMonitor";class r_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pt(l_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pt(l_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu=null;function rd(){return qu===null?qu=function(){return 268435456+Math.round(2147483648*Math.random())}():qu++,"0x"+qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="RestConnection",MS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${l}/databases/${o}`,this.Wo=this.databaseId.database===nc?`project_id=${l}`:`project_id=${l}&database_id=${o}`}Go(e,i,l,o,h){const d=rd(),g=this.zo(e,i.toUriEncodedString());pt(kf,`Sending RPC '${e}' ${d}:`,g,l);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(g),S=md(_);return this.Jo(e,g,v,l,S).then(D=>(pt(kf,`Received RPC '${e}' ${d}: `,D),D),D=>{throw Nl(kf,`RPC '${e}' ${d} failed with error: `,D,"url: ",g,"request:",l),D})}Ho(e,i,l,o,h,d){return this.Go(e,i,l,o,h)}jo(e,i,l){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),l&&l.headers.forEach((o,h)=>e[h]=o)}zo(e,i){const l=MS[e];return`${this.Uo}/v1/${i}:${l}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="WebChannelConnection";class zS extends LS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,l,o,h){const d=rd();return new Promise((g,v)=>{const _=new L_;_.setWithCredentials(!0),_.listenOnce(U_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Hu.NO_ERROR:const D=_.getResponseJson();pt(Sn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(D)),g(D);break;case Hu.TIMEOUT:pt(Sn,`RPC '${e}' ${d} timed out`),v(new At(nt.DEADLINE_EXCEEDED,"Request time out"));break;case Hu.HTTP_ERROR:const V=_.getStatus();if(pt(Sn,`RPC '${e}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let k=_.getResponseJson();Array.isArray(k)&&(k=k[0]);const K=k?.error;if(K&&K.status&&K.message){const tt=function(lt){const ot=lt.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(ot)>=0?ot:nt.UNKNOWN}(K.status);v(new At(tt,K.message))}else v(new At(nt.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new At(nt.UNAVAILABLE,"Connection failed."));break;default:Mt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{pt(Sn,`RPC '${e}' ${d} completed.`)}});const S=JSON.stringify(o);pt(Sn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",S,l,15)})}T_(e,i,l){const o=rd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=B_(),g=P_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,l),v.encodeInitMessageHeaders=!0;const S=h.join("");pt(Sn,`Creating RPC '${e}' stream ${o}: ${S}`,v);const D=d.createWebChannel(S,v);this.I_(D);let V=!1,k=!1;const K=new US({Yo:H=>{k?pt(Sn,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(V||(pt(Sn,`Opening RPC '${e}' stream ${o} transport.`),D.open(),V=!0),pt(Sn,`RPC '${e}' stream ${o} sending:`,H),D.send(H))},Zo:()=>D.close()}),tt=(H,lt,ot)=>{H.listen(lt,ct=>{try{ot(ct)}catch(Vt){setTimeout(()=>{throw Vt},0)}})};return tt(D,Yr.EventType.OPEN,()=>{k||(pt(Sn,`RPC '${e}' stream ${o} transport opened.`),K.o_())}),tt(D,Yr.EventType.CLOSE,()=>{k||(k=!0,pt(Sn,`RPC '${e}' stream ${o} transport closed`),K.a_(),this.E_(D))}),tt(D,Yr.EventType.ERROR,H=>{k||(k=!0,Nl(Sn,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),K.a_(new At(nt.UNAVAILABLE,"The operation could not be completed")))}),tt(D,Yr.EventType.MESSAGE,H=>{if(!k){const lt=H.data[0];oe(!!lt,16349);const ot=lt,ct=ot?.error||ot[0]?.error;if(ct){pt(Sn,`RPC '${e}' stream ${o} received error:`,ct);const Vt=ct.status;let vt=function(A){const w=He[A];if(w!==void 0)return vv(w)}(Vt),Tt=ct.message;vt===void 0&&(vt=nt.INTERNAL,Tt="Unknown error status: "+Vt+" with message "+ct.message),k=!0,K.a_(new At(vt,Tt)),D.close()}else pt(Sn,`RPC '${e}' stream ${o} received:`,lt),K.u_(lt)}}),tt(g,z_.STAT_EVENT,H=>{H.stat===Xf.PROXY?pt(Sn,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===Xf.NOPROXY&&pt(Sn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{K.__()},0),K}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(i=>i===e)}}function qf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(a){return new k1(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,i,l=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=l,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),l=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-l);o>0&&pt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${l} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="PersistentStream";class Mv{constructor(e,i,l,o,h,d,g,v){this.Mi=e,this.S_=l,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ov(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===nt.RESOURCE_EXHAUSTED?(us(i.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([l,o])=>{this.D_===i&&this.G_(l,o)},l=>{e(()=>{const o=new At(nt.UNKNOWN,"Fetching auth token failed: "+l.message);return this.z_(o)})})}G_(e,i){const l=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo(()=>{l(()=>this.listener.Xo())}),this.stream.t_(()=>{l(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{l(()=>this.z_(o))}),this.stream.onMessage(o=>{l(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return pt(o_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget(()=>this.D_===e?i():(pt(o_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PS extends Mv{constructor(e,i,l,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,l,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=G1(this.serializer,e),l=function(h){if(!("targetChange"in h))return zt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?zt.min():d.readTime?Oi(d.readTime):zt.min()}(e);return this.listener.H_(i,l)}Y_(e){const i={};i.database=ad(this.serializer),i.addTarget=function(h,d){let g;const v=d.target;if(g=td(v)?{documents:F1(h,v)}:{query:K1(h,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Av(h,d.resumeToken);const _=nd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(zt.min())>0){g.readTime=oc(h,d.snapshotVersion.toTimestamp());const _=nd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const l=Z1(this.serializer,e);l&&(i.labels=l),this.q_(i)}Z_(e){const i={};i.database=ad(this.serializer),i.removeTarget=e,this.q_(i)}}class BS extends Mv{constructor(e,i,l,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,l,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return oe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,oe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){oe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Y1(e.writeResults,e.commitTime),l=Oi(e.commitTime);return this.listener.na(l,i)}ra(){const e={};e.database=ad(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map(l=>Q1(this.serializer,l))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{}class kS extends jS{constructor(e,i,l,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=l,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new At(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,l,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Go(e,id(i,l),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new At(nt.UNKNOWN,h.toString())})}Ho(e,i,l,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Ho(e,id(i,l),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new At(nt.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class qS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(us(i),this.aa=!1):pt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="RemoteStore";class HS{constructor(e,i,l,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=l,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo(d=>{l.enqueueAndForget(async()=>{La(this)&&(pt(Na,"Restarting streams for network reachability change."),await async function(v){const _=Pt(v);_.Ea.add(4),await go(_),_.Ra.set("Unknown"),_.Ea.delete(4),await wc(_)}(this))})}),this.Ra=new qS(l,o)}}async function wc(a){if(La(a))for(const e of a.da)await e(!0)}async function go(a){for(const e of a.da)await e(!1)}function Lv(a,e){const i=Pt(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Ud(i)?Ld(i):ql(i).O_()&&Md(i,e))}function Od(a,e){const i=Pt(a),l=ql(i);i.Ia.delete(e),l.O_()&&Uv(i,e),i.Ia.size===0&&(l.O_()?l.L_():La(i)&&i.Ra.set("Unknown"))}function Md(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(zt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ql(a).Y_(e)}function Uv(a,e){a.Va.Ue(e),ql(a).Z_(e)}function Ld(a){a.Va=new z1({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),ql(a).start(),a.Ra.ua()}function Ud(a){return La(a)&&!ql(a).x_()&&a.Ia.size>0}function La(a){return Pt(a).Ea.size===0}function zv(a){a.Va=void 0}async function GS(a){a.Ra.set("Online")}async function QS(a){a.Ia.forEach((e,i)=>{Md(a,e)})}async function YS(a,e){zv(a),Ud(a)?(a.Ra.ha(e),Ld(a)):a.Ra.set("Unknown")}async function FS(a,e,i){if(a.Ra.set("Online"),e instanceof Ev&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))}(a,e)}catch(l){pt(Na,"Failed to remove targets %s: %s ",e.targetIds.join(","),l),await cc(a,l)}else if(e instanceof Fu?a.Va.Ze(e):e instanceof Tv?a.Va.st(e):a.Va.tt(e),!i.isEqual(zt.min()))try{const l=await Nv(a.localStore);i.compareTo(l)>=0&&await function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const S=h.Ia.get(_);S&&h.Ia.set(_,S.withResumeToken(v.resumeToken,d))}}),g.targetMismatches.forEach((v,_)=>{const S=h.Ia.get(v);if(!S)return;h.Ia.set(v,S.withResumeToken(_n.EMPTY_BYTE_STRING,S.snapshotVersion)),Uv(h,v);const D=new Bs(S.target,v,_,S.sequenceNumber);Md(h,D)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(l){pt(Na,"Failed to raise snapshot:",l),await cc(a,l)}}async function cc(a,e,i){if(!kl(e))throw e;a.Ea.add(1),await go(a),a.Ra.set("Offline"),i||(i=()=>Nv(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{pt(Na,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await wc(a)})}function Pv(a,e){return e().catch(i=>cc(a,i,e))}async function Rc(a){const e=Pt(a),i=Zs(e);let l=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:vd;for(;KS(e);)try{const o=await CS(e.localStore,l);if(o===null){e.Ta.length===0&&i.L_();break}l=o.batchId,XS(e,o)}catch(o){await cc(e,o)}Bv(e)&&jv(e)}function KS(a){return La(a)&&a.Ta.length<10}function XS(a,e){a.Ta.push(e);const i=Zs(a);i.O_()&&i.X_&&i.ea(e.mutations)}function Bv(a){return La(a)&&!Zs(a).x_()&&a.Ta.length>0}function jv(a){Zs(a).start()}async function ZS(a){Zs(a).ra()}async function JS(a){const e=Zs(a);for(const i of a.Ta)e.ea(i.mutations)}async function $S(a,e,i){const l=a.Ta.shift(),o=Rd.from(l,e,i);await Pv(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await Rc(a)}async function WS(a,e){e&&Zs(a).X_&&await async function(l,o){if(function(d){return M1(d)&&d!==nt.ABORTED}(o.code)){const h=l.Ta.shift();Zs(l).B_(),await Pv(l,()=>l.remoteSyncer.rejectFailedWrite(h.batchId,o)),await Rc(l)}}(a,e),Bv(a)&&jv(a)}async function u_(a,e){const i=Pt(a);i.asyncQueue.verifyOperationInProgress(),pt(Na,"RemoteStore received new credentials");const l=La(i);i.Ea.add(3),await go(i),l&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await wc(i)}async function tb(a,e){const i=Pt(a);e?(i.Ea.delete(2),await wc(i)):e||(i.Ea.add(2),await go(i),i.Ra.set("Unknown"))}function ql(a){return a.ma||(a.ma=function(i,l,o){const h=Pt(i);return h.sa(),new PS(l,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{Xo:GS.bind(null,a),t_:QS.bind(null,a),r_:YS.bind(null,a),H_:FS.bind(null,a)}),a.da.push(async e=>{e?(a.ma.B_(),Ud(a)?Ld(a):a.Ra.set("Unknown")):(await a.ma.stop(),zv(a))})),a.ma}function Zs(a){return a.fa||(a.fa=function(i,l,o){const h=Pt(i);return h.sa(),new BS(l,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:ZS.bind(null,a),r_:WS.bind(null,a),ta:JS.bind(null,a),na:$S.bind(null,a)}),a.da.push(async e=>{e?(a.fa.B_(),await Rc(a)):(await a.fa.stop(),a.Ta.length>0&&(pt(Na,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))})),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,i,l,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=l,this.op=o,this.removalCallback=h,this.deferred=new Hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,l,o,h){const d=Date.now()+l,g=new zd(e,i,d,o,h);return g.start(l),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new At(nt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pd(a,e){if(us("AsyncQueue",`${e}: ${a}`),kl(a))return new At(nt.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{static emptySet(e){return new Vl(e.comparator)}constructor(e){this.comparator=e?(i,l)=>e(i,l)||Ct.comparator(i.key,l.key):(i,l)=>Ct.comparator(i.key,l.key),this.keyedMap=Fr(),this.sortedSet=new De(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,l)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Vl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),l=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=l.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const l=new Vl;return l.comparator=this.comparator,l.keyedMap=e,l.sortedSet=i,l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this.ga=new De(Ct.comparator)}track(e){const i=e.doc.key,l=this.ga.get(i);l?e.type!==0&&l.type===3?this.ga=this.ga.insert(i,e):e.type===3&&l.type!==1?this.ga=this.ga.insert(i,{type:l.type,doc:e.doc}):e.type===2&&l.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&l.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&l.type===0?this.ga=this.ga.remove(i):e.type===1&&l.type===2?this.ga=this.ga.insert(i,{type:1,doc:l.doc}):e.type===0&&l.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Mt(63341,{Rt:e,pa:l}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal((i,l)=>{e.push(l)}),e}}class zl{constructor(e,i,l,o,h,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=l,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,l,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new zl(e,i,Vl.emptySet(i),d,l,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_c(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,l=e.docChanges;if(i.length!==l.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==l[o].type||!i[o].doc.isEqual(l[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class nb{constructor(){this.queries=h_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,l){const o=Pt(i),h=o.queries;o.queries=h_(),h.forEach((d,g)=>{for(const v of g.Sa)v.onError(l)})})(this,new At(nt.ABORTED,"Firestore shutting down"))}}function h_(){return new Oa(a=>lv(a),_c)}async function ib(a,e){const i=Pt(a);let l=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(l=2):(h=new eb,l=e.Da()?0:1);try{switch(l){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Pd(d,`Initialization of query '${Il(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Bd(i)}async function sb(a,e){const i=Pt(a),l=e.query;let o=3;const h=i.queries.get(l);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(l),i.onUnlisten(l,!0);case 1:return i.queries.delete(l),i.onUnlisten(l,!1);case 2:return i.onLastRemoteStoreUnlisten(l);default:return}}function ab(a,e){const i=Pt(a);let l=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(o)&&(l=!0);d.wa=o}}l&&Bd(i)}function lb(a,e,i){const l=Pt(a),o=l.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);l.queries.delete(e)}function Bd(a){a.Ca.forEach(e=>{e.next()})}var od,f_;(f_=od||(od={})).Ma="default",f_.Cache="cache";class rb{constructor(e,i,l){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=l||{}}Fa(e){if(!this.options.includeMetadataChanges){const l=[];for(const o of e.docChanges)o.type!==3&&l.push(o);e=new zl(e.query,e.docs,e.oldDocs,l,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const l=i!=="Offline";return(!this.options.qa||!l)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=zl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==od.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this.key=e}}class qv{constructor(e){this.key=e}}class ob{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Kt(),this.mutatedKeys=Kt(),this.eu=rv(e),this.tu=new Vl(this.eu)}get nu(){return this.Ya}ru(e,i){const l=i?i.iu:new c_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((S,D)=>{const V=o.get(S),k=vc(this.query,D)?D:null,K=!!V&&this.mutatedKeys.has(V.key),tt=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let H=!1;V&&k?V.data.isEqual(k.data)?K!==tt&&(l.track({type:3,doc:k}),H=!0):this.su(V,k)||(l.track({type:2,doc:k}),H=!0,(v&&this.eu(k,v)>0||_&&this.eu(k,_)<0)&&(g=!0)):!V&&k?(l.track({type:0,doc:k}),H=!0):V&&!k&&(l.track({type:1,doc:V}),H=!0,(v||_)&&(g=!0)),H&&(k?(d=d.add(k),h=tt?h.add(S):h.delete(S)):(d=d.delete(S),h=h.delete(S)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),h=h.delete(S.key),l.track({type:1,doc:S})}return{tu:d,iu:l,Cs:g,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,l,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((S,D)=>function(k,K){const tt=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt(20277,{Rt:H})}};return tt(k)-tt(K)}(S.type,D.type)||this.eu(S.doc,D.doc)),this.ou(l),o=o??!1;const g=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new zl(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!l&&l.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new c_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Kt(),this.tu.forEach(l=>{this.uu(l.key)&&(this.Xa=this.Xa.add(l.key))});const i=[];return e.forEach(l=>{this.Xa.has(l)||i.push(new qv(l))}),this.Xa.forEach(l=>{e.has(l)||i.push(new kv(l))}),i}cu(e){this.Ya=e.Qs,this.Xa=Kt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return zl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jd="SyncEngine";class ub{constructor(e,i,l){this.query=e,this.targetId=i,this.view=l}}class cb{constructor(e){this.key=e,this.hu=!1}}class hb{constructor(e,i,l,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=l,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Oa(g=>lv(g),_c),this.Iu=new Map,this.Eu=new Set,this.du=new De(Ct.comparator),this.Au=new Map,this.Ru=new Cd,this.Vu={},this.mu=new Map,this.fu=Ul.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fb(a,e,i=!0){const l=Kv(a);let o;const h=l.Tu.get(e);return h?(l.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await Hv(l,e,i,!0),o}async function db(a,e){const i=Kv(a);await Hv(i,e,!0,!1)}async function Hv(a,e,i,l){const o=await xS(a.localStore,Ni(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return l&&(g=await mb(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&Lv(a.remoteStore,o),g}async function mb(a,e,i,l,o){a.pu=(D,V,k)=>async function(tt,H,lt,ot){let ct=H.view.ru(lt);ct.Cs&&(ct=await s_(tt.localStore,H.query,!1).then(({documents:x})=>H.view.ru(x,ct)));const Vt=ot&&ot.targetChanges.get(H.targetId),vt=ot&&ot.targetMismatches.get(H.targetId)!=null,Tt=H.view.applyChanges(ct,tt.isPrimaryClient,Vt,vt);return m_(tt,H.targetId,Tt.au),Tt.snapshot}(a,D,V,k);const h=await s_(a.localStore,e,!0),d=new ob(e,h.Qs),g=d.ru(h.documents),v=mo.createSynthesizedTargetChangeForCurrentChange(i,l&&a.onlineState!=="Offline",o),_=d.applyChanges(g,a.isPrimaryClient,v);m_(a,i,_.au);const S=new ub(e,i,d);return a.Tu.set(e,S),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),_.snapshot}async function gb(a,e,i){const l=Pt(a),o=l.Tu.get(e),h=l.Iu.get(o.targetId);if(h.length>1)return l.Iu.set(o.targetId,h.filter(d=>!_c(d,e))),void l.Tu.delete(e);l.isPrimaryClient?(l.sharedClientState.removeLocalQueryTarget(o.targetId),l.sharedClientState.isActiveQueryTarget(o.targetId)||await ld(l.localStore,o.targetId,!1).then(()=>{l.sharedClientState.clearQueryState(o.targetId),i&&Od(l.remoteStore,o.targetId),ud(l,o.targetId)}).catch(jl)):(ud(l,o.targetId),await ld(l.localStore,o.targetId,!0))}async function pb(a,e){const i=Pt(a),l=i.Tu.get(e),o=i.Iu.get(l.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(l.targetId),Od(i.remoteStore,l.targetId))}async function yb(a,e,i){const l=bb(a);try{const o=await function(d,g){const v=Pt(d),_=Ae.now(),S=g.reduce((k,K)=>k.add(K.key),Kt());let D,V;return v.persistence.runTransaction("Locally write mutations","readwrite",k=>{let K=cs(),tt=Kt();return v.Ns.getEntries(k,S).next(H=>{K=H,K.forEach((lt,ot)=>{ot.isValidDocument()||(tt=tt.add(lt))})}).next(()=>v.localDocuments.getOverlayedDocuments(k,K)).next(H=>{D=H;const lt=[];for(const ot of g){const ct=C1(ot,D.get(ot.key).overlayedDocument);ct!=null&&lt.push(new Ma(ot.key,ct,W_(ct.value.mapValue),rs.exists(!0)))}return v.mutationQueue.addMutationBatch(k,_,lt,g)}).next(H=>{V=H;const lt=H.applyToLocalDocumentSet(D,tt);return v.documentOverlayCache.saveOverlays(k,H.batchId,lt)})}).then(()=>({batchId:V.batchId,changes:uv(D)}))}(l.localStore,e);l.sharedClientState.addPendingMutation(o.batchId),function(d,g,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new De(Ft)),_=_.insert(g,v),d.Vu[d.currentUser.toKey()]=_}(l,o.batchId,i),await po(l,o.changes),await Rc(l.remoteStore)}catch(o){const h=Pd(o,"Failed to persist write");i.reject(h)}}async function Gv(a,e){const i=Pt(a);try{const l=await IS(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Au.get(h);d&&(oe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?oe(d.hu,14607):o.removedDocuments.size>0&&(oe(d.hu,42227),d.hu=!1))}),await po(i,l,e)}catch(l){await jl(l)}}function d_(a,e,i){const l=Pt(a);if(l.isPrimaryClient&&i===0||!l.isPrimaryClient&&i===1){const o=[];l.Tu.forEach((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const v=Pt(d);v.onlineState=g;let _=!1;v.queries.forEach((S,D)=>{for(const V of D.Sa)V.va(g)&&(_=!0)}),_&&Bd(v)}(l.eventManager,e),o.length&&l.Pu.H_(o),l.onlineState=e,l.isPrimaryClient&&l.sharedClientState.setOnlineState(e)}}async function _b(a,e,i){const l=Pt(a);l.sharedClientState.updateQueryState(e,"rejected",i);const o=l.Au.get(e),h=o&&o.key;if(h){let d=new De(Ct.comparator);d=d.insert(h,wn.newNoDocument(h,zt.min()));const g=Kt().add(h),v=new Sc(zt.min(),new Map,new De(Ft),d,g);await Gv(l,v),l.du=l.du.remove(h),l.Au.delete(e),kd(l)}else await ld(l.localStore,e,!1).then(()=>ud(l,e,i)).catch(jl)}async function vb(a,e){const i=Pt(a),l=e.batch.batchId;try{const o=await RS(i.localStore,e);Yv(i,l,null),Qv(i,l),i.sharedClientState.updateMutationState(l,"acknowledged"),await po(i,o)}catch(o){await jl(o)}}async function Tb(a,e,i){const l=Pt(a);try{const o=await function(d,g){const v=Pt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let S;return v.mutationQueue.lookupMutationBatch(_,g).next(D=>(oe(D!==null,37113),S=D.keys(),v.mutationQueue.removeMutationBatch(_,D))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,S,g)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S)).next(()=>v.localDocuments.getDocuments(_,S))})}(l.localStore,e);Yv(l,e,i),Qv(l,e),l.sharedClientState.updateMutationState(e,"rejected",i),await po(l,o)}catch(o){await jl(o)}}function Qv(a,e){(a.mu.get(e)||[]).forEach(i=>{i.resolve()}),a.mu.delete(e)}function Yv(a,e,i){const l=Pt(a);let o=l.Vu[l.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),l.Vu[l.currentUser.toKey()]=o}}function ud(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const l of a.Iu.get(e))a.Tu.delete(l),i&&a.Pu.yu(l,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach(l=>{a.Ru.containsKey(l)||Fv(a,l)})}function Fv(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(Od(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),kd(a))}function m_(a,e,i){for(const l of i)l instanceof kv?(a.Ru.addReference(l.key,e),Eb(a,l)):l instanceof qv?(pt(jd,"Document no longer in limbo: "+l.key),a.Ru.removeReference(l.key,e),a.Ru.containsKey(l.key)||Fv(a,l.key)):Mt(19791,{wu:l})}function Eb(a,e){const i=e.key,l=i.path.canonicalString();a.du.get(i)||a.Eu.has(l)||(pt(jd,"New document in limbo: "+i),a.Eu.add(l),kd(a))}function kd(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new Ct(Ee.fromString(e)),l=a.fu.next();a.Au.set(l,new cb(i)),a.du=a.du.insert(i,l),Lv(a.remoteStore,new Bs(Ni(bd(i.path)),l,"TargetPurposeLimboResolution",mc.ce))}}async function po(a,e,i){const l=Pt(a),o=[],h=[],d=[];l.Tu.isEmpty()||(l.Tu.forEach((g,v)=>{d.push(l.pu(v,e,i).then(_=>{if((_||i)&&l.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;l.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){o.push(_);const S=Vd.As(v.targetId,_);h.push(S)}}))}),await Promise.all(d),l.Pu.H_(o),await async function(v,_){const S=Pt(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>W.forEach(_,V=>W.forEach(V.Es,k=>S.persistence.referenceDelegate.addReference(D,V.targetId,k)).next(()=>W.forEach(V.ds,k=>S.persistence.referenceDelegate.removeReference(D,V.targetId,k)))))}catch(D){if(!kl(D))throw D;pt(Nd,"Failed to update sequence numbers: "+D)}for(const D of _){const V=D.targetId;if(!D.fromCache){const k=S.Ms.get(V),K=k.snapshotVersion,tt=k.withLastLimboFreeSnapshotVersion(K);S.Ms=S.Ms.insert(V,tt)}}}(l.localStore,h))}async function Ab(a,e){const i=Pt(a);if(!i.currentUser.isEqual(e)){pt(jd,"User change. New user:",e.toKey());const l=await Vv(i.localStore,e);i.currentUser=e,function(h,d){h.mu.forEach(g=>{g.forEach(v=>{v.reject(new At(nt.CANCELLED,d))})}),h.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,l.removedBatchIds,l.addedBatchIds),await po(i,l.Ls)}}function Sb(a,e){const i=Pt(a),l=i.Au.get(e);if(l&&l.hu)return Kt().add(l.key);{let o=Kt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function Kv(a){const e=Pt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_b.bind(null,e),e.Pu.H_=ab.bind(null,e.eventManager),e.Pu.yu=lb.bind(null,e.eventManager),e}function bb(a){const e=Pt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Tb.bind(null,e),e}class hc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return wS(this.persistence,new AS,e.initialUser,this.serializer)}Cu(e){return new xv(xd.mi,this.serializer)}Du(e){return new NS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hc.provider={build:()=>new hc};class wb extends hc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){oe(this.persistence.referenceDelegate instanceof uc,46915);const l=this.persistence.referenceDelegate.garbageCollector;return new rS(l,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new xv(l=>uc.mi(l,i),this.serializer)}}class cd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=l=>d_(this.syncEngine,l,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ab.bind(null,this.syncEngine),await tb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nb}()}createDatastore(e){const i=bc(e.databaseInfo.databaseId),l=function(h){return new zS(h)}(e.databaseInfo);return function(h,d,g,v){return new kS(h,d,g,v)}(e.authCredentials,e.appCheckCredentials,l,i)}createRemoteStore(e){return function(l,o,h,d,g){return new HS(l,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>d_(this.syncEngine,i,0),function(){return r_.v()?new r_:new OS}())}createSyncEngine(e,i){return function(o,h,d,g,v,_,S){const D=new hb(o,h,d,g,v,_);return S&&(D.gu=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const l=Pt(i);pt(Na,"RemoteStore shutting down."),l.Ea.add(5),await go(l),l.Aa.shutdown(),l.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cd.provider={build:()=>new cd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):us("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="FirestoreClient";class Ib{constructor(e,i,l,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=l,this.databaseInfo=o,this.user=bn.UNAUTHENTICATED,this.clientId=yd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(l,async d=>{pt(Js,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(l,d=>(pt(Js,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const l=Pd(i,"Failed to shutdown persistence");e.reject(l)}}),e.promise}}async function Hf(a,e){a.asyncQueue.verifyOperationInProgress(),pt(Js,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let l=i.initialUser;a.setCredentialChangeListener(async o=>{l.isEqual(o)||(await Vv(e.localStore,o),l=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function g_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await Db(a);pt(Js,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(l=>u_(e.remoteStore,l)),a.setAppCheckTokenChangeListener((l,o)=>u_(e.remoteStore,o)),a._onlineComponents=e}async function Db(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){pt(Js,"Using user provided OfflineComponentProvider");try{await Hf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===nt.FAILED_PRECONDITION||o.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Nl("Error using user provided cache. Falling back to memory cache: "+i),await Hf(a,new hc)}}else pt(Js,"Using default OfflineComponentProvider"),await Hf(a,new wb(void 0));return a._offlineComponents}async function Xv(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(pt(Js,"Using user provided OnlineComponentProvider"),await g_(a,a._uninitializedComponentsProvider._online)):(pt(Js,"Using default OnlineComponentProvider"),await g_(a,new cd))),a._onlineComponents}function Cb(a){return Xv(a).then(e=>e.syncEngine)}async function xb(a){const e=await Xv(a),i=e.eventManager;return i.onListen=fb.bind(null,e.syncEngine),i.onUnlisten=gb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=db.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=pb.bind(null,e.syncEngine),i}function Vb(a,e,i={}){const l=new Hs;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,v,_){const S=new Rb({next:V=>{S.Nu(),d.enqueueAndForget(()=>sb(h,D));const k=V.docs.has(g);!k&&V.fromCache?_.reject(new At(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&V.fromCache&&v&&v.source==="server"?_.reject(new At(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(V)},error:V=>_.reject(V)}),D=new rb(bd(g.path),S,{includeMetadataChanges:!0,qa:!0});return ib(h,D)}(await xb(a),a.asyncQueue,e,i,l)),l.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="firestore.googleapis.com",y_=!0;class __{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new At(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Jv,this.ssl=y_}else this.host=e.host,this.ssl=e.ssl??y_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Cv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aS)throw new At(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zv(e.experimentalLongPollingOptions??{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new At(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new At(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new At(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(l,o){return l.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ic{constructor(e,i,l,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=l,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new __({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new At(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new At(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new __(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(l){if(!l)return new NA;switch(l.type){case"firstParty":return new UA(l.sessionIndex||"0",l.iamToken||null,l.authTokenFactory||null);case"provider":return l.client;default:throw new At(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const l=p_.get(i);l&&(pt("ComponentProvider","Removing Datastore"),p_.delete(i),l.terminate())}(this),Promise.resolve()}}function Nb(a,e,i,l={}){a=ao(a,Ic);const o=md(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},g=`${e}:${i}`;o&&(rE(`https://${g}`),hE("Firestore",!0)),h.host!==Jv&&h.host!==g&&Nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:g,ssl:o,emulatorOptions:l};if(!$u(v,d)&&(a._setSettings(v),l.mockUserToken)){let _,S;if(typeof l.mockUserToken=="string")_=l.mockUserToken,S=bn.MOCK_USER;else{_=oE(l.mockUserToken,a._app?.options.projectId);const D=l.mockUserToken.sub||l.mockUserToken.user_id;if(!D)throw new At(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new bn(D)}a._authCredentials=new OA(new k_(_,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,i,l){this.converter=i,this._query=l,this.type="query",this.firestore=e}withConverter(e){return new qd(this.firestore,e,this._query)}}class We{constructor(e,i,l){this.converter=i,this._key=l,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new We(this.firestore,e,this._key)}toJSON(){return{type:We._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,l){if(fo(i,We._jsonSchema))return new We(e,l||null,new Ct(Ee.fromString(i.referencePath)))}}We._jsonSchemaVersion="firestore/documentReference/1.0",We._jsonSchema={type:Ge("string",We._jsonSchemaVersion),referencePath:Ge("string")};class Gs extends qd{constructor(e,i,l){super(e,i,bd(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new We(this.firestore,null,new Ct(e))}withConverter(e){return new Gs(this.firestore,e,this._path)}}function Ob(a,e,...i){if(a=Qs(a),q_("collection","path",e),a instanceof Ic){const l=Ee.fromString(e,...i);return Ny(l),new Gs(a,null,l)}{if(!(a instanceof We||a instanceof Gs))throw new At(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=a._path.child(Ee.fromString(e,...i));return Ny(l),new Gs(a.firestore,null,l)}}function fc(a,e,...i){if(a=Qs(a),arguments.length===1&&(e=yd.newId()),q_("doc","path",e),a instanceof Ic){const l=Ee.fromString(e,...i);return Vy(l),new We(a,null,new Ct(l))}{if(!(a instanceof We||a instanceof Gs))throw new At(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=a._path.child(Ee.fromString(e,...i));return Vy(l),new We(a.firestore,a instanceof Gs?a.converter:null,new Ct(l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="AsyncQueue";class T_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ov(this,"async_queue_retry"),this._c=()=>{const l=qf();l&&pt(v_,"Visibility state changed to "+l.visibilityState),this.M_.w_()},this.ac=e;const i=qf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=qf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const i=new Hs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!kl(e))throw e;pt(v_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const i=this.ac.then(()=>(this.rc=!0,e().catch(l=>{throw this.nc=l,this.rc=!1,us("INTERNAL UNHANDLED ERROR: ",E_(l)),l}).then(l=>(this.rc=!1,l))));return this.ac=i,i}enqueueAfterDelay(e,i,l){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=zd.createAndSchedule(this,e,i,l,h=>this.hc(h));return this.tc.push(o),o}uc(){this.nc&&Mt(47125,{Pc:E_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((i,l)=>i.targetTimeMs-l.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function E_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class Hd extends Ic{constructor(e,i,l,o){super(e,i,l,o),this.type="firestore",this._queue=new T_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new T_(e),this._firestoreClient=void 0,await e}}}function Mb(a,e){const i=typeof a=="object"?a:EA(),l=typeof a=="string"?a:nc,o=pA(i,"firestore").getImmediate({identifier:l});if(!o._initialized){const h=aE("firestore");h&&Nb(o,...h)}return o}function $v(a){if(a._terminated)throw new At(nt.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||Lb(a),a._firestoreClient}function Lb(a){const e=a._freezeSettings(),i=function(o,h,d,g){return new WA(o,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Zv(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new Ib(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ai(_n.fromBase64String(e))}catch(i){throw new At(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ai(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fo(e,ai._jsonSchema))return ai.fromBase64String(e.bytes)}}ai._jsonSchemaVersion="firestore/bytes/1.0",ai._jsonSchema={type:Ge("string",ai._jsonSchemaVersion),bytes:Ge("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new At(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new At(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new At(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(e){if(fo(e,Mi._jsonSchema))return new Mi(e.latitude,e.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Ge("string",Mi._jsonSchemaVersion),latitude:Ge("number"),longitude:Ge("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(l,o){if(l.length!==o.length)return!1;for(let h=0;h<l.length;++h)if(l[h]!==o[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fo(e,Li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new Li(e.vectorValues);throw new At(nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Li._jsonSchemaVersion="firestore/vectorValue/1.0",Li._jsonSchema={type:Ge("string",Li._jsonSchemaVersion),vectorValues:Ge("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=/^__.*__$/;class Wv{constructor(e,i,l){this.data=e,this.fieldMask=i,this.fieldTransforms=l}toMutation(e,i){return new Ma(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function t0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt(40011,{Ac:a})}}class Qd{constructor(e,i,l,o,h,d){this.settings=e,this.databaseId=i,this.serializer=l,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),l=this.Vc({path:i,fc:!1});return l.gc(e),l}yc(e){const i=this.path?.child(e),l=this.Vc({path:i,fc:!1});return l.Rc(),l}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(t0(this.Ac)&&Ub.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class zb{constructor(e,i,l){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=l||bc(e)}Cc(e,i,l,o=!1){return new Qd({Ac:e,methodName:i,Dc:l,path:yn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pb(a){const e=a._freezeSettings(),i=bc(a._databaseId);return new zb(a._databaseId,!!e.ignoreUndefinedProperties,i)}class Cc extends Gd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cc}}function Bb(a,e,i,l){const o=a.Cc(1,e,i);n0("Data must be an object, but it was:",o,l);const h=[],d=Qn.empty();$s(l,(v,_)=>{const S=Yd(e,v,i);_=Qs(_);const D=o.yc(S);if(_ instanceof Cc)h.push(S);else{const V=xc(_,D);V!=null&&(h.push(S),d.set(S,V))}});const g=new mi(h);return new Wv(d,g,o.fieldTransforms)}function jb(a,e,i,l,o,h){const d=a.Cc(1,e,i),g=[A_(e,l,i)],v=[o];if(h.length%2!=0)throw new At(nt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<h.length;V+=2)g.push(A_(e,h[V])),v.push(h[V+1]);const _=[],S=Qn.empty();for(let V=g.length-1;V>=0;--V)if(!Hb(_,g[V])){const k=g[V];let K=v[V];K=Qs(K);const tt=d.yc(k);if(K instanceof Cc)_.push(k);else{const H=xc(K,tt);H!=null&&(_.push(k),S.set(k,H))}}const D=new mi(_);return new Wv(S,D,d.fieldTransforms)}function xc(a,e){if(e0(a=Qs(a)))return n0("Unsupported field value:",e,a),kb(a,e);if(a instanceof Gd)return function(l,o){if(!t0(o.Ac))throw o.Sc(`${l._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${l._methodName}() is not currently supported inside arrays`);const h=l._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(l,o){const h=[];let d=0;for(const g of l){let v=xc(g,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}}(a,e)}return function(l,o){if((l=Qs(l))===null)return{nullValue:"NULL_VALUE"};if(typeof l=="number")return S1(o.serializer,l);if(typeof l=="boolean")return{booleanValue:l};if(typeof l=="string")return{stringValue:l};if(l instanceof Date){const h=Ae.fromDate(l);return{timestampValue:oc(o.serializer,h)}}if(l instanceof Ae){const h=new Ae(l.seconds,1e3*Math.floor(l.nanoseconds/1e3));return{timestampValue:oc(o.serializer,h)}}if(l instanceof Mi)return{geoPointValue:{latitude:l.latitude,longitude:l.longitude}};if(l instanceof ai)return{bytesValue:Av(o.serializer,l._byteString)};if(l instanceof We){const h=o.databaseId,d=l.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Dd(l.firestore._databaseId||o.databaseId,l._key.path)}}if(l instanceof Li)return function(d,g){return{mapValue:{fields:{[J_]:{stringValue:$_},[ic]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return wd(g.serializer,_)})}}}}}}(l,o);throw o.Sc(`Unsupported field value: ${_d(l)}`)}(a,e)}function kb(a,e){const i={};return Q_(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$s(a,(l,o)=>{const h=xc(o,e.mc(l));h!=null&&(i[l]=h)}),{mapValue:{fields:i}}}function e0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Ae||a instanceof Mi||a instanceof ai||a instanceof We||a instanceof Gd||a instanceof Li)}function n0(a,e,i){if(!e0(i)||!H_(i)){const l=_d(i);throw l==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+l)}}function A_(a,e,i){if((e=Qs(e))instanceof Dc)return e._internalPath;if(typeof e=="string")return Yd(a,e);throw dc("Field path arguments must be of type string or ",a,!1,void 0,i)}const qb=new RegExp("[~\\*/\\[\\]]");function Yd(a,e,i){if(e.search(qb)>=0)throw dc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Dc(...e.split("."))._internalPath}catch{throw dc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function dc(a,e,i,l,o){const h=l&&!l.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${l}`),d&&(v+=` in document ${o}`),v+=")"),new At(nt.INVALID_ARGUMENT,g+a+v)}function Hb(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,i,l,o,h){this._firestore=e,this._userDataWriter=i,this._key=l,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Gb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(s0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Gb extends i0{data(){return super.data()}}function s0(a,e){return typeof e=="string"?Yd(a,e):e instanceof Dc?e._internalPath:e._delegate._internalPath}class Qb{convertValue(e,i="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Mt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const l={};return $s(e,(o,h)=>{l[o]=this.convertValue(h,i)}),l}convertVectorValue(e){const i=e.fields?.[ic].arrayValue?.values?.map(l=>Ue(l.doubleValue));return new Li(i)}convertGeoPoint(e){return new Mi(Ue(e.latitude),Ue(e.longitude))}convertArray(e,i){return(e.values||[]).map(l=>this.convertValue(l,i))}convertServerTimestamp(e,i){switch(i){case"previous":const l=pc(e);return l==null?null:this.convertValue(l,i);case"estimate":return this.convertTimestamp(ro(e));default:return null}}convertTimestamp(e){const i=Fs(e);return new Ae(i.seconds,i.nanos)}convertDocumentKey(e,i){const l=Ee.fromString(e);oe(Dv(l),9688,{name:e});const o=new oo(l.get(1),l.get(3)),h=new Ct(l.popFirst(5));return o.isEqual(i)||us(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class Xr{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xa extends i0{constructor(e,i,l,o,h,d){super(e,i,l,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const l=this._document.data.field(s0("DocumentSnapshot.get",e));if(l!==null)return this._userDataWriter.convertValue(l,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new At(nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=xa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}xa._jsonSchemaVersion="firestore/documentSnapshot/1.0",xa._jsonSchema={type:Ge("string",xa._jsonSchemaVersion),bundleSource:Ge("string","DocumentSnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class Ku extends xa{data(e={}){return super.data(e)}}class eo{constructor(e,i,l,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Xr(o.hasPendingWrites,o.fromCache),this.query=l}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(l=>{e.call(i,new Ku(this._firestore,this._userDataWriter,l.key,l,new Xr(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new At(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const v=new Ku(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Xr(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const v=new Ku(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Xr(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,S=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:Yb(g.type),doc:v,oldIndex:_,newIndex:S}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new At(nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=eo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],l=[],o=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),l.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Yb(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(a){a=ao(a,We);const e=ao(a.firestore,Hd);return Vb($v(e),a._key).then(i=>Jb(e,a,i))}eo._jsonSchemaVersion="firestore/querySnapshot/1.0",eo._jsonSchema={type:Ge("string",eo._jsonSchemaVersion),bundleSource:Ge("string","QuerySnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class Kb extends Qb{constructor(e){super(),this.firestore=e}convertBytes(e){return new ai(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new We(this.firestore,null,i)}}function Xb(a,e,i,...l){a=ao(a,We);const o=ao(a.firestore,Hd),h=Pb(o);let d;return d=typeof(e=Qs(e))=="string"||e instanceof Dc?jb(h,"updateDoc",a._key,e,i,l):Bb(h,"updateDoc",a._key,e),Zb(o,[d.toMutation(a._key,rs.exists(!0))])}function Zb(a,e){return function(l,o){const h=new Hs;return l.asyncQueue.enqueueAndForget(async()=>yb(await Cb(l),o,h)),h.promise}($v(a),e)}function Jb(a,e,i){const l=i.docs.get(e._key),o=new Kb(a);return new xa(a,o,e._key,l,new Xr(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Bl=o})(TA),tc(new io("firestore",(l,{instanceIdentifier:o,options:h})=>{const d=l.getProvider("app").getImmediate(),g=new Hd(new MA(l.getProvider("auth-internal")),new zA(d,l.getProvider("app-check-internal")),function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new At(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oo(_.options.projectId,S)}(d,o),d);return h={useFetchStreams:i,...h},g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),xl(Iy,Dy,e),xl(Iy,Dy,"esm2020")})();var $b="firebase",Wb="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xl($b,Wb,"app");const t2={apiKey:"AIzaSyDL8XA6JF2L5pyz6hZPkYxCLIdwTJCR4-Y",authDomain:"kazoom-layitout.firebaseapp.com",projectId:"kazoom-layitout",storageBucket:"kazoom-layitout.firebasestorage.app",messagingSenderId:"1054171031364",appId:"1:1054171031364:web:ffc4a80699a6c297aa9911"},e2=V_(t2);function n2(){return[new Yn({name:"Template 1",id:"template1",sections:[new te({cellId:new gt({x:0,y:0}),cellsLong:500,cellsTall:300,startingItems:[new Le({cell:new gt({x:0,y:4}),item:new Yt({id:"Start 2",name:"Kitchen",cellsLong:8,cellsTall:8,icon:"custom-Kitchen",starterItem:!0,moveable:!1})})],name:"Main Area"}),new te({cellId:new gt({x:0,y:300}),cellsLong:500,cellsTall:300,startingItems:[new Le({cell:new gt({x:0,y:4}),item:new Yt({id:"Start 3",name:"Kitchen",cellsLong:8,cellsTall:8,icon:"custom-Kitchen",starterItem:!0,moveable:!1})})],name:"Kitchen"}),new te({cellId:new gt({x:500,y:300}),cellsLong:300,cellsTall:200,startingItems:[new Le({cell:new gt({x:0,y:4}),item:new Yt({id:"Start 4",name:"Kitchen",cellsLong:8,cellsTall:8,icon:"custom-Kitchen",starterItem:!0,moveable:!1})})],name:"Outdoor Area"}),new te({cellId:new gt({x:500,y:0}),cellsLong:200,cellsTall:300,startingItems:[],name:"Bathroom"})]}),new Yn({name:"Template 2",id:"template2",sections:[new te({cellId:new gt({x:0,y:0}),cellsLong:500,cellsTall:300,startingItems:[new Le({cell:new gt({x:0,y:4}),item:new Yt({id:"Start 2",name:"Kitchen",cellsLong:8,cellsTall:8,icon:"custom-Kitchen",starterItem:!0,moveable:!1})})],name:"Main Area"}),new te({cellId:new gt({x:0,y:300}),cellsLong:500,cellsTall:300,startingItems:[new Le({cell:new gt({x:0,y:4}),item:new Yt({id:"Start 3",name:"Kitchen",cellsLong:8,cellsTall:8,icon:"custom-Kitchen",starterItem:!0,moveable:!1})})],name:"Kitchen"}),new te({cellId:new gt({x:500,y:300}),cellsLong:300,cellsTall:200,startingItems:[new Le({cell:new gt({x:0,y:4}),item:new Yt({id:"Start 4",name:"Kitchen",cellsLong:8,cellsTall:8,icon:"custom-Kitchen",starterItem:!0,moveable:!1})})],name:"Outdoor Area"}),new te({cellId:new gt({x:500,y:0}),cellsLong:200,cellsTall:300,startingItems:[],name:"Bathroom"})]}),new Yn({name:"Template 3",id:"template3",sections:[new te({cellId:new gt({x:0,y:0}),cellsLong:500,cellsTall:300,startingItems:[new Le({cell:new gt({x:0,y:4}),item:new Yt({id:"Start 2",name:"Kitchen",cellsLong:8,cellsTall:8,icon:"custom-Kitchen",starterItem:!0,moveable:!1})})],name:"Main Area"}),new te({cellId:new gt({x:0,y:300}),cellsLong:500,cellsTall:300,startingItems:[new Le({cell:new gt({x:0,y:4}),item:new Yt({id:"Start 3",name:"Kitchen",cellsLong:8,cellsTall:8,icon:"custom-Kitchen",starterItem:!0,moveable:!1})})],name:"Kitchen"}),new te({cellId:new gt({x:500,y:300}),cellsLong:300,cellsTall:200,startingItems:[new Le({cell:new gt({x:0,y:4}),item:new Yt({id:"Start 4",name:"Kitchen",cellsLong:8,cellsTall:8,icon:"custom-Kitchen",starterItem:!0,moveable:!1})})],name:"Outdoor Area"}),new te({cellId:new gt({x:500,y:0}),cellsLong:200,cellsTall:300,startingItems:[],name:"Hallway"})]})]}function i2(){return new no({name:"Local Area",id:"vY4BHs3ebZZ1MUnqTEi7",templates:n2(),inventoryItems:[new li({quantity:60,item:new Yt({id:"1",name:"Chair",cellsLong:2,cellsTall:2,icon:"./assets/chair.png",displayItem:!0})}),new li({quantity:4,item:new Yt({id:"2",name:"Table",cellsLong:8,cellsTall:4,icon:"./assets/rectangle_table.png",displayItem:!0})}),new li({quantity:8,item:new Yt({id:"3",name:"Rounded Table",cellsLong:4,cellsTall:4,icon:"./assets/rounded_table.png",displayItem:!0})})],sections:[new te({cellId:new gt({x:0,y:0}),cellsLong:500,cellsTall:300,startingItems:[new Le({cell:new gt({x:0,y:4}),item:new Yt({id:"Start 2",name:"Kitchen",cellsLong:8,cellsTall:8,icon:"custom-Kitchen",starterItem:!0,moveable:!1})})],name:"Main Area"}),new te({cellId:new gt({x:500,y:300}),cellsLong:300,cellsTall:200,startingItems:[new Le({cell:new gt({x:0,y:4}),item:new Yt({id:"Start 4",name:"Kitchen",cellsLong:8,cellsTall:8,icon:"custom-Kitchen",starterItem:!0,moveable:!1})})],name:"Outdoor Area"}),new te({cellId:new gt({x:500,y:0}),cellsLong:200,cellsTall:300,startingItems:[],name:"Bathroom"}),new te({cellId:new gt({x:0,y:300}),cellsLong:500,cellsTall:300,startingItems:[new Le({cell:new gt({x:0,y:4}),item:new Yt({id:"Start 3",name:"Kitchen",cellsLong:8,cellsTall:8,icon:"custom-Kitchen",starterItem:!0,moveable:!1})})],name:"Kitchen"})]})}const s2=Mb(e2),a0=Ob(s2,"companies");async function a2(a,e){{const i=fc(a0,a),l=fc(i,"areas",e),o=await Fb(l);if(o.exists()){const h=o.data();return no.fromDoc(h)}else return console.error("No such area document!"),i2()}}async function l2(a,e,i){{const l=fc(a0,a),o=fc(l,"areas",e);await Xb(o,{templates:i.map(h=>h.toDoc())})}}function r2(){const[a,e]=mt.useState(/Mobi|Android/i.test(navigator.userAgent)),[i,l]=mt.useState(0),[o,h]=mt.useState(0),[d,g]=mt.useState([]),[v,_]=mt.useState([]),[S,D]=mt.useState(0),[V,k]=mt.useState(null),[K,tt]=mt.useState([]),H=/Mobi|Android/i.test(navigator.userAgent)?5:10,[lt,ot]=mt.useState([]),ct=mt.useRef(null),[Vt,vt]=mt.useState(!1),[Tt,x]=mt.useState([]),[A,w]=mt.useState([]),[b,N]=mt.useState([]),[M,I]=mt.useState(!1),Se=mt.useRef(null),[ye,Q]=mt.useState([]),[ut,_t]=mt.useState([]),[Dt,C]=mt.useState(null),[J,dt]=mt.useState(!1),[st,St]=mt.useState(!1),[Ut,It]=mt.useState(""),[_e,le]=mt.useState(""),[bt,kt]=mt.useState(""),[Bt,ee]=mt.useState(!0),[en,ie]=mt.useState(null),ze=mt.useRef(null);function Qe(L,F){for(const rt of F)if(L.x>=rt.cellId.x&&L.x<rt.cellId.x+rt.cellsLong&&L.y>=rt.cellId.y&&L.y<rt.cellId.y+rt.cellsTall)return rt;return null}function Pe(L){x([...L.map(it=>new te({name:it.name,cellId:new gt({x:it.cellId.x/2,y:it.cellId.y/2}),cellsLong:it.cellsLong/2,cellsTall:it.cellsTall/2,startingItems:[]}))]);let F=i,rt=o;if(a){let it=0;const Rt=[],ht=[];for(const j of L){const at=[],Nt={width:j.cellsLong*H,height:j.cellsTall*H,sectionName:j.name};Nt.height>it&&(it=Nt.height),Q(Ve=>[...Ve,Nt]),j.cellId.x=0,j.cellId.y=0,[...Array(Nt.height/H).keys()].map(Ve=>{const sn=[];[...Array(Nt.width/H).keys()].map(Un=>{sn.push({id:new gt({x:Un,y:Ve}),hasItem:!1,itemId:"",mouseOver:!1,canPlaceItem:!1,mouseOverLocation:"",inSection:!0,size:H})}),at.push(sn)}),Rt.push({sectionName:j.name,cells:[...at]}),ht.push(j)}_t(Rt),w(ht),D(it),C(L[0]?L[0].name:null),ee(!1),setTimeout(()=>{},300)}else{const it=[];for(const Rt of L)console.log("Generating cells for section",Rt.name,"at",Rt.cellId,"with size",Rt.cellsLong,"x",Rt.cellsTall),console.log("Needed section Width:",(Rt.cellsLong+Rt.cellId.x)*H,"Current width:",F),(Rt.cellsLong+Rt.cellId.x)*H>F&&(console.log("Added section Width:",Rt.cellsLong*H+Rt.cellId.x),F+=(Rt.cellsLong+Rt.cellId.x)*H-F),console.log("Needed section Height:",(Rt.cellsTall+Rt.cellId.y)*H,"Current height:",rt),(Rt.cellsTall+Rt.cellId.y)*H>rt&&(console.log("Added section Height:",Rt.cellsTall*H+Rt.cellId.y),rt+=(Rt.cellsTall+Rt.cellId.y)*H-rt);l(F),h(rt),[...Array(rt/H).keys()].map(Rt=>{const ht=[];[...Array(F/H).keys()].map(j=>{ht.push({id:new gt({x:j,y:Rt}),hasItem:!1,itemId:"",mouseOver:!1,canPlaceItem:!1,mouseOverLocation:"",inSection:Qe(new gt({x:j,y:Rt}),L)!=null,size:H})}),it.push(ht)}),g([...it]),setTimeout(()=>{const Rt=[],ht=[...L];for(const j of ht)j.cellElement=document.querySelector(`.App #${j.cellId.toId()}.cell:not(.cell-border)`),Rt.push(...j.startingItems.map(at=>new Le({cell:new gt({x:j.cellId.x+at.cell.x,y:j.cellId.y+at.cell.y}),item:new Yt({id:at.item.id,name:at.item.name,cellsLong:at.item.cellsLong,cellsTall:at.item.cellsTall,icon:at.item.icon,initialElement:document.querySelector(`.App #${at.cell.toId()}.cell:not(.cell-border)`),starterItem:!0,moveable:at.item.moveable})})));w([...ht]);for(const j of Rt){for(let at=0;at<j.item.cellsTall;at++)for(let Nt=0;Nt<j.item.cellsLong;Nt++)it[j.cell.y+at][j.cell.x+Nt].hasItem=!0,it[j.cell.y+at][j.cell.x+Nt].itemId=j.item.id;j.item.initialElement=document.querySelector(`.App #${j.cell.toId()}.cell:not(.cell-border)`),_(at=>[...at,j.item])}g([...it]),ee(!1)},100)}}async function gi(){const L=new URLSearchParams(window.location.search),F=L.get("companyId"),rt=L.get("areaId"),it=L.get("areaId")||"",Rt=L.get("companyId")||"",ht=L.get("templateId")||"",j=await a2(Rt,it),at=L.get("type")||"";if(at==="create-template")dt(!0);else if(at==="edit-template"){St(!0);const Et=j.templates.find(he=>he.id===ht);Et&&(ie(Et),It(Et.name))}F&&le(F),rt&&kt(rt),ot(j.inventoryItems.map(Et=>new li({item:new Yt({id:Et.item.id,name:Et.item.name,cellsLong:Et.item.cellsLong,cellsTall:Et.item.cellsTall,icon:Et.item.icon,initialElement:Et.item.initialElement,moveable:Et.item.moveable,starterItem:Et.item.starterItem,displayItem:!0}),quantity:Et.quantity})));const Nt=[],Ve=[];for(const Et of j.templates){const he=[],oi=[];for(const Ye of Et.sections)he.push(new te({name:Ye.name,cellId:new gt({x:Ye.cellId.x/(a?20:10),y:Ye.cellId.y/(a?20:10)}),cellsLong:Ye.cellsLong/(a?20:10),cellsTall:Ye.cellsTall/(a?20:10),startingItems:Ye.startingItems.map(ve=>new Le({cell:new gt({x:ve.cell.x/(a?2:1),y:ve.cell.y/(a?2:1)}),item:new Yt({id:ve.item.id,name:ve.item.name,cellsLong:ve.item.cellsLong/2,cellsTall:ve.item.cellsTall/2,icon:ve.item.icon,starterItem:!0,moveable:ve.item.moveable})}))})),oi.push(new te({name:Ye.name,cellId:new gt({x:Ye.cellId.x,y:Ye.cellId.y}),cellsLong:Ye.cellsLong,cellsTall:Ye.cellsTall,startingItems:Ye.startingItems.map(ve=>new Le({cell:new gt({x:ve.cell.x,y:ve.cell.y}),item:new Yt({id:ve.item.id,name:ve.item.name,cellsLong:ve.item.cellsLong,cellsTall:ve.item.cellsTall,icon:ve.item.icon,starterItem:!0,moveable:ve.item.moveable})}))}));Nt.push(new Yn({name:Et.name,sections:he,id:Et.id})),Ve.push(new Yn({name:Et.name,sections:oi,id:Et.id}))}N([...Nt]);const sn=[],Un=ht===""?void 0:Ve.find(Et=>Et.id===ht);console.log("TEMPLATE",Un,"AREA",j),Un!==void 0?(x([...Un.sections]),w([...Un.sections.map(Et=>new te({name:Et.name,cellId:new gt({x:Et.cellId.x/10,y:Et.cellId.y/10}),cellsLong:Et.cellsLong/10,cellsTall:Et.cellsTall/10,startingItems:Et.startingItems,items:Et.startingItems.map(he=>new Yt({id:he.item.id,name:he.item.name,sectionCell:he.cell,cellsLong:he.item.cellsLong,cellsTall:he.item.cellsTall,icon:he.item.icon,moveable:he.item.moveable,starterItem:he.item.starterItem}))}))]),sn.push(...Un.sections.map(Et=>new te({name:Et.name,cellId:new gt({x:Et.cellId.x/10,y:Et.cellId.y/10}),cellsLong:Et.cellsLong/10,cellsTall:Et.cellsTall/10,startingItems:Et.startingItems,items:Et.startingItems.map(he=>new Yt({id:he.item.id,name:he.item.name,cellsLong:he.item.cellsLong,cellsTall:he.item.cellsTall,icon:he.item.icon,moveable:he.item.moveable,starterItem:he.item.starterItem,sectionCell:he.cell}))})))):(x([...j.sections]),w([...j.sections.map(Et=>new te({name:Et.name,cellId:new gt({x:Et.cellId.x/10,y:Et.cellId.y/10}),cellsLong:Et.cellsLong/10,cellsTall:Et.cellsTall/10,startingItems:Et.startingItems}))]),sn.push(...j.sections.map(Et=>new te({name:Et.name,cellId:new gt({x:Et.cellId.x/10,y:Et.cellId.y/10}),cellsLong:Et.cellsLong/10,cellsTall:Et.cellsTall/10,startingItems:Et.startingItems})))),Pe(sn)}mt.useEffect(()=>{gi()},[]);function vn(L,F,rt){if(!a||L==null)return;const it=[...rt],Rt=[],ht=rt.find(j=>j.name==L);console.log("NEW SECTION",ht),console.log("Adding section",ht.name,ht.cellId),console.log("MOBILE CELLS",F),ht.cellElement=document.querySelector(`.App #${ht.name.split(" ").join("-")} #${ht.name.split(" ").join("")}${ht.cellId.toId()}.cell:not(.cell-border)`),console.log("Section element found",ht.cellElement);for(const j of ht.startingItems){console.log("Placing starting item",j.item.name,j.cell);for(let at=0;at<j.item.cellsTall;at++)for(let Nt=0;Nt<j.item.cellsLong;Nt++){const Ve=F.find(sn=>sn.sectionName===ht.name);Ve.cells[j.cell.y+at][j.cell.x+Nt].hasItem=!0,Ve.cells[j.cell.y+at][j.cell.x+Nt].itemId=j.item.id}j.item.initialElement=document.querySelector(`.App #${ht.name.split(" ").join("-")} #${ht.name.split(" ").join("")}${j.cell.toId()}.cell:not(.cell-border)`),console.log("Adding item to items",j.item.initialElement),Rt.push(new Yt({id:j.item.id,name:j.item.name,cellsLong:j.item.cellsLong,cellsTall:j.item.cellsTall,icon:j.item.icon,initialElement:j.item.initialElement,starterItem:!0,moveable:j.item.moveable}))}console.log("Setting sections",it),w([...it]),console.log("ITEMS",Rt),_(j=>[...j.filter(Nt=>!Rt.some(Ve=>Ve.id===Nt.id)),...Rt.map(Nt=>new Yt({id:Nt.id,name:Nt.name,cellsLong:Nt.cellsLong,cellsTall:Nt.cellsTall,icon:Nt.icon,initialElement:Nt.initialElement,starterItem:!0,moveable:Nt.moveable}))])}function xn(L){let F=[];return L.map(rt=>F=[...F,...rt]),F}function Ln(L,F){console.log(L);const rt=a?ut.find(j=>j.sectionName===Dt).cells:d,it=rt[L.y].length,Rt=rt.length;if(console.log(it,Rt),L.x+F.cellsLong>it||L.y+F.cellsTall>Rt)return!1;const ht=Qe(L,A);if(!ht&&!a)return console.log("Item is out of bounds of any section"),!1;for(let j=0;j<F.cellsTall;j++)for(let at=0;at<F.cellsLong;at++){if(!a){const Nt=Qe(new gt({x:L.x+at,y:L.y+j}),A);if(!Nt)return console.log("Item is out of bounds of any section"),!1;if(Nt.name!=ht.name)return console.log("Item is crossing section boundaries"),!1}if(rt[L.y+j][L.x+at].hasItem&&rt[L.y+j][L.x+at].itemId!=F.id)return console.log("Something is already here"),!1}return!0}function hs(L,F,rt){const it=Array.from(a?ut.find(j=>j.sectionName===Dt).cells:d);if(rt!=null){console.log("Removing item");const j=a?A.find(at=>at.name===Dt):Qe(rt,A);j.items=j.items.filter(at=>at.id!=F.id);for(let at=0;at<F.cellsTall;at++)for(let Nt=0;Nt<F.cellsLong;Nt++)it[rt.y+at][rt.x+Nt].hasItem=!1,it[rt.y+at][rt.x+Nt].itemId=""}const Rt=a?A.find(j=>j.name===Dt):Qe(L,A),ht=new gt({x:L.x-Rt.cellId.x,y:L.y-Rt.cellId.y});F.sectionCell=ht,Rt.items.push(F);for(let j=0;j<F.cellsTall;j++)for(let at=0;at<F.cellsLong;at++)it[L.y+j][L.x+at].hasItem=!0,it[L.y+j][L.x+at].itemId=F.id;if(console.log(it),a){const j=ut.find(at=>at.sectionName===Dt);j&&(j.cells=it.map(at=>at.map(Nt=>({...Nt}))),_t([...ut]))}else g(it);if(console.log("Removing item from inventory",F.name),!F.hasMoved){const j=lt.findIndex(at=>at.item.name==F.name&&!at.item.hasMoved);if(j!==-1){const at=[...lt];at[j].quantity-=1,at[j].quantity<=0&&at.splice(j,1),ot(at)}else ot(lt)}_(j=>(console.log("Placing item",F.id),console.log("Updating item",F.id),j.find(at=>at.id==F.id).hasMoved||(j.find(at=>at.id==F.id).hasMoved=!0),j))}function ri(L){v.find(F=>F.name==L.name&&!F.hasMoved&&!F.starterItem)||_(F=>[...F,L])}function fs(L){console.log("Removing item",L.id),_(F=>F.filter(rt=>rt.id!=L.id))}function Ua(L,F){const rt=Array.from(d),it=j=>{const at=j%2===1;return{cellsWide:at?L.cellsTall:L.cellsLong,cellsTall:at?L.cellsLong:L.cellsTall}},Rt=L.roation||0,ht=it(Rt);for(let j=0;j<ht.cellsTall;j++)for(let at=0;at<ht.cellsWide;at++)rt[F.y+j][F.x+at].hasItem=!1,rt[F.y+j][F.x+at].itemId="";g(rt),console.log("DELETING ITEM",L.id),_(j=>(console.log(),j.filter(at=>at.id!=L.id))),ot(j=>{const at=j.findIndex(Nt=>Nt.item.name==L.name&&!Nt.item.hasMoved);if(at!==-1){const Nt=[...j];return Nt[at].quantity+=1,Nt}else return[...j,new li({item:new Yt({id:L.id,name:L.name,cellsLong:ht.cellsWide,cellsTall:ht.cellsTall,icon:L.icon}),quantity:1})]})}function be(L,F){const rt=Array.from(d);console.log("DELETING ITEM ROTATE",L.id,L.roation);const it=j=>{const at=j%2===1;return{cellsWide:at?L.cellsTall:L.cellsLong,cellsTall:at?L.cellsLong:L.cellsTall}},Rt=L.roation||0,ht=it(Rt);for(let j=0;j<ht.cellsTall;j++)for(let at=0;at<ht.cellsWide;at++)rt[F.y+j][F.x+at].hasItem=!1,rt[F.y+j][F.x+at].itemId="";g(rt),console.log("DELETING ITEM",L.id)}function se(L,F){const rt=a?ut.find(ht=>ht.sectionName===Dt).cells:d,it=Array.from(rt);if(console.log("HIGHLIGHTING CELLS",L,F),console.log("Function Cells",rt),console.log("d",rt[L.y]),rt[L.y]==null){console.log("Start cell is out of bounds, unhighlighting cells d"),Tn();return}const Rt=Ln(L,F);it.forEach(ht=>ht.forEach(j=>{j.mouseOver=!1,j.canPlaceItem=!1,j.mouseOverLocation=""})),console.log("Highlighting cells for item",F.name,"Cells Long",F.cellsLong,"Cells Tall",F.cellsTall);for(let ht=0;ht<F.cellsTall;ht++)for(let j=0;j<F.cellsLong;j++)L.y+ht<it.length&&L.x+j<it[L.y+ht].length&&(F.cellsLong===1&&F.cellsTall===1?it[L.y+ht][L.x+j].mouseOverLocation="single":F.cellsTall===1?j===0?it[L.y+ht][L.x+j].mouseOverLocation="leftFull":j===F.cellsLong-1?it[L.y+ht][L.x+j].mouseOverLocation="rightFull":it[L.y+ht][L.x+j].mouseOverLocation="middleFull":F.cellsLong===1?ht===0?it[L.y+ht][L.x+j].mouseOverLocation="topFull":ht===F.cellsTall-1?it[L.y+ht][L.x+j].mouseOverLocation="bottomFull":it[L.y+ht][L.x+j].mouseOverLocation="middleVFull":ht===0&&j===0?it[L.y+ht][L.x+j].mouseOverLocation="topLeftCorner":ht===0&&j===F.cellsLong-1?it[L.y+ht][L.x+j].mouseOverLocation="topRightCorner":ht===F.cellsTall-1&&j===0?it[L.y+ht][L.x+j].mouseOverLocation="bottomLeftCorner":ht===F.cellsTall-1&&j===F.cellsLong-1?it[L.y+ht][L.x+j].mouseOverLocation="bottomRightCorner":ht===0?it[L.y+ht][L.x+j].mouseOverLocation="top":ht===F.cellsTall-1?it[L.y+ht][L.x+j].mouseOverLocation="bottom":j===0?it[L.y+ht][L.x+j].mouseOverLocation="left":j===F.cellsLong-1?it[L.y+ht][L.x+j].mouseOverLocation="right":it[L.y+ht][L.x+j].mouseOverLocation="middle",it[L.y+ht][L.x+j].mouseOver=!0,it[L.y+ht][L.x+j].canPlaceItem=Rt);if(a){const ht=ut.find(j=>j.sectionName===Dt);ht&&(ht.cells=it.map(j=>j.map(at=>({...at}))),_t([...ut])),_t(j=>j.map(at=>at.sectionName===Dt?{...at,cells:it}:at))}else g(it)}function Tn(){const L=Array.from(a?ut.find(F=>F.sectionName===Dt).cells:d);L.forEach(F=>F.forEach(rt=>{rt.mouseOver=!1,rt.canPlaceItem=!1,rt.mouseOverLocation=""})),g(L)}mt.useEffect(()=>{vn(Dt,ut,A)},[Dt]),mt.useEffect(()=>{const L=()=>{const F=v.find(rt=>rt.id===V);console.log("Unselecting item",V),k(null),F&&(tt(rt=>[...rt,F.id]),console.log("Unselecting item",F.id),setTimeout(()=>{tt(rt=>rt.filter(it=>it!==F.id))},300))};return document.addEventListener("click",L),()=>document.removeEventListener("click",L)},[V,v]);function nn(L){k(null),tt(F=>[...F,L]),console.log("Unselecting item",L),setTimeout(()=>{tt(F=>F.filter(rt=>rt!==L))},300)}function za(L){const F=v.find(rt=>rt.id===V);console.log("Unselecting item",V),k(L),F&&(tt(rt=>[...rt,F.id]),console.log("Unselecting item",F.id),setTimeout(()=>{tt(rt=>rt.filter(it=>it!==F.id))},300))}function Hl(L){ot(F=>[...F,L])}return et.jsxs(et.Fragment,{children:[et.jsxs("div",{className:"App",children:[et.jsx("h1",{className:"title",children:"LayItOut"}),et.jsx("br",{}),(J||st)&&et.jsxs("div",{className:"template-name-row",children:[et.jsx("label",{htmlFor:"template-name",children:"Template Name:"}),et.jsx("input",{type:"text",id:"template-name",name:"template-name",onChange:L=>It(L.target.value),value:Ut})]}),(J||st)&&et.jsxs("div",{className:"template-creation",children:[et.jsxs("button",{className:"action-btn",onClick:()=>{if(Ut.trim()==""){alert("Please enter a template name");return}if(b.some(L=>L.name===Ut&&(st?L.id!==en.id:!0))){alert("Template with this name already exists");return}if(st){const L=b.map(F=>F.id===en.id?(console.log("SECTION",A),new Yn({name:Ut,sections:A.map(rt=>new te({name:rt.name,cellId:new gt({x:F.sections.find(it=>it.name==rt.name).cellId.x*(a?20:10),y:F.sections.find(it=>it.name==rt.name).cellId.y*(a?20:10)}),cellsLong:rt.cellsLong*10,cellsTall:rt.cellsTall*10,startingItems:rt.items.map(it=>new Le({cell:new gt({x:it.sectionCell.x,y:it.sectionCell.y}),item:new Yt({id:it.id,name:it.name,cellsLong:it.cellsLong,cellsTall:it.cellsTall,icon:it.icon,starterItem:!0,moveable:it.moveable})}))})),id:F.id})):new Yn({name:F.name,sections:F.sections.map(rt=>new te({name:rt.name,cellId:new gt({x:rt.cellId.x*(a?20:10),y:rt.cellId.y*(a?20:10)}),cellsLong:rt.cellsLong*(a?20:10),cellsTall:rt.cellsTall*(a?20:10),startingItems:rt.startingItems.map(it=>new Le({cell:new gt({x:it.cell.x*(a?2:1),y:it.cell.y*(a?2:1)}),item:new Yt({id:it.item.id,name:it.item.name,cellsLong:it.item.cellsLong,cellsTall:it.item.cellsTall,icon:it.item.icon,starterItem:it.item.starterItem,moveable:it.item.moveable})}))})),id:F.id}));ee(!0),l2(_e,bt,L).then(()=>{console.log("Template updated successfully"),ee(!1)})}},children:[J?"Create":"Save"," Template"]}),et.jsx("button",{className:"action-btn",onClick:()=>{dt(!1),N([]),x([]),w([]),_t([]),Q([]),C(null)},children:"Cancel"})]}),Bt&&et.jsxs(et.Fragment,{children:[et.jsx("div",{className:"loader-backdrop"}),et.jsx("div",{className:"loader"})]})," ",et.jsxs("div",{className:"layout",children:[et.jsx(HT,{isEditingTemplate:st,isCreatingTemplate:J,maxHeight:a?200:o,showAddCustomItem:()=>{ze.current?.showModal()},addDraggingItem:ri,removeItem:fs,inventoryItems:lt.map(L=>new li({item:new Yt({id:L.item.id,name:L.item.name,cellsLong:L.item.cellsLong,cellsTall:L.item.cellsTall,icon:L.item.icon,displayItem:!0}),quantity:L.quantity}))}),a?et.jsxs("div",{className:"mobile-areas",style:{height:S+"px"},children:[et.jsx("img",{src:Zu,onClick:()=>{const L=A.findIndex(rt=>rt.name==Dt);if(L===-1)return;const F=(L-1+A.length)%A.length;C(A[F].name),console.log("Changing viewing section to",A[F].name)},className:"back-mobile-areas"}),ye.map((L,F)=>et.jsx(Xu,{width:L.width,height:L.height,cells:xn(ut.find(rt=>rt.sectionName==L.sectionName).cells),id:L.sectionName,visibile:Dt==null?!0:L.sectionName==Dt,section:L.sectionName},F)),et.jsx("img",{src:Zu,onClick:()=>{const L=A.findIndex(rt=>rt.name==Dt);if(L===-1)return;const F=(L+1)%A.length;C(A[F].name),console.log("Changing viewing section to",A[F].name)},className:"forward-mobile-areas"})]}):et.jsx(Xu,{width:i,height:o,cells:xn(d)})]})]}),A.map(L=>et.jsx(fd,{section:L,visible:Dt==null?!0:L.name==Dt,cellSize:H},L.cellId.toId())),v.map(L=>et.jsx(S_,{removeItem:fs,visible:a?!L.hasMoved&&!L.starterItem?!0:Dt==null?!1:L.starterItem?A.find(F=>F.name==Dt)?.startingItems.some(F=>F.item.id===L.id):A.find(F=>F.name==Dt)?.items.some(F=>F.id===L.id):!0,item:L,canPlaceItem:Ln,placeItem:hs,deleteItemRotate:be,highlightCells:se,unHighlightCells:Tn,deleteItem:Ua,isSelected:V===L.id,onSelect:za,isUnselecting:K.includes(L.id),onDeselect:()=>nn(L.id)},L.id)),a&&!Bt&&et.jsx("div",{className:"layout-icon",onClick:()=>{ct.current?.showModal(),vt(!0),console.log("Showing layout dialog")},children:et.jsx("img",{src:QT,alt:""})}),!Bt&&!(J||st)&&et.jsx("div",{className:"template-icon",onClick:()=>{Se.current?.showModal(),I(!0),console.log("Showing template dialog")},children:et.jsx("img",{src:YT,alt:""})}),et.jsx(FT,{dialogRef:Se,isOpen:M,closeDialog:()=>{Se.current?.close(),I(!1)},templates:b}),et.jsx(GT,{dialogRef:ct,isOpen:Vt,closeDialog:()=>{ct.current?.close(),vt(!1)},layoutSections:Tt}),et.jsx(KT,{dialogRef:ze,addInventoryItem:Hl,closeDialog:()=>{ze.current?.close()}})]})}BT.createRoot(document.getElementById("root")).render(et.jsx(r2,{}));
